"use strict";var qz=Object.defineProperty,Zz=Object.defineProperties,Wz=Object.getOwnPropertyDescriptors,GN=Object.getOwnPropertySymbols,Kz=Object.prototype.hasOwnProperty,Yz=Object.prototype.propertyIsEnumerable,zN=(it,Ee,P)=>Ee in it?qz(it,Ee,{enumerable:!0,configurable:!0,writable:!0,value:P}):it[Ee]=P,qN=(it,Ee)=>{for(var P in Ee||(Ee={}))Kz.call(Ee,P)&&zN(it,P,Ee[P]);if(GN)for(var P of GN(Ee))Yz.call(Ee,P)&&zN(it,P,Ee[P]);return it},ZN=(it,Ee)=>Zz(it,Wz(Ee));(self.webpackChunkfirebase=self.webpackChunkfirebase||[]).push([[179],{2011:(it,Ee,P)=>{P.d(Ee,{Dh:()=>de,GT:()=>me,cc:()=>Se,hO:()=>$e,on:()=>$,pX:()=>ae,xv:()=>ge});var c=P(5e3),ee=P(127),N=P(5813);it=P.hmd(it);const ue=["ngOnDestroy"],ae=(Ie,Ke,nt,Ae={})=>new Proxy(Ie,{get:(ye,De)=>nt.runOutsideAngular(()=>{var Be;if(Ie[De])return(null===(Be=null==Ae?void 0:Ae.spy)||void 0===Be?void 0:Be.get)&&Ae.spy.get(De,Ie[De]),Ie[De];if(ue.indexOf(De)>-1)return()=>{};const je=Ke.toPromise().then(W=>{const Ce=W&&W[De];return"function"==typeof Ce?Ce.bind(W):Ce&&Ce.then?Ce.then(Y=>nt.run(()=>Y)):nt.run(()=>Ce)});return new Proxy(()=>{},{get:(W,Ce)=>je[Ce],apply:(W,Ce,Y)=>je.then(re=>{var te;const _e=re&&re(...Y);return(null===(te=null==Ae?void 0:Ae.spy)||void 0===te?void 0:te.apply)&&Ae.spy.apply(De,Y,_e),_e})})})}),me=(Ie,Ke)=>{Ke.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(Ae=>{Object.defineProperty(Ie.prototype,Ae,Object.getOwnPropertyDescriptor(nt.prototype||nt,Ae))})})};class ie{constructor(Ke){return Ke}}const de=new c.OlP("angularfire2.app.options"),ge=new c.OlP("angularfire2.app.name");function $(Ie,Ke,nt){const ye="object"==typeof nt&&nt||{};ye.name=ye.name||"string"==typeof nt&&nt||"[DEFAULT]";const Be=ee.Z.apps.filter(je=>je&&je.name===ye.name)[0]||Ke.runOutsideAngular(()=>ee.Z.initializeApp(Ie,ye));try{JSON.stringify(Ie)!==JSON.stringify(Be.options)&&z("error",`${Be.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ie(Be)}const z=(Ie,...Ke)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ke)},ne={provide:ie,useFactory:$,deps:[de,c.R0b,[new c.FiY,ge]]};let $e=(()=>{class Ie{constructor(nt){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",c.q4F.full,nt.toString())}static initializeApp(nt,Ae){return{ngModule:Ie,providers:[{provide:de,useValue:nt},{provide:ge,useValue:Ae}]}}}return Ie.\u0275fac=function(nt){return new(nt||Ie)(c.LFG(c.Lbi))},Ie.\u0275mod=c.oAB({type:Ie}),Ie.\u0275inj=c.cJS({providers:[ne]}),Ie})();function Se(Ie,Ke,nt,Ae,ye){const[,De,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Ie)||[];if(De)return function Re(Ie,Ke){try{return Ie.toString()===Ke.toString()}catch(nt){return Ie===Ke}}(ye,Be)||(fe("error",`${Ke} was already initialized on the ${nt} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ye,was:Be})),De;{const je=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ie,je,ye]),je}}const He=!!it.hot,fe=(Ie,...Ke)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,Ee,P)=>{P.d(Ee,{q4:()=>Bt,iC:()=>Jl,fc:()=>Qd,HU:()=>Jm,vb:()=>Yd,JM:()=>Ql});var c=P(5e3),ee=P(5867),N=P(5861),ue=P(9681),ae=P(2090),me=P(4859),ie=P(1877),de=P(8766);const ge="@firebase/installations",$="0.5.12",ne=`w:${$}`,$e="FIS_v2",Ke=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(C){return C instanceof ae.ZR&&C.code.includes("request-failed")}function Ae({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function ye(C){return{token:C.token,requestStatus:2,expiresIn:re(C.expiresIn),creationTime:Date.now()}}function De(C,T){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(C,T){const V=(yield T.json()).error;return Ke.create("request-failed",{requestName:C,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function W(C,{refreshToken:T}){const M=je(C);return M.append("Authorization",function te(C){return`${$e} ${C}`}(T)),M}function Ce(C){return Y.apply(this,arguments)}function Y(){return(Y=(0,N.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function re(C){return Number(C.replace("s","000"))}function _e(C,T){return le.apply(this,arguments)}function le(){return(le=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:M}){const V=Ae(C),Q=je(C),oe=T.getImmediate({optional:!0});if(oe){const It=yield oe.getHeartbeatsHeader();It&&Q.append("x-firebase-client",It)}const qe={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:$e,appId:C.appId,sdkVersion:ne})},ut=yield Ce(()=>fetch(V,qe));if(ut.ok){const It=yield ut.json();return{fid:It.fid||M,registrationStatus:2,refreshToken:It.refreshToken,authToken:ye(It.authToken)}}throw yield De("Create Installation",ut)})).apply(this,arguments)}function Pe(C){return new Promise(T=>{setTimeout(T,C)})}const qt=/^[cdef][\w-]{21}$/;function Xe(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function tn(C){return function pt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return qt.test(M)?M:""}catch(C){return""}}function xn(C){return`${C.appName}!${C.appId}`}const ln=new Map;function Jt(C,T){const M=xn(C);Ut(M,T),function Is(C,T){const M=function Ci(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=C=>{Ut(C.data.key,C.data.fid)}),pr}();M&&M.postMessage({key:C,fid:T}),function er(){0===ln.size&&pr&&(pr.close(),pr=null)}()}(M,T)}function Ut(C,T){const M=ln.get(C);if(M)for(const V of M)V(T)}let pr=null;const tr="firebase-installations-store";let Wr=null;function wt(){return Wr||(Wr=(0,de.X3)("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(tr)}})),Wr}function nr(C,T){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,N.Z)(function*(C,T){const M=xn(C),Q=(yield wt()).transaction(tr,"readwrite"),oe=Q.objectStore(tr),Te=yield oe.get(M);return yield oe.put(T,M),yield Q.done,(!Te||Te.fid!==T.fid)&&Jt(C,T.fid),T})).apply(this,arguments)}function Xn(C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,N.Z)(function*(C){const T=xn(C),V=(yield wt()).transaction(tr,"readwrite");yield V.objectStore(tr).delete(T),yield V.done})).apply(this,arguments)}function Ds(C,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,N.Z)(function*(C,T){const M=xn(C),Q=(yield wt()).transaction(tr,"readwrite"),oe=Q.objectStore(tr),Te=yield oe.get(M),qe=T(Te);return void 0===qe?yield oe.delete(M):yield oe.put(qe,M),yield Q.done,qe&&(!Te||Te.fid!==qe.fid)&&Jt(C,qe.fid),qe})).apply(this,arguments)}function Un(C){return Or.apply(this,arguments)}function Or(){return(Or=(0,N.Z)(function*(C){let T;const M=yield Ds(C.appConfig,V=>{const Q=sa(V),oe=Zt(C,Q);return T=oe.registrationPromise,oe.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function sa(C){return Zs(C||{fid:Xe(),registrationStatus:0})}function Zt(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ke.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(C,T){return Dt.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ii(C)}:{installationEntry:T}}function Dt(){return(Dt=(0,N.Z)(function*(C,T){try{const M=yield _e(C,T);return nr(C.appConfig,M)}catch(M){throw nt(M)&&409===M.customData.serverCode?yield Xn(C.appConfig):yield nr(C.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Ii(C){return mr.apply(this,arguments)}function mr(){return(mr=(0,N.Z)(function*(C){let T=yield $t(C.appConfig);for(;1===T.registrationStatus;)yield Pe(100),T=yield $t(C.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield Un(C);return V||M}return T})).apply(this,arguments)}function $t(C){return Ds(C,T=>{if(!T)throw Ke.create("installation-not-found");return Zs(T)})}function Zs(C){return function Di(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Vi(C,T){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:T},M){const V=Ws(C,M),Q=W(C,M),oe=T.getImmediate({optional:!0});if(oe){const It=yield oe.getHeartbeatsHeader();It&&Q.append("x-firebase-client",It)}const qe={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:ne,appId:C.appId}})},ut=yield Ce(()=>fetch(V,qe));if(ut.ok)return ye(yield ut.json());throw yield De("Generate Auth Token",ut)})).apply(this,arguments)}function Ws(C,{fid:T}){return`${Ae(C)}/${T}/authTokens:generate`}function j(C){return Z.apply(this,arguments)}function Z(){return(Z=(0,N.Z)(function*(C,T=!1){let M;const V=yield Ds(C.appConfig,oe=>{if(!ht(oe))throw Ke.create("not-registered");const Te=oe.authToken;if(!T&&nn(Te))return oe;if(1===Te.requestStatus)return M=H(C,T),oe;{if(!navigator.onLine)throw Ke.create("app-offline");const qe=oi(oe);return M=xe(C,qe),qe}});return M?yield M:V.authToken})).apply(this,arguments)}function H(C,T){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(C,T){let M=yield q(C.appConfig);for(;1===M.authToken.requestStatus;)yield Pe(100),M=yield q(C.appConfig);const V=M.authToken;return 0===V.requestStatus?j(C,T):V})).apply(this,arguments)}function q(C){return Ds(C,T=>{if(!ht(T))throw Ke.create("not-registered");return function Vt(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function xe(C,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*(C,T){try{const M=yield Vi(C,T),V=Object.assign(Object.assign({},T),{authToken:M});return yield nr(C.appConfig,V),M}catch(M){if(!nt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield nr(C.appConfig,V)}else yield Xn(C.appConfig);throw M}})).apply(this,arguments)}function ht(C){return void 0!==C&&2===C.registrationStatus}function nn(C){return 2===C.requestStatus&&!function Wt(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function oi(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function Yr(){return(Yr=(0,N.Z)(function*(C){const T=C,{installationEntry:M,registrationPromise:V}=yield Un(T);return V?V.catch(console.error):j(T).catch(console.error),M.fid})).apply(this,arguments)}function Va(){return(Va=(0,N.Z)(function*(C,T=!1){const M=C;return yield Jn(M),(yield j(M,T)).token})).apply(this,arguments)}function Jn(C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,N.Z)(function*(C){const{registrationPromise:T}=yield Un(C);T&&(yield T)})).apply(this,arguments)}function aa(C){return Ke.create("missing-app-config-values",{valueName:C})}const rr="installations",ft=C=>{const T=C.getProvider("app").getImmediate(),M=function mi(C){if(!C||!C.options)throw aa("App Configuration");if(!C.name)throw aa("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!C.options[M])throw aa(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,ue._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},rn=C=>{const T=C.getProvider("app").getImmediate(),M=(0,ue._getProvider)(T,rr).getImmediate();return{getId:()=>function gr(C){return Yr.apply(this,arguments)}(M),getToken:Q=>function oa(C){return Va.apply(this,arguments)}(M,Q)}};(function sr(){(0,ue._registerComponent)(new me.wA(rr,ft,"PUBLIC")),(0,ue._registerComponent)(new me.wA("installations-internal",rn,"PRIVATE"))})(),(0,ue.registerVersion)(ge,$),(0,ue.registerVersion)(ge,$,"esm2017");const Qr="@firebase/remote-config",Rn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gm{constructor(T,M,V,Q){this.client=T,this.storage=M,this.storageCache=V,this.logger=Q}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,Q=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var M=this;return(0,N.Z)(function*(){const[V,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(T.cacheMaxAgeMillis,V))return Q;T.eTag=Q&&Q.eTag;const oe=yield M.client.fetch(T),Te=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Te.push(M.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Te),oe})()}}function Cd(C=navigator){return C.languages&&C.languages[0]||C.language}class Si{constructor(T,M,V,Q,oe,Te){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=V,this.projectId=Q,this.apiKey=oe,this.appId=Te}fetch(T){var M=this;return(0,N.Z)(function*(){var V,Q,oe;const[Te,qe]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},lt={sdk_version:M.sdkVersion,app_instance_id:Te,app_instance_id_token:qe,app_id:M.appId,language_code:Cd()},Gn={method:"POST",headers:xt,body:JSON.stringify(lt)},zn=fetch(It,Gn),po=new Promise((us,Br)=>{T.signal.addEventListener(()=>{const Ia=new Error("The operation was aborted.");Ia.name="AbortError",Br(Ia)})});let mo;try{yield Promise.race([zn,po]),mo=yield zn}catch(us){let Br="fetch-client-network";throw"AbortError"===(null===(V=us)||void 0===V?void 0:V.name)&&(Br="fetch-timeout"),Rn.create(Br,{originalErrorMessage:null===(Q=us)||void 0===Q?void 0:Q.message})}let cs=mo.status;const nc=mo.headers.get("ETag")||void 0;let rl,Uo;if(200===mo.status){let us;try{us=yield mo.json()}catch(Br){throw Rn.create("fetch-client-parse",{originalErrorMessage:null===(oe=Br)||void 0===oe?void 0:oe.message})}rl=us.entries,Uo=us.state}if("INSTANCE_STATE_UNSPECIFIED"===Uo?cs=500:"NO_CHANGE"===Uo?cs=304:("NO_TEMPLATE"===Uo||"EMPTY_CONFIG"===Uo)&&(rl={}),304!==cs&&200!==cs)throw Rn.create("fetch-status",{httpStatus:cs});return{status:cs,eTag:nc,config:rl}})()}}class zm{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,N.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:V}){var Q=this;return(0,N.Z)(function*(){yield function Xs(C,T){return new Promise((M,V)=>{const Q=Math.max(T-Date.now(),0),oe=setTimeout(M,Q);C.addEventListener(()=>{clearTimeout(oe),V(Rn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const oe=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Id(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(oe))throw oe;const Te={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Te),Q.attemptFetch(T,Te)}})()}}class Dd{constructor(T,M,V,Q,oe){this.app=T,this._client=M,this._storageCache=V,this._storage=Q,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function iu(C,T){var M;const V=C.target.error||void 0;return Rn.create(T,{originalErrorMessage:V&&(null===(M=V)||void 0===M?void 0:M.message)})}const Js="app_namespace_store";class Wm{constructor(T,M,V,Q=function Zm(){return new Promise((C,T)=>{var M;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=Q=>{T(iu(Q,"storage-open"))},V.onsuccess=Q=>{C(Q.target.result)},V.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(V){T(Rn.create("storage-open",{originalErrorMessage:null===(M=V)||void 0===M?void 0:M.message}))}})}()){this.appId=T,this.appName=M,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,N.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Q,oe)=>{var Te;const ut=V.transaction([Js],"readonly").objectStore(Js),It=M.createCompositeKey(T);try{const xt=ut.get(It);xt.onerror=lt=>{oe(iu(lt,"storage-get"))},xt.onsuccess=lt=>{const Gn=lt.target.result;Q(Gn?Gn.value:void 0)}}catch(xt){oe(Rn.create("storage-get",{originalErrorMessage:null===(Te=xt)||void 0===Te?void 0:Te.message}))}})})()}set(T,M){var V=this;return(0,N.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((oe,Te)=>{var qe;const It=Q.transaction([Js],"readwrite").objectStore(Js),xt=V.createCompositeKey(T);try{const lt=It.put({compositeKey:xt,value:M});lt.onerror=Gn=>{Te(iu(Gn,"storage-set"))},lt.onsuccess=()=>{oe()}}catch(lt){Te(Rn.create("storage-set",{originalErrorMessage:null===(qe=lt)||void 0===qe?void 0:qe.message}))}})})()}delete(T){var M=this;return(0,N.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Q,oe)=>{var Te;const ut=V.transaction([Js],"readwrite").objectStore(Js),It=M.createCompositeKey(T);try{const xt=ut.delete(It);xt.onerror=lt=>{oe(iu(lt,"storage-delete"))},xt.onsuccess=()=>{Q()}}catch(xt){oe(Rn.create("storage-delete",{originalErrorMessage:null===(Te=xt)||void 0===Te?void 0:Te.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Sd{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const M=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),oe=yield M;oe&&(T.lastFetchStatus=oe);const Te=yield V;Te&&(T.lastSuccessfulFetchTimestampMillis=Te);const qe=yield Q;qe&&(T.activeConfig=qe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Fl(){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,N.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(C){return!1}})).apply(this,arguments)}!function la(){(0,ue._registerComponent)(new me.wA("remote-config",function C(T,{instanceIdentifier:M}){const V=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,ae.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Te,appId:qe}=V.options;if(!oe)throw Rn.create("registration-project-id");if(!Te)throw Rn.create("registration-api-key");if(!qe)throw Rn.create("registration-app-id");const ut=new Wm(qe,V.name,M=M||"firebase"),It=new Sd(ut),xt=new ie.Yd(Qr);xt.logLevel=ie.in.ERROR;const lt=new Si(Q,ue.SDK_VERSION,M,oe,Te,qe),Gn=new zm(lt,ut),zn=new Gm(Gn,ut,It,xt),po=new Dd(V,zn,It,ut,xt);return function cn(C){const T=(0,ae.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Qr,"0.3.11"),(0,ue.registerVersion)(Qr,"0.3.11","esm2017")}();const xd="/firebase-messaging-sw.js",Ai="/firebase-cloud-messaging-push-scope",Do="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ca="google.c.a.c_id",Md="google.c.a.c_l",xf="google.c.a.ts",To="google.c.a.e";var ua=(()=>{return(C=ua||(ua={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ua;var C})();function Ui(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kd(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),Q=new Uint8Array(V.length);for(let oe=0;oe<V.length;++oe)Q[oe]=V.charCodeAt(oe);return Q}const ai="fcm_token_details_db",yr="fcm_token_object_Store";function ru(C){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(ai))return null;let T=null;return(yield(0,de.X3)(ai,5,{upgrade:(V=(0,N.Z)(function*(Q,oe,Te,qe){var ut;if(oe<2||!Q.objectStoreNames.contains(yr))return;const It=qe.objectStore(yr),xt=yield It.index("fcmSenderId").get(C);if(yield It.clear(),xt)if(2===oe){const lt=xt;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;T={token:lt.fcmToken,createTime:null!==(ut=lt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:Ui(lt.vapidKey)}}}else if(3===oe){const lt=xt;T={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Ui(lt.auth),p256dh:Ui(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Ui(lt.vapidKey)}}}else if(4===oe){const lt=xt;T={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Ui(lt.auth),p256dh:Ui(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Ui(lt.vapidKey)}}}}),function(oe,Te,qe,ut){return V.apply(this,arguments)})})).close(),yield(0,de.Lj)(ai),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),su(T)?T:null;var V}),Rd.apply(this,arguments)}function su(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ns="firebase-messaging-store";let Mf=null;function un(){return Mf||(Mf=(0,de.X3)("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(ns)}})),Mf}function Ga(C){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*(C){const T=gi(C),V=yield(yield un()).transaction(ns).objectStore(ns).get(T);if(V)return V;{const Q=yield ru(C.appConfig.senderId);if(Q)return yield en(C,Q),Q}})).apply(this,arguments)}function en(C,T){return za.apply(this,arguments)}function za(){return(za=(0,N.Z)(function*(C,T){const M=gi(C),Q=(yield un()).transaction(ns,"readwrite");return yield Q.objectStore(ns).put(T,M),yield Q.done,T})).apply(this,arguments)}function Ll(C){return eo.apply(this,arguments)}function eo(){return(eo=(0,N.Z)(function*(C){const T=gi(C),V=(yield un()).transaction(ns,"readwrite");yield V.objectStore(ns).delete(T),yield V.done})).apply(this,arguments)}function gi({appConfig:C}){return C.appId}const Cn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function is(C,T){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(C,T){var M;const V=yield fa(C),Q=to(T),oe={method:"POST",headers:V,body:JSON.stringify(Q)};let Te;try{Te=yield(yield fetch(rs(C.appConfig),oe)).json()}catch(qe){throw Cn.create("token-subscribe-failed",{errorInfo:null===(M=qe)||void 0===M?void 0:M.toString()})}if(Te.error)throw Cn.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw Cn.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function xo(C,T){return xs.apply(this,arguments)}function xs(){return(xs=(0,N.Z)(function*(C,T){var M;const V=yield fa(C),Q=to(T.subscriptionOptions),oe={method:"PATCH",headers:V,body:JSON.stringify(Q)};let Te;try{Te=yield(yield fetch(`${rs(C.appConfig)}/${T.token}`,oe)).json()}catch(qe){throw Cn.create("token-update-failed",{errorInfo:null===(M=qe)||void 0===M?void 0:M.toString()})}if(Te.error)throw Cn.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw Cn.create("token-update-no-token");return Te.token})).apply(this,arguments)}function qa(C,T){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,N.Z)(function*(C,T){var M;const Q={method:"DELETE",headers:yield fa(C)};try{const Te=yield(yield fetch(`${rs(C.appConfig)}/${T}`,Q)).json();if(Te.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(oe){throw Cn.create("token-unsubscribe-failed",{errorInfo:null===(M=oe)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function rs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function fa(C){return Et.apply(this,arguments)}function Et(){return(Et=(0,N.Z)(function*({appConfig:C,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function to({p256dh:C,auth:T,endpoint:M,vapidKey:V}){const Q={web:{endpoint:M,auth:T,p256dh:C}};return V!==Do&&(Q.web.applicationPubKey=V),Q}const lu=6048e5;function Za(C){return cu.apply(this,arguments)}function cu(){return(cu=(0,N.Z)(function*(C){const T=yield Mo(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:Ui(T.getKey("auth")),p256dh:Ui(T.getKey("p256dh"))},V=yield Ga(C.firebaseDependencies);if(V){if(Ul(V.subscriptionOptions,M))return Date.now()>=V.createTime+lu?uu(C,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield qa(C.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Me(C.firebaseDependencies,M)}return Me(C.firebaseDependencies,M)})).apply(this,arguments)}function Vl(C){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(C){const T=yield Ga(C.firebaseDependencies);T&&(yield qa(C.firebaseDependencies,T.token),yield Ll(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function uu(C,T){return pa.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(C,T){try{const M=yield xo(C.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield en(C.firebaseDependencies,V),M}catch(M){throw yield Vl(C),M}})).apply(this,arguments)}function Me(C,T){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,N.Z)(function*(C,T){const V={token:yield is(C,T),createTime:Date.now(),subscriptionOptions:T};return yield en(C,V),V.token})).apply(this,arguments)}function Mo(C,T){return yn.apply(this,arguments)}function yn(){return(yn=(0,N.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kd(T)})})).apply(this,arguments)}function Ul(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function ko(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function vr(C,T){if(!T.notification)return;C.notification={};const M=T.notification.title;M&&(C.notification.title=M);const V=T.notification.body;V&&(C.notification.body=V);const Q=T.notification.image;Q&&(C.notification.image=Q)}(T,C),function du(C,T){!T.data||(C.data=T.data)}(T,C),function hu(C,T){var M,V,Q,oe,Te;if(!T.fcmOptions&&!(null===(M=T.notification)||void 0===M?void 0:M.click_action))return;C.fcmOptions={};const qe=null!==(Q=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(oe=T.notification)||void 0===oe?void 0:oe.click_action;qe&&(C.fcmOptions.link=qe);const ut=null===(Te=T.fcmOptions)||void 0===Te?void 0:Te.analytics_label;ut&&(C.fcmOptions.analyticsLabel=ut)}(T,C),T}function fu(C){return"object"==typeof C&&!!C&&ca in C}function Od(C,T){const M=[];for(let V=0;V<C.length;V++)M.push(C.charAt(V)),V<T.length&&M.push(T.charAt(V));return M.join("")}function Ms(C){return Cn.create("missing-app-config-values",{valueName:C})}Od("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Od("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xi{constructor(T,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Km(C){if(!C||!C.options)throw Ms("App Configuration Object");if(!C.name)throw Ms("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const V of T)if(!M[V])throw Ms(V);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function br(C){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,N.Z)(function*(C){var T;try{C.swRegistration=yield navigator.serviceWorker.register(xd,{scope:Ai}),C.swRegistration.update().catch(()=>{})}catch(M){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=M)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function no(C,T){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,N.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield br(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function pu(C,T){return jl.apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Do)})).apply(this,arguments)}function mu(){return(mu=(0,N.Z)(function*(C,T){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield pu(C,null==T?void 0:T.vapidKey),yield no(C,null==T?void 0:T.serviceWorkerRegistration),Za(C)})).apply(this,arguments)}function ma(C,T,M){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,N.Z)(function*(C,T,M){const V=zl(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[ca],message_name:M[Md],message_time:M[xf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zl(C){switch(C){case ua.NOTIFICATION_CLICKED:return"notification_open";case ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Nd(){return(Nd=(0,N.Z)(function*(C,T){const M=T.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===ua.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ko(M)):C.onMessageHandler.next(ko(M)));const V=M.data;fu(V)&&"1"===V[To]&&(yield ma(C,M.messageType,V))})).apply(this,arguments)}const ql="@firebase/messaging",Fd=C=>{const T=new xi(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Pd(C,T){return Nd.apply(this,arguments)}(T,M)),T},ga=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:V=>function $l(C,T){return mu.apply(this,arguments)}(T,V)}};function Zl(){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(){try{yield(0,ae.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ld(){(0,ue._registerComponent)(new me.wA("messaging",Fd,"PUBLIC")),(0,ue._registerComponent)(new me.wA("messaging-internal",ga,"PRIVATE")),(0,ue.registerVersion)(ql,"0.9.16"),(0,ue.registerVersion)(ql,"0.9.16","esm2017")}();const Vd="analytics",Ym="firebase_id",ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Po="https://www.googletagmanager.com/gtag/js",ni=new ie.Yd("@firebase/analytics");function Bd(C){return Promise.all(C.map(T=>T.catch(M=>M)))}function Qm(C,T){const M=document.createElement("script");M.src=`${Po}?l=${C}&id=${T}`,M.async=!0,document.head.appendChild(M)}function _a(C,T,M,V,Q,oe){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,N.Z)(function*(C,T,M,V,Q,oe){const Te=V[Q];try{if(Te)yield T[Te];else{const ut=(yield Bd(M)).find(It=>It.measurementId===Q);ut&&(yield T[ut.appId])}}catch(qe){ni.error(qe)}C("config",Q,oe)})).apply(this,arguments)}function _u(C,T,M,V,Q){return ss.apply(this,arguments)}function ss(){return(ss=(0,N.Z)(function*(C,T,M,V,Q){try{let oe=[];if(Q&&Q.send_to){let Te=Q.send_to;Array.isArray(Te)||(Te=[Te]);const qe=yield Bd(M);for(const ut of Te){const It=qe.find(lt=>lt.measurementId===ut),xt=It&&T[It.appId];if(!xt){oe=[];break}oe.push(xt)}}0===oe.length&&(oe=Object.values(T)),yield Promise.all(oe),C("event",V,Q||{})}catch(oe){ni.error(oe)}})).apply(this,arguments)}function dn(){const C=window.document.getElementsByTagName("script");for(const T of Object.values(C))if(T.src&&T.src.includes(Po))return T;return null}const et=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qa=new class sn{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ud(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ya(C){return io.apply(this,arguments)}function io(){return(io=(0,N.Z)(function*(C){var T;const{appId:M,apiKey:V}=C,Q={method:"GET",headers:Ud(V)},oe=ks.replace("{app-id}",M),Te=yield fetch(oe,Q);if(200!==Te.status&&304!==Te.status){let qe="";try{const ut=yield Te.json();(null===(T=ut.error)||void 0===T?void 0:T.message)&&(qe=ut.error.message)}catch(ut){}throw et.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:qe})}return Te.json()})).apply(this,arguments)}function On(C){return ro.apply(this,arguments)}function ro(){return(ro=(0,N.Z)(function*(C,T=Qa,M){const{appId:V,apiKey:Q,measurementId:oe}=C.options;if(!V)throw et.create("no-app-id");if(!Q){if(oe)return{measurementId:oe,appId:V};throw et.create("no-api-key")}const Te=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new Kl;return setTimeout((0,N.Z)(function*(){qe.abort()}),void 0!==M?M:6e4),os({appId:V,apiKey:Q,measurementId:oe},Te,qe,T)})).apply(this,arguments)}function os(C,T,M){return tt.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:M},V,Q=Qa){var oe,Te;const{appId:qe,measurementId:ut}=C;try{yield Hd(V,T)}catch(It){if(ut)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(oe=It)||void 0===oe?void 0:oe.message}]`),{appId:qe,measurementId:ut};throw It}try{const It=yield ya(C);return Q.deleteThrottleMetadata(qe),It}catch(It){const xt=It;if(!jd(xt)){if(Q.deleteThrottleMetadata(qe),ut)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null==xt?void 0:xt.message}]`),{appId:qe,measurementId:ut};throw It}const lt=503===Number(null===(Te=null==xt?void 0:xt.customData)||void 0===Te?void 0:Te.httpStatus)?(0,ae.$s)(M,Q.intervalMillis,30):(0,ae.$s)(M,Q.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+lt,backoffCount:M+1};return Q.setThrottleMetadata(qe,Gn),ni.debug(`Calling attemptFetch again in ${lt} millis`),os(C,Gn,V,Q)}})).apply(this,arguments)}function Hd(C,T){return new Promise((M,V)=>{const Q=Math.max(T-Date.now(),0),oe=setTimeout(M,Q);C.addEventListener(()=>{clearTimeout(oe),V(et.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function jd(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Kl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Xa,va;function as(){return(as=(0,N.Z)(function*(C,T,M,V,Q){if(Q&&Q.global)C("event",M,V);else{const oe=yield T;C("event",M,Object.assign(Object.assign({},V),{send_to:oe}))}})).apply(this,arguments)}function ao(C){va=C}function Os(C){Xa=C}function lo(){return ar.apply(this,arguments)}function ar(){return(ar=(0,N.Z)(function*(){var C;if(!(0,ae.hl)())return ni.warn(et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(T){return ni.warn(et.create("indexeddb-unavailable",{errorInfo:null===(C=T)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function vn(){return(vn=(0,N.Z)(function*(C,T,M,V,Q,oe,Te){var qe;const ut=On(C);ut.then(zn=>{M[zn.measurementId]=zn.appId,C.options.measurementId&&zn.measurementId!==C.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>ni.error(zn)),T.push(ut);const It=lo().then(zn=>{if(zn)return V.getId()}),[xt,lt]=yield Promise.all([ut,It]);dn()||Qm(oe,xt.measurementId),va&&(Q("consent","default",va),ao(void 0)),Q("js",new Date);const Gn=null!==(qe=null==Te?void 0:Te.config)&&void 0!==qe?qe:{};return Gn.origin="firebase",Gn.update=!0,null!=lt&&(Gn[Ym]=lt),Q("config",xt.measurementId,Gn),Xa&&(Q("set",Xa),Os(void 0)),xt.measurementId})).apply(this,arguments)}class yu{constructor(T){this.app=T}_delete(){return delete Mi[this.app.options.appId],Promise.resolve()}}let Mi={},on=[];const gn={};let Lr,Ft,Pn="dataLayer",ki=!1;function $d(C,T,M){!function Vr(){const C=[];if((0,ae.ru)()&&C.push("This is a browser extension environment."),(0,ae.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),M=et.create("invalid-analytics-context",{errorInfo:T});ni.warn(M.message)}}();const V=C.options.appId;if(!V)throw et.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw et.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mi[V])throw et.create("already-exists",{id:V});if(!ki){!function No(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Pn);const{wrappedGtag:oe,gtagCore:Te}=function Xm(C,T,M,V,Q){let oe=function(...Te){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(oe=window[Q]),window[Q]=function Ka(C,T,M,V){function oe(){return(oe=(0,N.Z)(function*(Te,qe,ut){try{"event"===Te?yield _u(C,T,M,qe,ut):"config"===Te?yield _a(C,T,M,V,qe,ut):"consent"===Te?C("consent","update",ut):C("set",qe)}catch(It){ni.error(It)}})).apply(this,arguments)}return function Q(Te,qe,ut){return oe.apply(this,arguments)}}(oe,C,T,M),{gtagCore:oe,wrappedGtag:window[Q]}}(Mi,on,gn,Pn,"gtag");Ft=oe,Lr=Te,ki=!0}return Mi[V]=function yi(C,T,M,V,Q,oe,Te){return vn.apply(this,arguments)}(C,on,gn,T,Lr,Pn,M),new yu(C)}function Gd(){return zd.apply(this,arguments)}function zd(){return(zd=(0,N.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(C){return!1}})).apply(this,arguments)}const Nn="@firebase/analytics";!function nl(){(0,ue._registerComponent)(new me.wA(Vd,(T,{options:M})=>$d(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ue._registerComponent)(new me.wA("analytics-internal",function C(T){try{const M=T.getProvider(Vd).getImmediate();return{logEvent:(V,Q,oe)=>function Ps(C,T,M,V){C=(0,ae.m9)(C),function Sn(C,T,M,V,Q){return as.apply(this,arguments)}(Ft,Mi[C.app.options.appId],T,M,V).catch(Q=>ni.error(Q))}(M,V,Q,oe)}}catch(M){throw et.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ue.registerVersion)(Nn,"0.8.0"),(0,ue.registerVersion)(Nn,"0.8.0","esm2017")}();var Zd=P(4408),Hi=P(7565);const il=new class ji extends Hi.v{}(class Nf extends Zd.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,M,V):T.flush(this)}});var Bo=P(4986),wa=P(8505),uo=P(5363),Yl=P(9468);const Bt=new c.GfV("7.4.1"),Wd="__angularfire_symbol__analyticsIsSupportedValue",Ns="__angularfire_symbol__analyticsIsSupported",ii="__angularfire_symbol__remoteConfigIsSupportedValue",ho="__angularfire_symbol__remoteConfigIsSupported",fo="__angularfire_symbol__messagingIsSupportedValue",Kd="__angularfire_symbol__messagingIsSupported";function Ql(C,T,M){if(T){if(1===T.length)return T[0];const oe=T.filter(Te=>Te.app===M);if(1===oe.length)return oe[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ns]||(globalThis[Ns]=Gd().then(C=>globalThis[Wd]=C).catch(()=>globalThis[Wd]=!1)),globalThis[Kd]||(globalThis[Kd]=Zl().then(C=>globalThis[fo]=C).catch(()=>globalThis[fo]=!1)),globalThis[ho]||(globalThis[ho]=Fl().then(C=>globalThis[ii]=C).catch(()=>globalThis[ii]=!1));const Yd=(C,T)=>{const M=T?[T]:(0,ee.C6)(),V=[];return M.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Te=>{V.includes(Te)||V.push(Te)})}),V};function bn(){}class ui{constructor(T,M=il){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,V){const Q=this.zone;return this.delegate.schedule(function(Te){Q.runGuarded(()=>{T.apply(this,[Te])})},M,V)}}class Xl{constructor(T){this.zone=T,this.task=null}call(T,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bn,{},bn,bn)),M.pipe((0,wa.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jm=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new ui(Zone.current)),this.insideAngular=M.run(()=>new ui(Zone.current,Bo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function $i(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Qd(C){return C.pipe((0,uo.Q)($i().outsideAngular))}function Jl(C){return $i(),function ec(C){return function(M){return(M=M.lift(new Xl(C.ngZone))).pipe((0,Yl.R)(C.outsideAngular),(0,uo.Q)(C.insideAngular))}}($i())(C)}},2090:(it,Ee,P)=>{P.d(Ee,{$s:()=>Di,BH:()=>$e,G6:()=>je,L:()=>de,LL:()=>le,Mn:()=>De,Sg:()=>Se,UG:()=>fe,US:()=>me,ZB:()=>z,ZR:()=>_e,b$:()=>nt,d:()=>Ae,eu:()=>Ce,hl:()=>W,jU:()=>Ie,m9:()=>Ws,ne:()=>wt,pd:()=>tr,r3:()=>Li,ru:()=>Ke,tV:()=>ge,uI:()=>He,vZ:()=>pr,w1:()=>ye,xO:()=>Zr,xb:()=>Ut,z$:()=>Re,zI:()=>Y,zd:()=>qs});const ue=function(j){const Z=[];let H=0;for(let G=0;G<j.length;G++){let q=j.charCodeAt(G);q<128?Z[H++]=q:q<2048?(Z[H++]=q>>6|192,Z[H++]=63&q|128):55296==(64512&q)&&G+1<j.length&&56320==(64512&j.charCodeAt(G+1))?(q=65536+((1023&q)<<10)+(1023&j.charCodeAt(++G)),Z[H++]=q>>18|240,Z[H++]=q>>12&63|128,Z[H++]=q>>6&63|128,Z[H++]=63&q|128):(Z[H++]=q>>12|224,Z[H++]=q>>6&63|128,Z[H++]=63&q|128)}return Z},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,Z){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let q=0;q<j.length;q+=3){const xe=j[q],Ve=q+1<j.length,ht=Ve?j[q+1]:0,nn=q+2<j.length,Wt=nn?j[q+2]:0;let gr=(15&ht)<<2|Wt>>6,Yr=63&Wt;nn||(Yr=64,Ve||(gr=64)),G.push(H[xe>>2],H[(3&xe)<<4|ht>>4],H[gr],H[Yr])}return G.join("")},encodeString(j,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(j):this.encodeByteArray(ue(j),Z)},decodeString(j,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(j):function(j){const Z=[];let H=0,G=0;for(;H<j.length;){const q=j[H++];if(q<128)Z[G++]=String.fromCharCode(q);else if(q>191&&q<224){const xe=j[H++];Z[G++]=String.fromCharCode((31&q)<<6|63&xe)}else if(q>239&&q<365){const nn=((7&q)<<18|(63&j[H++])<<12|(63&j[H++])<<6|63&j[H++])-65536;Z[G++]=String.fromCharCode(55296+(nn>>10)),Z[G++]=String.fromCharCode(56320+(1023&nn))}else{const xe=j[H++],Ve=j[H++];Z[G++]=String.fromCharCode((15&q)<<12|(63&xe)<<6|63&Ve)}}return Z.join("")}(this.decodeStringToByteArray(j,Z))},decodeStringToByteArray(j,Z){this.init_();const H=Z?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let q=0;q<j.length;){const xe=H[j.charAt(q++)],ht=q<j.length?H[j.charAt(q)]:0;++q;const Wt=q<j.length?H[j.charAt(q)]:64;++q;const Vt=q<j.length?H[j.charAt(q)]:64;if(++q,null==xe||null==ht||null==Wt||null==Vt)throw Error();G.push(xe<<2|ht>>4),64!==Wt&&(G.push(ht<<4&240|Wt>>2),64!==Vt&&G.push(Wt<<6&192|Vt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},de=function(j){return function(j){const Z=ue(j);return me.encodeByteArray(Z,!0)}(j).replace(/\./g,"")},ge=function(j){try{return me.decodeString(j,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function z(j,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return Z}for(const H in Z)!Z.hasOwnProperty(H)||!ne(H)||(j[H]=z(j[H],Z[H]));return j}function ne(j){return"__proto__"!==j}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,H)=>{this.resolve=Z,this.reject=H})}wrapCallback(Z){return(H,G)=>{H?this.reject(H):this.resolve(G),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(H):Z(H,G))}}}function Se(j,Z){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=Z||"demo-project",q=j.iat||0,xe=j.sub||j.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:q,exp:q+3600,auth_time:q,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ve)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function Ke(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Re().indexOf("Electron/")>=0}function ye(){const j=Re();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function De(){return Re().indexOf("MSAppHost/")>=0}function je(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function Ce(){return new Promise((j,Z)=>{try{let H=!0;const G="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(G);q.onsuccess=()=>{q.result.close(),H||self.indexedDB.deleteDatabase(G),j(!0)},q.onupgradeneeded=()=>{H=!1},q.onerror=()=>{var xe;Z((null===(xe=q.error)||void 0===xe?void 0:xe.message)||"")}}catch(H){Z(H)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(Z,H,G){super(H),this.code=Z,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(Z,H,G){this.service=Z,this.serviceName=H,this.errors=G}create(Z,...H){const G=H[0]||{},q=`${this.service}/${Z}`,xe=this.errors[Z],Ve=xe?function Pe(j,Z){return j.replace(pt,(H,G)=>{const q=Z[G];return null!=q?String(q):`<${G}?>`})}(xe,G):"Error";return new _e(q,`${this.serviceName}: ${Ve} (${q}).`,G)}}const pt=/\{\$([^}]+)}/g;function Li(j,Z){return Object.prototype.hasOwnProperty.call(j,Z)}function Ut(j){for(const Z in j)if(Object.prototype.hasOwnProperty.call(j,Z))return!1;return!0}function pr(j,Z){if(j===Z)return!0;const H=Object.keys(j),G=Object.keys(Z);for(const q of H){if(!G.includes(q))return!1;const xe=j[q],Ve=Z[q];if(Ci(xe)&&Ci(Ve)){if(!pr(xe,Ve))return!1}else if(xe!==Ve)return!1}for(const q of G)if(!H.includes(q))return!1;return!0}function Ci(j){return null!==j&&"object"==typeof j}function Zr(j){const Z=[];for(const[H,G]of Object.entries(j))Array.isArray(G)?G.forEach(q=>{Z.push(encodeURIComponent(H)+"="+encodeURIComponent(q))}):Z.push(encodeURIComponent(H)+"="+encodeURIComponent(G));return Z.length?"&"+Z.join("&"):""}function qs(j){const Z={};return j.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[q,xe]=G.split("=");Z[decodeURIComponent(q)]=decodeURIComponent(xe)}}),Z}function tr(j){const Z=j.indexOf("?");if(!Z)return"";const H=j.indexOf("#",Z);return j.substring(Z,H>0?H:void 0)}function wt(j,Z){const H=new nr(j,Z);return H.subscribe.bind(H)}class nr{constructor(Z,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Z(this)}).catch(G=>{this.error(G)})}next(Z){this.forEachObserver(H=>{H.next(Z)})}error(Z){this.forEachObserver(H=>{H.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,H,G){let q;if(void 0===Z&&void 0===H&&void 0===G)throw new Error("Missing Observer.");q=function Xn(j,Z){if("object"!=typeof j||null===j)return!1;for(const H of Z)if(H in j&&"function"==typeof j[H])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:H,complete:G},void 0===q.next&&(q.next=Kr),void 0===q.error&&(q.error=Kr),void 0===q.complete&&(q.complete=Kr);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Ve){}}),this.observers.push(q),xe}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Z)}sendOne(Z,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{H(this.observers[Z])}catch(G){"undefined"!=typeof console&&console.error&&console.error(G)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kr(){}function Di(j,Z=1e3,H=2){const G=Z*Math.pow(H,j),q=Math.round(.5*G*(Math.random()-.5)*2);return Math.min(144e5,G+q)}function Ws(j){return j&&j._delegate?j._delegate:j}},6971:(it,Ee,P)=>{var c=P(5e3);let ee=null;function N(){return ee}const ie=new c.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ge(){return(0,c.LFG)(z)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let z=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function $e(){return new z((0,c.LFG)(ie))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(n){const e=(0,c.LFG)(ie).location;return new nt((0,c.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ke=new c.OlP("appBaseHref");let nt=(()=>{class n extends fe{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+He(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+He(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(Ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends fe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Se(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+He(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+He(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(Ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(je(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+He(i))}normalize(t){return n.stripTrailingSlash(function Be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=Se,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new ye((0,c.LFG)(fe),(0,c.LFG)(de))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}let Ss=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ys{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ti=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ys(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Io(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Io(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Io(n,e){n.context.$implicit=e.item}let En=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Nl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Nl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function Nl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Ha{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ti=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),_r=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ha(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ti,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ja=(()=>{class n{constructor(t,i,r){r._addDefault(new Ha(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ti,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class Xs{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Id{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const zm=new Id,As=new Xs;let nu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return zm;if((0,c.F4k)(t))return As;throw function Si(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),To=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const So="browser";function ai(n){return n===So}function da(n){return"server"===n}let su=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ha((0,c.LFG)(ie),window)}),n})();class ha{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ns(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ou(this.window.history)||ou(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ou(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ao extends class Ga extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){ee||(ee=n)}(new Ao)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function za(){return en=en||document.querySelector("base"),en?en.getAttribute("href"):null}();return null==t?null:function eo(n){Ll=Ll||document.createElement("a"),Ll.setAttribute("href",n);const e=Ll.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){en=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ua(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ll,en=null;const gi=new c.OlP("TRANSITION_ID"),Cn=[{provide:c.ip1,useFactory:function au(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[gi,ie,c.zs3],multi:!0}];class is{static init(){(0,c.VLi)(new is)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let _i=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xo=new c.OlP("EventManagerPlugins");let xs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Nr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),rs=(()=>{class n extends Nr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(fa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fa))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function fa(n){N().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},to=/%COMP%/g;function pa(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?pa(n,r,t):(r=r.replace(to,n),t.push(r))}return t}function Me(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mo=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new yn(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new vr(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new du(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=pa(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xs),c.LFG(rs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class yn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Et[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Et[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Me(i)):this.eventManager.addEventListener(e,t,Me(i))}}class vr extends yn{constructor(e,t,i,r){super(e),this.component=i;const a=pa(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Bl(n){return"_ngcontent-%COMP%".replace(to,n)}(r+"-"+i.id),this.hostAttr=function uu(n){return"_nghost-%COMP%".replace(to,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class du extends yn{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=pa(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hu=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fu=["alt","control","meta","shift"],Km={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ms={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let br=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(fu.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function Hl(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ms.hasOwnProperty(e)&&(e=Ms[e]))}return Km[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),fu.forEach(a=>{a!=r&&xi[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const $l=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:So},{provide:c.g9A,useValue:function no(){Ao.makeCurrent(),is.init()},multi:!0},{provide:ie,useFactory:function pu(){return(0,c.RDi)(document),document},deps:[]}]),mu=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Fr(){return new c.qLn},deps:[]},{provide:xo,useClass:hu,multi:!0,deps:[ie,c.R0b,c.Lbi]},{provide:xo,useClass:br,multi:!0,deps:[ie]},{provide:Mo,useClass:Mo,deps:[xs,rs,c.AFp]},{provide:c.FYo,useExisting:Mo},{provide:Nr,useExisting:rs},{provide:rs,useClass:rs,deps:[ie]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:xs,useClass:xs,deps:[xo,c.R0b]},{provide:class un{},useClass:_i,deps:[]}];let ma=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:gi,useExisting:c.AFp},Cn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:mu,imports:[To,c.hGG]}),n})();"undefined"!=typeof window&&window;let _u=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Ka),i},providedIn:"root"}),n})(),Ka=(()=>{class n extends _u{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ss(n){return new Ka(n.get(ie))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var dn=P(8996),Ya=P(3269);function et(...n){const e=(0,Ya.yG)(n);return(0,dn.D)(n,e)}var vt=P(7579);class wr extends vt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var sn=P(8306);const{isArray:Qa}=Array,{getPrototypeOf:Ud,prototype:ya,keys:io}=Object;function On(n){if(1===n.length){const e=n[0];if(Qa(e))return{args:e,keys:null};if(function ro(n){return n&&"object"==typeof n&&Ud(n)===ya}(e)){const t=io(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var os=P(4671),tt=P(4004);const{isArray:Hd}=Array;function Kl(n){return(0,tt.U)(e=>function jd(n,e){return Hd(e)?n(...e):n(e)}(n,e))}function Xa(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Sn=P(5403),as=P(9672);function Ja(...n){const e=(0,Ya.yG)(n),t=(0,Ya.jO)(n),{args:i,keys:r}=On(n);if(0===i.length)return(0,dn.D)([],e);const a=new sn.y(function Rs(n,e,t=os.y){return i=>{so(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)so(e,()=>{const b=(0,dn.D)(n[_],e);let I=!1;b.subscribe((0,Sn.x)(i,S=>{a[_]=S,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Xa(r,u):os.y));return t?a.pipe(Kl(t)):a}function so(n,e,t){n?(0,as.f)(t,n,e):e()}var ci=P(576);function oo(n,e){const t=(0,ci.m)(n)?n:()=>n,i=r=>r.error(t());return new sn.y(e?r=>e.schedule(i,0,r):i)}const Fo=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Lo=P(8189);function ao(...n){return function va(){return(0,Lo.J)(1)}()((0,dn.D)(n,(0,Ya.yG)(n)))}var Os=P(8421);function lo(n){return new sn.y(e=>{(0,Os.Xf)(n()).subscribe(e)})}var ar=P(515),yi=P(727),vn=P(4482);function yu(){return(0,vn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Sn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Mi extends sn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Sn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yi.w0.EMPTY)}return e}refCount(){return yu()(this)}}function on(n,e){return(0,vn.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,Sn.x)(i,_=>{null==r||r.unsubscribe();let b=0;const I=a++;(0,Os.Xf)(n(_,I)).subscribe(r=(0,Sn.x)(i,S=>i.next(e?e(_,S,I,b++):S),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function gn(n){return n<=0?()=>ar.E:(0,vn.e)((e,t)=>{let i=0;e.subscribe((0,Sn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Pn(...n){const e=(0,Ya.yG)(n);return(0,vn.e)((t,i)=>{(e?ao(n,t,e):ao(n,t)).subscribe(i)})}function co(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,Sn.x)(u,I=>{const S=b++;_=f?n(_,I,S):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function Lr(n,e){return(0,vn.e)(co(n,e,arguments.length>=2,!0))}function Ft(n,e){return(0,vn.e)((t,i)=>{let r=0;t.subscribe((0,Sn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}function ki(n){return(0,vn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Sn.x)(t,void 0,void 0,u=>{a=(0,Os.Xf)(n(u,ki(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}var $n=P(5577);function Vr(n,e){return(0,ci.m)(e)?(0,$n.z)(n,e,1):(0,$n.z)(n,1)}function $d(n){return n<=0?()=>ar.E:(0,vn.e)((e,t)=>{let i=[];e.subscribe((0,Sn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function vu(n=In){return(0,vn.e)((e,t)=>{let i=!1;e.subscribe((0,Sn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function In(){return new Fo}function Gd(n){return(0,vn.e)((e,t)=>{let i=!1;e.subscribe((0,Sn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function tl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ft((r,a)=>n(r,a,i)):os.y,gn(1),t?Gd(e):vu(()=>new Fo))}var vi=P(8505);function Of(n){return(0,vn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Vo{constructor(e,t){this.id=e,this.url=t}}class Pf extends Vo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends Vo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qd extends Vo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nn extends Vo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ba extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nl extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zd extends Vo{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nf extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends Vo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class il{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yl{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class Wd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ns(n){return new Wd(n)}const ii="ngNavigationCancelingError";function ho(n){const e=Error("NavigationCancelingError: "+n);return e[ii]=!0,e}function Kd(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!wu(n[r],e[r]))return!1;return!0}function wu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Ff(n){return Array.prototype.concat.apply([],n)}function Ql(n){return n.length>0?n[n.length-1]:null}function bn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ui(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,dn.D)(Promise.resolve(n)):et(n)}const Jm={exact:function Qd(n,e,t){if(!V(n.segments,e.segments)||!tc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Qd(n.children[i],e.children[i],t))return!1;return!0},subset:Jl},$i={exact:function Er(n,e){return Fs(n,e)},subset:function Xd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wu(n[t],e[t]))},ignored:()=>!0};function Ca(n,e,t){return Jm[t.paths](n.root,e.root,t.matrixParams)&&$i[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Jl(n,e,t){return ec(n,e,e.segments,t)}function ec(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!V(r,t)||e.hasChildren()||!tc(r,t,i))}if(n.segments.length===t.length){if(!V(n.segments,t)||!tc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Jl(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(V(n.segments,r)&&tc(n.segments,r,i)&&n.children[Bt])&&ec(n.children[Bt],e,a,i)}}function tc(n,e,t){return e.every((i,r)=>$i[t](n[r].parameters,i.parameters))}class ls{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return qe.serialize(this)}}class C{constructor(e,t){this.segments=e,this.children=t,this.parent=null,bn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ut(this)}}class T{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ns(this.parameters)),this._parameterMap}toString(){return cs(this)}}function V(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class oe{}class Te{parse(e){const t=new eg(e);return new ls(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${It(e.root,!0)}`,i=function rl(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${lt(t)}=${lt(r)}`).join("&"):`${lt(t)}=${lt(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Gn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qe=new Te;function ut(n){return n.segments.map(e=>cs(e)).join("/")}function It(n,e){if(!n.hasChildren())return ut(n);if(e){const t=n.children[Bt]?It(n.children[Bt],!1):"",i=[];return bn(n.children,(r,a)=>{a!==Bt&&i.push(`${a}:${It(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Q(n,e){let t=[];return bn(n.children,(i,r)=>{r===Bt&&(t=t.concat(e(i,r)))}),bn(n.children,(i,r)=>{r!==Bt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Bt?[It(n.children[Bt],!1)]:[`${r}:${It(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${ut(n)}/${t[0]}`:`${ut(n)}/(${t.join("//")})`}}function xt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lt(n){return xt(n).replace(/%3B/gi,";")}function zn(n){return xt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function po(n){return decodeURIComponent(n)}function mo(n){return po(n.replace(/\+/g,"%20"))}function cs(n){return`${zn(n.path)}${function nc(n){return Object.keys(n).map(e=>`;${zn(e)}=${zn(n[e])}`).join("")}(n.parameters)}`}const Uo=/^[^\/()?;=#]+/;function us(n){const e=n.match(Uo);return e?e[0]:""}const Br=/^[^=?&#]+/,Lf=/^[^&#]+/;class eg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Bt]=new C(e,t)),i}parseSegment(){const e=us(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new T(po(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=us(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=us(this.remaining);r&&(i=r,this.capture(i))}e[po(t)]=po(i)}parseQueryParam(e){const t=function Ia(n){const e=n.match(Br);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function dw(n){const e=n.match(Lf);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=mo(t),a=mo(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=us(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Bt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Bt]:new C([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Vf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=tg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=tg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ic(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ic(e,this._root).map(t=>t.value)}}function tg(n,e){if(n===e.value)return e;for(const t of e.children){const i=tg(n,t);if(i)return i}return null}function ic(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ic(n,t);if(i.length)return i.unshift(e),i}return[]}class Ho{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function rc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Eu extends Vf{constructor(e,t){super(e),this.snapshot=t,th(this,e)}toString(){return this.snapshot.toString()}}function Jd(n,e){const t=function sc(n,e){const u=new jo([],{},{},"",{},Bt,e,null,n.root,-1,{});return new eh("",new Ho(u,[]))}(n,e),i=new wr([new T("",{})]),r=new wr({}),a=new wr({}),u=new wr({}),f=new wr(""),_=new oc(i,r,u,f,a,Bt,e,t.root);return _.snapshot=t.root,new Eu(new Ho(_,[]),t)}class oc{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(e=>Ns(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(e=>Ns(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ng(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function hw(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class jo{constructor(e,t,i,r,a,u,f,_,b,I,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=I,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eh extends Vf{constructor(e,t){super(t),this.url=e,th(this,t)}toString(){return Bf(this._root)}}function th(n,e){e.value._routerState=n,e.children.forEach(t=>th(n,t))}function Bf(n){const e=n.children.length>0?` { ${n.children.map(Bf).join(", ")} } `:"";return`${n.value}${e}`}function nh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fs(e.params,t.params)||n.params.next(t.params),function Ea(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $o(n,e){const t=Fs(n.params,e.params)&&function M(n,e){return V(n,e)&&n.every((t,i)=>Fs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$o(n.parent,e.parent))}function Cu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function yy(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Cu(n,i,r);return Cu(n,i)})}(n,e,t);return new Ho(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Cu(n,f)),u}}const i=function vy(n){return new oc(new wr(n.url),new wr(n.params),new wr(n.queryParams),new wr(n.fragment),new wr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Cu(n,a));return new Ho(i,r)}}function Cr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function go(n){return"object"==typeof n&&null!=n&&n.outlets}function ac(n,e,t,i,r){let a={};if(i&&bn(i,(f,_)=>{a[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new ls(t,a,r);const u=rg(n,e,t);return new ls(u,a,r)}function rg(n,e,t){const i={};return bn(n.children,(r,a)=>{i[a]=r===e?t:rg(r,e,t)}),new C(n.segments,i)}class Uf{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Cr(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(go);if(r&&r!==Ql(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Iu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function og(n,e,t){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return ih(n,e,t);const i=function Cy(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(go(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!jf(_,b,u))return a;i+=2}else{if(!jf(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new C(n.segments.slice(0,i.pathIndex),{});return a.children[Bt]=new C(n.segments.slice(i.pathIndex),n.children),ih(a,0,r)}return i.match&&0===r.length?new C(n.segments,{}):i.match&&!n.hasChildren()?Iy(n,e,t):i.match?ih(n,0,r):Iy(n,e,t)}function ih(n,e,t){if(0===t.length)return new C(n.segments,{});{const i=function sg(n){return go(n[0])?n[0].outlets:{[Bt]:n}}(t),r={};return bn(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=og(n.children[u],e,a))}),bn(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new C(n.segments,r)}}function Iy(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(go(a)){const _=sl(a.outlets);return new C(i,_)}if(0===r&&Cr(t[0])){i.push(new T(n.segments[e].path,lc(t[0]))),r++;continue}const u=go(a)?a.outlets[Bt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&Cr(f)?(i.push(new T(u,lc(f))),r+=2):(i.push(new T(u,{})),r++)}return new C(i,{})}function sl(n){const e={};return bn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Iy(new C([],{}),0,t))}),e}function lc(n){const e={};return bn(n,(t,i)=>e[i]=`${t}`),e}function jf(n,e,t){return n==t.path&&Fs(e,t.parameters)}class Du{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),nh(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=rc(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),bn(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=rc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=rc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=rc(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new uo(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Bo(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(nh(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),nh(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function rh(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class sh{constructor(e,t){this.routes=e,this.module=t}}function Go(n){return"function"==typeof n}function cc(n){return n instanceof ls}const oh=Symbol("INITIAL_VALUE");function ah(){return on(n=>Ja(n.map(e=>e.pipe(gn(1),Pn(oh)))).pipe(Lr((e,t)=>{let i=!1;return t.reduce((r,a,u)=>r!==oh?r:(a===oh&&(i=!0),i||!1!==a&&u!==t.length-1&&!cc(a)?r:a),e)},oh),Ft(e=>e!==oh),(0,tt.U)(e=>cc(e)?e:!0===e),gn(1)))}class lg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new uc,this.attachRef=null}}class uc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new lg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Su=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||Bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Dy(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(uc),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Dy{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===oc?this.route:e===uc?this.childContexts:this.parent.get(e,t)}}let cg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},directives:[Su],encapsulation:2}),n})();function Au(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];dc(i,ug(e,i))}}function dc(n,e){n.children&&Au(n.children,e)}function ug(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function xu(n){const e=n.children&&n.children.map(xu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=cg),t}function lr(n){return n.outlet||Bt}function Fn(n,e){const t=n.filter(i=>lr(i)===e);return t.push(...n.filter(i=>lr(i)!==e)),t}const dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lh(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},dg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Kd)(t,n,e);if(!a)return Object.assign({},dg);const u={};bn(a.posParams,(_,b)=>{u[b]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function ol(n,e,t,i,r="corrected"){if(t.length>0&&function Sy(n,e,t){return t.some(i=>Da(n,e,i)&&lr(i)!==Bt)}(n,t,i)){const u=new C(e,function Ty(n,e,t,i){const r={};r[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&lr(a)!==Bt){const u=new C([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[lr(a)]=u}return r}(n,e,i,new C(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Ay(n,e,t){return t.some(i=>Da(n,e,i))}(n,t,i)){const u=new C(n.segments,function hg(n,e,t,i,r,a){const u={};for(const f of i)if(Da(n,t,f)&&!r[lr(f)]){const _=new C([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[lr(f)]=_}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new C(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Da(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function fg(n,e,t,i){return!!(lr(n)===i||i!==Bt&&Da(e,t,n))&&("**"===n.path||lh(e,n,t).matched)}function pg(n,e,t){return 0===e.length&&!n.children[t]}class zf{constructor(e){this.segmentGroup=e||null}}class hc{constructor(e){this.urlTree=e}}function di(n){return oo(new zf(n))}function ch(n){return oo(new hc(n))}class fc{constructor(e,t,i,r,a){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=ol(this.urlTree.root,[],[],this.config).segmentGroup,t=new C(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Bt).pipe((0,tt.U)(a=>this.createUrlTree(Mu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ki(a=>{if(a instanceof hc)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof zf?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Bt).pipe((0,tt.U)(r=>this.createUrlTree(Mu(r),e.queryParams,e.fragment))).pipe(ki(r=>{throw r instanceof zf?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new C([],{[Bt]:e}):e;return new ls(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,tt.U)(a=>new C([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,dn.D)(r).pipe(Vr(a=>{const u=i.children[a],f=Fn(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,tt.U)(_=>({segment:_,outlet:a})))}),Lr((a,u)=>(a[u.outlet]=u.segment,a),{}),function zd(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ft((r,a)=>n(r,a,i)):os.y,$d(1),t?Gd(e):vu(()=>new Fo))}())}expandSegment(e,t,i,r,a,u){return(0,dn.D)(i).pipe(Vr(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(ki(b=>{if(b instanceof zf)return et(null);throw b}))),tl(f=>!!f),ki((f,_)=>{if(f instanceof Fo||"EmptyError"===f.name)return pg(t,r,a)?et(new C([],{})):di(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return fg(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):di(t):di(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ch(a):this.lineralizeSegments(i,a).pipe((0,$n.z)(u=>{const f=new C(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:I}=lh(t,r,a);if(!f)return di(t);const S=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?ch(S):this.lineralizeSegments(r,S).pipe((0,$n.z)(O=>this.expandSegment(e,t,i,O.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?et(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,tt.U)(S=>(i._loadedConfig=S,new C(r,{})))):et(new C(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=lh(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,$n.z)(I=>{const S=I.module,O=I.routes,{segmentGroup:L,slicedSegments:U}=ol(t,f,_,O),J=new C(L.segments,L.children);if(0===U.length&&J.hasChildren())return this.expandChildren(S,O,J).pipe((0,tt.U)(Ge=>new C(f,Ge)));if(0===O.length&&0===U.length)return et(new C(f,{}));const pe=lr(i)===a;return this.expandSegment(S,J,O,U,pe?Bt:a,!0).pipe((0,tt.U)(Ye=>new C(f.concat(Ye.segments),Ye.children)))})):di(t)}getChildConfig(e,t,i){return t.children?et(new sh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,$n.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,tt.U)(a=>(t._loadedConfig=a,a))):function uh(n){return oo(ho(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):et(new sh([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?et(r.map(u=>{const f=e.get(u);let _;if(function fw(n){return n&&Go(n.canLoad)}(f))_=f.canLoad(t,i);else{if(!Go(f))throw new Error("Invalid CanLoad guard");_=f(t,i)}return ui(_)})).pipe(ah(),(0,vi.b)(u=>{if(!cc(u))return;const f=ho(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,tt.U)(u=>!0===u)):et(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return et(i);if(r.numberOfChildren>1||!r.children[Bt])return oo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Bt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new ls(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return bn(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return bn(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new C(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Mu(n){const e={};for(const i of Object.keys(n.children)){const a=Mu(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Zf(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new C(n.segments.concat(e.segments),e.children)}return n}(new C(n.segments,e))}class cr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ta{constructor(e,t){this.component=e,this.route=t}}function Wf(n,e,t){const i=n._root;return ku(i,e?e._root:null,t,[i.value])}function al(n,e,t){const i=function Kf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function ku(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=rc(e);return n.children.forEach(u=>{(function dh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function ky(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!V(n.url,e.url);case"pathParamsOrQueryParamsChange":return!V(n.url,e.url)||!Fs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$o(n,e)||!Fs(n.queryParams,e.queryParams);default:return!$o(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new cr(i)):(a.data=u.data,a._resolvedData=u._resolvedData),ku(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ta(f.outlet.component,u))}else u&&hs(e,f,r),r.canActivateChecks.push(new cr(i)),ku(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),bn(a,(u,f)=>hs(u,t.getContext(f),r)),r}function hs(n,e,t){const i=rc(n),r=n.value;bn(i,(a,u)=>{hs(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ta(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Py{}function Ls(n){return new sn.y(e=>e.error(n))}class gg{constructor(e,t,i,r,a,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=ol(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Bt);if(null===t)return null;const i=new jo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ho(i,t),a=new eh(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=ng(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=Fn(e,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;i.push(..._)}const r=yg(i);return function _g(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,i,r);if(null!==u)return u}return pg(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!fg(e,t,i,r))return null;let a,u=[],f=[];if("**"===e.path){const L=i.length>0?Ql(i).parameters:{};a=new jo(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),lr(e),e.component,e,vg(t),ll(t)+i.length,p(e))}else{const L=lh(t,e,i);if(!L.matched)return null;u=L.consumedSegments,f=L.remainingSegments,a=new jo(u,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),lr(e),e.component,e,vg(t),ll(t)+u.length,p(e))}const _=function Ny(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:I}=ol(t,u,f,_.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===I.length&&b.hasChildren()){const L=this.processChildren(_,b);return null===L?null:[new Ho(a,L)]}if(0===_.length&&0===I.length)return[new Ho(a,[])];const S=lr(e)===r,O=this.processSegment(_,b,I,S?Bt:r);return null===O?null:[new Ho(a,O)]}}function Xf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yg(n){const e=[],t=new Set;for(const i of n){if(!Xf(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=yg(i.children);e.push(new Ho(i.value,r))}return e.filter(i=>!t.has(i))}function vg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ll(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function K(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Fe(n){return on(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,tt.U)(()=>e)):et(e)})}class gt extends class _t{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ln=new c.OlP("ROUTES");class Dr{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,tt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new sh(Ff(u.injector.get(Ln,void 0,c.XFs.Self|c.XFs.Optional)).map(xu),u)}),ki(a=>{throw t._loader$=void 0,a}));return t._loader$=new Mi(r,()=>new vt.x).pipe(yu()),t._loader$}loadModuleFactory(e){return ui(e()).pipe((0,$n.z)(t=>t instanceof c.YKP?et(t):(0,dn.D)(this.compiler.compileModuleAsync(t))))}}class Jf{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function bg(n){throw n}function cl(n,e,t){return e.parse("/")}function Ou(n,e){return et(null)}const ph={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gi=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new vt.x,this.errorHandler=bg,this.malformedUriErrorHandler=cl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ou,afterPreactivation:Ou},this.urlHandlingStrategy=new Jf,this.routeReuseStrategy=new gt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const S=u.get(c.R0b);this.isNgZoneEnabled=S instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Xl(){return new ls(new C([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dr(u,f,O=>this.triggerEvent(new ji(O)),O=>this.triggerEvent(new il(O))),this.routerState=Jd(this.currentUrlTree,this.rootComponentType),this.transitions=new wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ft(r=>0!==r.id),(0,tt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),on(r=>{let a=!1,u=!1;return et(r).pipe((0,vi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),on(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return tp(f.source)&&(this.browserUrlTree=f.extractedUrl),et(f).pipe(on(S=>{const O=this.transitions.getValue();return i.next(new Pf(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),O!==this.transitions.getValue()?ar.E:Promise.resolve(S)}),function xy(n,e,t,i){return on(r=>function bi(n,e,t,i,r){return new fc(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,tt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vi.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function m(n,e,t,i,r){return(0,$n.z)(a=>function Ru(n,e,t,i,r="emptyOnly",a="legacy"){try{const u=new gg(n,e,t,i,r,a).recognize();return null===u?Ls(new Py):et(u)}catch(u){return Ls(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,tt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vi.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(L,S)}this.browserUrlTree=S.urlAfterRedirects}const O=new ba(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:L,source:U,restoredState:J,extras:pe}=f,We=new Pf(O,this.serializeUrl(L),U,J);i.next(We);const Ye=Jd(L,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},f),{targetSnapshot:Ye,urlAfterRedirects:L,extras:Object.assign(Object.assign({},pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),ar.E}),Fe(f=>{const{targetSnapshot:_,id:b,extractedUrl:I,rawUrl:S,extras:{skipLocationChange:O,replaceUrl:L}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:I,rawUrlTree:S,skipLocationChange:!!O,replaceUrl:!!L})}),(0,vi.b)(f=>{const _=new nl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,tt.U)(f=>Object.assign(Object.assign({},f),{guards:Wf(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function hh(n,e){return(0,$n.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?et(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ry(n,e,t,i){return(0,dn.D)(n).pipe((0,$n.z)(r=>function Qf(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?et(a.map(f=>{const _=al(f,e,r);let b;if(function Gf(n){return n&&Go(n.canDeactivate)}(_))b=ui(_.canDeactivate(n,e,t,i));else{if(!Go(_))throw new Error("Invalid CanDeactivate guard");b=ui(_(n,e,t,i))}return b.pipe(tl())})).pipe(ah()):et(!0)}(r.component,r.route,t,e,i)),tl(r=>!0!==r,!0))}(u,i,r,n).pipe((0,$n.z)(f=>f&&function ag(n){return"boolean"==typeof n}(f)?function Oy(n,e,t,i){return(0,dn.D)(e).pipe(Vr(r=>ao(function mg(n,e){return null!==n&&e&&e(new bu(n)),et(!0)}(r.route.parent,i),function fh(n,e){return null!==n&&e&&e(new wa(n)),et(!0)}(r.route,i),function Yf(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function My(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>lo(()=>et(u.guards.map(_=>{const b=al(_,u.node,t);let I;if(function $f(n){return n&&Go(n.canActivateChild)}(b))I=ui(b.canActivateChild(i,n));else{if(!Go(b))throw new Error("Invalid CanActivateChild guard");I=ui(b(i,n))}return I.pipe(tl())})).pipe(ah())));return et(a).pipe(ah())}(n,r.path,t),function Ir(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return et(!0);const r=i.map(a=>lo(()=>{const u=al(a,e,t);let f;if(function Tu(n){return n&&Go(n.canActivate)}(u))f=ui(u.canActivate(e,n));else{if(!Go(u))throw new Error("Invalid CanActivate guard");f=ui(u(e,n))}return f.pipe(tl())}));return et(r).pipe(ah())}(n,r.route,t))),tl(r=>!0!==r,!0))}(i,a,n,e):et(f)),(0,tt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,vi.b)(f=>{if(cc(f.guardsResult)){const b=ho(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new Zd(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Ft(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Fe(f=>{if(f.guards.canActivateChecks.length)return et(f).pipe((0,vi.b)(_=>{const b=new Nf(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),on(_=>{let b=!1;return et(_).pipe(function w(n,e){return(0,$n.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return et(t);let a=0;return(0,dn.D)(r).pipe(Vr(u=>function A(n,e,t,i){return function R(n,e,t,i){const r=K(n);if(0===r.length)return et({});const a={};return(0,dn.D)(r).pipe((0,$n.z)(u=>function ce(n,e,t,i){const r=al(n,e,i);return ui(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe((0,vi.b)(f=>{a[u]=f}))),$d(1),(0,$n.z)(()=>K(a).length===r.length?et(a):ar.E))}(n._resolve,n,e,i).pipe((0,tt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),ng(n,t).resolve),null)))}(u.route,i,n,e)),(0,vi.b)(()=>a++),$d(1),(0,$n.z)(u=>a===r.length?et(t):ar.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,vi.b)(_=>{const b=new Hi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),Fe(f=>{const{targetSnapshot:_,id:b,extractedUrl:I,rawUrl:S,extras:{skipLocationChange:O,replaceUrl:L}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:I,rawUrlTree:S,skipLocationChange:!!O,replaceUrl:!!L})}),(0,tt.U)(f=>{const _=function ig(n,e,t){const i=Cu(n,e._root,t?t._root:void 0);return new Eu(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,vi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,tt.U)(i=>(new Du(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,vi.b)({next(){a=!0},complete(){a=!0}}),Of(()=>{var f;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),ki(f=>{if(u=!0,function fo(n){return n&&n[ii]}(f)){const _=cc(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new qd(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tp(r.source)};this.scheduleNavigation(I,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Nn(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return ar.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Au(t),this.config=t.map(xu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let S=null;switch(f){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),function by(n,e,t,i,r){if(0===t.length)return ac(e.root,e.root,e.root,i,r);const a=function wy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Uf(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return bn(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Uf(t,e,i)}(t);if(a.toRoot())return ac(e.root,e.root,new C([],{}),i,r);const u=function Ey(n,e,t){if(n.isAbsolute)return new Iu(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Iu(a,a===e.root,0)}const i=Cr(n.commands[0])?0:1;return function Hf(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Iu(i,!1,r-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?ih(u.segmentGroup,u.index,a.commands):og(u.segmentGroup,u.index,a.commands);return ac(e.root,u.segmentGroup,f,i,r)}(b,this.currentUrlTree,t,S,null!=I?I:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=cc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ep(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},ph):!1===i?Object.assign({},wg):i,cc(t))return Ca(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Ca(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ps(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){var f,_;if(this.disposed)return Promise.resolve(!1);let b,I,S;u?(b=u.resolve,I=u.reject,S=u.promise):S=new Promise((U,J)=>{b=U,I=J});const O=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),L=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):L=0,this.setTransition({id:O,targetPageId:L,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:I,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(U=>Promise.reject(U))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new qd(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function tp(n){return"imperative"!==n}let np=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new vt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:gc(this.skipLocationChange),replaceUrl:gc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Gi),c.Y36(oc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),mc=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new vt.x,this.subscription=t.events.subscribe(a=>{a instanceof Ps&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){if(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:gc(this.skipLocationChange),replaceUrl:gc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Gi),c.Y36(oc),c.Y36(fe))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function gc(n){return""===n||!!n}let mw=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Ps&&this.update()})}ngAfterContentInit(){et(this.links.changes,this.linksWithHrefs.changes,et(null)).pipe((0,Lo.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,dn.D)(i).pipe((0,Lo.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function gw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Gi),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(np,8),c.Y36(mc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,np,5),c.Suo(r,mc,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.links=a),c.iGM(a=c.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class Eg{}class Cg{preload(e,t){return et(null)}}let yw=(()=>{class n{constructor(t,i,r,a){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new Dr(r,i,_=>t.triggerEvent(new ji(_)),_=>t.triggerEvent(new il(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ft(t=>t instanceof Ps),Vr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children));return(0,dn.D)(r).pipe((0,Lo.J)(),(0,tt.U)(a=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?et(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,$n.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gi),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Eg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fy=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ps&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Yl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=new c.OlP("ROUTER_CONFIGURATION"),yc=new c.OlP("ROUTER_FORROOT_GUARD"),vw=[ye,{provide:oe,useClass:Te},{provide:Gi,useFactory:function Cw(n,e,t,i,r,a,u={},f,_){const b=new Gi(null,n,e,t,i,r,Ff(a));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function Vy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(I=>{var S,O;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(O=console.groupEnd)||void 0===O||O.call(console)}),b},deps:[oe,uc,ye,c.zs3,c.Sil,Ln,_c,[class pc{},new c.FiY],[class rt{},new c.FiY]]},uc,{provide:oc,useFactory:function Iw(n){return n.routerState.root},deps:[Gi]},yw,Cg,class _w{preload(e,t){return t().pipe(ki(()=>et(null)))}},{provide:_c,useValue:{enableTracing:!1}}];function bw(){return new c.PXZ("Router",Gi)}let ww=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[vw,Ly(t),{provide:yc,useFactory:Ew,deps:[[Gi,new c.FiY,new c.tp0]]},{provide:_c,useValue:i||{}},{provide:fe,useFactory:DT,deps:[de,[new c.tBr(Ke),new c.FiY],_c]},{provide:Fy,useFactory:Ig,deps:[Gi,su,_c]},{provide:Eg,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Cg},{provide:c.PXZ,multi:!0,useFactory:bw},[mh,{provide:c.ip1,multi:!0,useFactory:Dg,deps:[mh]},{provide:Tg,useFactory:Dw,deps:[mh]},{provide:c.tb,multi:!0,useExisting:Tg}]]}}static forChild(t){return{ngModule:n,providers:[Ly(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yc,8),c.LFG(Gi,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Ig(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Fy(n,e,t)}function DT(n,e,t={}){return t.useHash?new Ae(n,e):new nt(n,e)}function Ew(n){return"guarded"}function Ly(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Ln,multi:!0,useValue:n}]}let mh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new vt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(Gi),u=this.injector.get(_c);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(_c),r=this.injector.get(yw),a=this.injector.get(Fy),u=this.injector.get(Gi),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Dg(n){return n.appInitializer.bind(n)}function Dw(n){return n.bootstrapListener.bind(n)}const Tg=new c.OlP("Router Initializer");var ul=P(4986),qn=P(5813);function Sg(){return(0,vn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Sn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Ag(n,e=os.y){return n=null!=n?n:TT,(0,vn.e)((t,i)=>{let r,a=!0;t.subscribe((0,Sn.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function TT(n,e){return n===e}var ot,Tr=P(2011),By=(P(2274),P(3942)),ve=P(5861),_o=P(9681),gh=P(4859),dl=P(1877),Mt=P(2090),ST="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ri={},xg=xg||{},Pt=ST||self;function Mg(){}function Uy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ip(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hy="closure_uid_"+(1e9*Math.random()>>>0),AT=0;function xT(n,e,t){return n.call.apply(n.bind,arguments)}function Lt(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function zi(n,e,t){return(zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xT:Lt).apply(null,arguments)}function rp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function qi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function zo(){this.s=this.s,this.o=this.o}var Mw={};zo.prototype.s=!1,zo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function xw(n){return Object.prototype.hasOwnProperty.call(n,Hy)&&n[Hy]||(n[Hy]=++AT)}(this);delete Mw[n]}},zo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},kg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function Rg(n){return Array.prototype.concat.apply([],arguments)}function Og(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function _h(n){return/^[\s\xa0]*$/.test(n)}var Zi,MT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Sr(n,e){return-1!=n.indexOf(e)}function Rw(n,e){return n<e?-1:n>e?1:0}e:{var sp=Pt.navigator;if(sp){var Pg=sp.userAgent;if(Pg){Zi=Pg;break e}}Zi=""}function op(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Ng(n){const e={};for(const t in n)e[t]=n[t];return e}var kT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ow(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<kT.length;a++)t=kT[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function jy(n){return jy[" "](n),n}jy[" "]=Mg;var Fg,n,OT=Sr(Zi,"Opera"),Pu=Sr(Zi,"Trident")||Sr(Zi,"MSIE"),PT=Sr(Zi,"Edge"),$y=PT||Pu,NT=Sr(Zi,"Gecko")&&!(Sr(Zi.toLowerCase(),"webkit")&&!Sr(Zi,"Edge"))&&!(Sr(Zi,"Trident")||Sr(Zi,"MSIE"))&&!Sr(Zi,"Edge"),Pw=Sr(Zi.toLowerCase(),"webkit")&&!Sr(Zi,"Edge");function Gy(){var n=Pt.document;return n?n.documentMode:void 0}e:{var ap="",Nw=(n=Zi,NT?/rv:([^\);]+)(\)|;)/.exec(n):PT?/Edge\/([\d\.]+)/.exec(n):Pu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pw?/WebKit\/(\S+)/.exec(n):OT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nw&&(ap=Nw?Nw[1]:""),Pu){var Fw=Gy();if(null!=Fw&&Fw>parseFloat(ap)){Fg=String(Fw);break e}}Fg=ap}var SM={};var xM=Pt.document&&Pu&&(Gy()||parseInt(Fg,10))||void 0,MM=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",Mg,e),Pt.removeEventListener("test",Mg,e)}catch(t){}return n}();function Ur(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Lg(n,e){if(Ur.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(NT){e:{try{jy(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Lg.Z.h.call(this)}}Ur.prototype.h=function(){this.defaultPrevented=!0},qi(Lg,Ur);var vc={2:"touch",3:"pen",4:"mouse"};Lg.prototype.h=function(){Lg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nu="closure_listenable_"+(1e6*Math.random()|0),LT=0;function Vw(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++LT,this.ca=this.fa=!1}function yh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function lp(n){this.src=n,this.g={},this.h=0}function cp(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=kw(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(yh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function zy(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}lp.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=zy(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new Vw(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var Sa="closure_lm_"+(1e6*Math.random()|0),Vg={};function Bw(n,e,t,i,r){if(i&&i.once)return qy(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Bw(n,e[a],t,i,r);return null}return t=Fu(t),n&&n[Nu]?n.N(e,t,ip(i)?!!i.capture:!!i,r):Bg(n,e,t,!1,i,r)}function Bg(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=ip(r)?!!r.capture:!!r,f=up(n);if(f||(n[Sa]=f=new lp(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function VT(){var e=bh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)MM||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(vh(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function qy(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)qy(n,e[a],t,i,r);return null}return t=Fu(t),n&&n[Nu]?n.O(e,t,ip(i)?!!i.capture:!!i,r):Bg(n,e,t,!0,i,r)}function Uw(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)Uw(n,e[a],t,i,r);else i=ip(i)?!!i.capture:!!i,t=Fu(t),n&&n[Nu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=zy(a=n.g[e],t,i,r))&&(yh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=up(n))&&(e=n.g[e.toString()],n=-1,e&&(n=zy(e,t,i,r)),(t=-1<n?e[n]:null)&&Zy(t))}function Zy(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Nu])cp(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(vh(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=up(e))?(cp(t,n),0==t.h&&(t.src=null,e[Sa]=null)):yh(n)}}}function vh(n){return n in Vg?Vg[n]:Vg[n]="on"+n}function bh(n,e){if(n.ca)n=!0;else{e=new Lg(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Zy(n),n=t.call(i,e)}return n}function up(n){return(n=n[Sa])instanceof lp?n:null}var bc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(n){return"function"==typeof n?n:(n[bc]||(n[bc]=function(e){return n.handleEvent(e)}),n[bc])}function Zn(){zo.call(this),this.i=new lp(this),this.P=this,this.I=null}function ur(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ur(e,n);else if(e instanceof Ur)e.target=e.target||n;else{var r=e;Ow(e=new Ur(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=dp(u,i,!0,e)&&r}if(r=dp(u=e.g=n,i,!0,e)&&r,r=dp(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=dp(u=e.g=t[a],i,!1,e)&&r}function dp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&cp(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}qi(Zn,zo),Zn.prototype[Nu]=!0,Zn.prototype.removeEventListener=function(n,e,t,i){Uw(this,n,e,t,i)},Zn.prototype.M=function(){if(Zn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)yh(t[i]);delete n.g[e],n.h--}}this.I=null},Zn.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Zn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ug=Pt.JSON.stringify;function Wy(){var n=$w;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Hw,Yy=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Hg,n=>n.reset());class Hg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function BT(n){Pt.setTimeout(()=>{throw n},0)}function jg(n,e){Hw||function jw(){var n=Pt.Promise.resolve(void 0);Hw=function(){n.then(Gw)}}(),$g||(Hw(),$g=!0),$w.add(n,e)}var $g=!1,$w=new class Ky{constructor(){this.h=this.g=null}add(e,t){const i=Yy.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Gw(){for(var n;n=Wy();){try{n.h.call(n.g)}catch(t){BT(t)}var e=Yy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$g=!1}function Gg(n,e){Zn.call(this),this.h=n||1,this.g=e||Pt,this.j=zi(this.kb,this),this.l=Date.now()}function Qy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Hr(n,e,t){if("function"==typeof n)t&&(n=zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pt.setTimeout(n,e||0)}function zw(n){n.g=Hr(()=>{n.g=null,n.i&&(n.i=!1,zw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qi(Gg,Zn),(ot=Gg.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ur(this,"tick"),this.da&&(Qy(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){Gg.Z.M.call(this),Qy(this),delete this.g};class UT extends zo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zw(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zg(n){zo.call(this),this.h=n,this.g={}}qi(zg,zo);var HT=[];function Xy(n,e,t,i){Array.isArray(t)||(t&&(HT[0]=t.toString()),t=HT);for(var r=0;r<t.length;r++){var a=Bw(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function jT(n){op(n.g,function(e,t){this.g.hasOwnProperty(t)&&Zy(e)},n),n.g={}}function qg(){this.g=!0}function wh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function GT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Ug(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}zg.prototype.M=function(){zg.Z.M.call(this),jT(this)},zg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qg.prototype.Aa=function(){this.g=!1},qg.prototype.info=function(){};var wc={},Zw=null;function hp(){return Zw=Zw||new Zn}function Ww(n){Ur.call(this,wc.Ma,n)}function fp(n){const e=hp();ur(e,new Ww(e,n))}function ev(n,e){Ur.call(this,wc.STAT_EVENT,n),this.stat=e}function Ar(n){const e=hp();ur(e,new ev(e,n))}function Kw(n,e){Ur.call(this,wc.Na,n),this.size=e}function fs(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},e)}wc.Ma="serverreachability",qi(Ww,Ur),wc.STAT_EVENT="statevent",qi(ev,Ur),wc.Na="timingevent",qi(Kw,Ur);var Eh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tv(){}function nv(){}tv.prototype.h=null;var mp,pp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function iv(){Ur.call(this,"d")}function rv(){Ur.call(this,"c")}function Zg(){}function gp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new zg(this),this.P=sv,this.W=new Gg(n=$y?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _p}function _p(){this.i=null,this.g="",this.h=!1}qi(iv,Ur),qi(rv,Ur),qi(Zg,tv),Zg.prototype.g=function(){return new XMLHttpRequest},Zg.prototype.i=function(){return{}},mp=new Zg;var sv=45e3,ov={},Ch={};function yp(n,e,t){n.K=1,n.v=bp(Wo(e)),n.s=t,n.U=!0,av(n,null)}function av(n,e){n.F=Date.now(),Wg(n),n.A=Wo(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Ko(t.h,"t",i),n.C=0,t=n.l.H,n.h=new _p,n.g=Gu(n.l,t?e:null,!n.s),0<n.O&&(n.L=new UT(zi(n.Ia,n,n.g),n.O)),Xy(n.V,n.g,"readystatechange",n.gb),e=n.H?Ng(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),fp(1),function Jy(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var I=b[0];b=b[1];var S=I.split("_");u=2<=S.length&&"type"==S[1]?u+(I+"=")+b+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function qT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ZT(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=lv(n,t),r==Ch){4==e&&(n.o=4,Ar(14),i=!1),wh(n.j,n.m,null,"[Incomplete Response]");break}if(r==ov){n.o=4,Ar(15),wh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}wh(n.j,n.m,r,null),Kg(n,r)}qT(n)&&r!=Ch&&r!=ov&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ar(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ps(e),e.L=!0,Ar(11))):(wh(n.j,n.m,t,"[Invalid Chunked Response]"),Ec(n),Ih(n))}function lv(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ch:(t=Number(e.substring(t,i)),isNaN(t)?ov:(i+=1)+t>e.length?Ch:(e=e.substr(i,t),n.C=i+t,e))}function Wg(n){n.Y=Date.now()+n.P,Qw(n,n.P)}function Qw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fs(zi(n.eb,n),e)}function vp(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function Ih(n){0==n.l.G||n.I||Uu(n.l,n)}function Ec(n){vp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Qy(n.W),jT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Kg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pv(t.i,n)))if(t.I=n.N,!n.J&&pv(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=fs(zi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;gl(t),n_(t)}xh(t),Ar(18)}if(1>=aE(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else yo(t,11)}else if((n.J||t.g==n)&&gl(t),!_h(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const I=b[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const S=b[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(t.K=i=1.5*O,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const L=n.g;if(L){const U=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=i.i;!a.g&&(Sr(U,"spdy")||Sr(U,"quic")||Sr(U,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(mv(a,a.h),a.h=null))}if(i.D){const J=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.sa=J,An(i.F,i.D,J))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=$u(i,i.H?i.la:null,i.W),u.J){gv(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(vp(f),Wg(f)),i.g=u}else Ac(i);0<t.l.length&&i_(t)}else"stop"!=b[0]&&"close"!=b[0]||yo(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?yo(t,7):Sc(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}fp(4)}catch(b){}}function Zo(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uy(n)||"string"==typeof n)kg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Uy(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Xw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Uy(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function fl(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof fl)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function cv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Lu(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Lu(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Lu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=gp.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==pl(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const I=pl(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>I)&&(3!=I||$y||this.g&&(this.h.h||this.g.ga()||hE(this.g)))){this.I||4!=I||7==e||fp(8==e||0>=S?3:2),vp(this);var t=this.g.ba();this.N=t;t:if(qT(this)){var i=hE(this.g);n="";var r=i.length,a=4==pl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ec(this),Ih(this);var u="";break t}this.h.i=new Pt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function qw(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_h(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ar(12),Ec(this),Ih(this);break e}wh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kg(this,t)}this.U?(ZT(this,I,u),$y&&this.i&&3==I&&(Xy(this.V,this.W,"tick",this.fb),this.W.start())):(wh(this.j,this.m,u,null),Kg(this,u)),4==I&&Ec(this),this.i&&!this.I&&(4==I?Uu(this.l,this):(this.i=!1,Wg(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),Ec(this),Ih(this)}}}catch(I){}},ot.fb=function(){if(this.g){var n=pl(this.g),e=this.g.ga();this.C<e.length&&(vp(this),ZT(this,n,e),this.i&&4!=n&&Wg(this))}},ot.cancel=function(){this.I=!0,Ec(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function $T(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fp(3),Ar(17)),Ec(this),this.o=2,Ih(this)):Qw(this,this.Y-n)},(ot=fl.prototype).R=function(){cv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return cv(this),this.g.concat()},ot.get=function(n,e){return Lu(this.h,n)?this.h[n]:e},ot.set=function(n,e){Lu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var WT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Cc){this.g=void 0!==e?e:n.g,Ic(this,n.j),this.s=n.s,Yg(this,n.i),Dh(this,n.m),this.l=n.l,e=n.h;var t=new Cp;t.i=e.i,e.g&&(t.g=new fl(e.g),t.h=e.h),dv(this,t),this.o=n.o}else n&&(t=String(n).match(WT))?(this.g=!!e,Ic(this,t[1]||"",!0),this.s=wp(t[2]||""),Yg(this,t[3]||"",!0),Dh(this,t[4]),this.l=wp(t[5]||"",!0),dv(this,t[6]||"",!0),this.o=wp(t[7]||"")):(this.g=!!e,this.h=new Cp(null,this.g))}function Wo(n){return new Cc(n)}function Ic(n,e,t){n.j=t?wp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yg(n,e,t){n.i=t?wp(e,!0):e}function Dh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function dv(n,e,t){e instanceof Cp?(n.h=e,function iE(n,e){e&&!n.j&&(Dc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(tE(this,i),Ko(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ep(e,QT)),n.h=new Cp(e,n.g))}function An(n,e,t){n.h.set(e,t)}function bp(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ep(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Jw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ep(e,Vu,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ep(e,Vu,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ep(t,"/"==t.charAt(0)?YT:eE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ep(t,Th)),n.join("")};var Vu=/[#\/\?@]/g,eE=/[#\?:]/g,YT=/[#\?]/g,QT=/[#\?@]/g,Th=/#/g;function Cp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Dc(n){n.g||(n.g=new fl,n.h=0,n.i&&function uv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function tE(n,e){Dc(n),e=Tc(n,e),Lu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Lu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&cv(n)))}function nE(n,e){return Dc(n),e=Tc(n,e),Lu(n.g.h,e)}function Ko(n,e,t){tE(n,e),0<t.length&&(n.i=null,n.g.set(Tc(n,e),Og(t)),n.h+=t.length)}function Tc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fv(n){this.l=n||sE,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=Cp.prototype).add=function(n,e){Dc(this),this.i=null,n=Tc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){Dc(this),this.g.forEach(function(t,i){kg(t,function(r){n.call(e,r,i,this)},this)},this)},ot.T=function(){Dc(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},ot.R=function(n){Dc(this);var e=[];if("string"==typeof n)nE(this,n)&&(e=Rg(e,this.g.get(Tc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Rg(e,n[t])}return e},ot.set=function(n,e){return Dc(this),this.i=null,nE(this,n=Tc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var sE=10;function oE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aE(n){return n.h?1:n.g?n.g.size:0}function pv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mv(n,e){n.g?n.g.add(e):n.h=e}function gv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function XT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Og(n.i)}function Qg(){}function JT(){this.g=new Qg}function eS(n,e,t){const i=t||"";try{Zo(n,function(r,a){let u=r;ip(r)&&(u=Ug(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function _v(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function Bu(n){this.l=n.$b||null,this.j=n.ib||!1}function Xg(n,e){Zn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Jg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fv.prototype.cancel=function(){if(this.i=XT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Qg.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},Qg.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},qi(Bu,tv),Bu.prototype.g=function(){return new Xg(this.l,this.j)},Bu.prototype.i=function(n){return function(){return n}}({}),qi(Xg,Zn);var Jg=0;function yv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function e_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jr(n)}function jr(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=Xg.prototype).open=function(n,e){if(this.readyState!=Jg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jr(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,e_(this)),this.readyState=Jg},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?e_(this):jr(this),3==this.readyState&&yv(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,e_(this))},ot.Ta=function(n){this.g&&(this.response=n,e_(this))},ot.ha=function(){this.g&&e_(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var RM=Pt.JSON.parse;function Oi(n){Zn.call(this),this.headers=new fl,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vv,this.K=this.L=!1}qi(Oi,Zn);var vv="",lE=/^https?$/i,cE=["POST","PUT"];function OM(n){return"content-type"==n.toLowerCase()}function bv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,t_(n),Sh(n)}function t_(n){n.D||(n.D=!0,ur(n,"complete"),ur(n,"error"))}function uE(n){if(n.h&&void 0!==xg&&(!n.C[1]||4!=pl(n)||2!=n.ba()))if(n.v&&4==pl(n))Hr(n.Fa,0,n);else if(ur(n,"readystatechange"),4==pl(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(WT)[1]||null;if(!r&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;r=a.substr(0,a.length-1)}i=!lE.test(r?r.toLowerCase():"")}t=i}if(t)ur(n,"complete"),ur(n,"success");else{n.m=6;try{var u=2<pl(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",t_(n)}}finally{Sh(n)}}}function Sh(n,e){if(n.g){dE(n);const t=n.g,i=n.C[0]?Mg:null;n.g=null,n.C=null,e||ur(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function dE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function pl(n){return n.g?n.g.readyState:0}function hE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function wv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function nS(n){let e="";return op(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function Ip(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Dp(n){this.za=0,this.l=[],this.h=new qg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ip("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ip("baseRetryDelayMs",5e3,n),this.$a=Ip("retryDelaySeedMs",1e4,n),this.Ya=Ip("forwardChannelMaxRetries",2,n),this.ra=Ip("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new fv(n&&n.concurrentRequestLimit),this.Ca=new JT,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Sc(n){if(Ah(n),3==n.G){var e=n.V++,t=Wo(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),ml(n,t),(e=new gp(n,n.h,e,void 0)).K=2,e.v=bp(Wo(t)),t=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(t=Pt.navigator.sendBeacon(e.v.toString(),"")),!t&&Pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Gu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Wg(e)}ju(n)}function n_(n){n.g&&(ps(n),n.g.cancel(),n.g=null)}function Ah(n){n_(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),gl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function Ev(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&i_(n)}function i_(n){oE(n.i)||n.m||(n.m=!0,jg(n.Ha,n),n.C=0)}function Yo(n,e){var t;t=e?e.m:n.V++;const i=Wo(n.F);An(i,"SID",n.J),An(i,"RID",t),An(i,"AID",n.U),ml(n,i),n.o&&n.s&&wv(i,n.o,n.s),t=new gp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=dr(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),mv(n.i,t),yp(t,i,e)}function ml(n,e){n.j&&Zo({},function(t,i){An(e,i,t)})}function dr(n,e,t){t=Math.min(n.l.length,t);var i=n.j?zi(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const I=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{eS(I,u,"req"+b+"_")}catch(S){i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Ac(n){n.g||n.u||(n.Y=1,jg(n.Ga,n),n.A=0)}function xh(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=fs(zi(n.Ga,n),Hu(n,n.A)),n.A++,0))}function ps(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function r_(n){n.g=new gp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Wo(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),ml(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&wv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=bp(Wo(e)),t.s=null,t.U=!0,av(t,n)}function gl(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function Uu(n,e){var t=null;if(n.g==e){gl(n),ps(n),n.g=null;var i=2}else{if(!pv(n.i,e))return;t=e.D,gv(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ur(i=hp(),new Kw(i,t,e,r)),i_(n)}else Ac(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function Cv(n,e){return!(aE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=fs(zi(n.Ha,n,e),Hu(n,n.C)),n.C++,0)))}(n,e)||2==i&&xh(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:yo(n,5);break;case 4:yo(n,10);break;case 3:yo(n,6);break;default:yo(n,2)}}function Hu(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function yo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=zi(n.jb,n);t||(t=new Cc("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||Ic(t,"https"),bp(t)),function kM(n,e){const t=new qg;if(Pt.Image){const i=new Image;i.onload=rp(_v,t,i,"TestLoadImage: loaded",!0,e),i.onerror=rp(_v,t,i,"TestLoadImage: error",!1,e),i.onabort=rp(_v,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=rp(_v,t,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ar(2);n.G=0,n.j&&n.j.va(e),ju(n),Ah(n)}function ju(n){n.G=0,n.I=-1,n.j&&((0!=XT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Og(n.l),n.l.length=0),n.j.ua())}function $u(n,e,t){let i=function KT(n){return n instanceof Cc?Wo(n):new Cc(n,void 0)}(t);if(""!=i.i)e&&Yg(i,e+"."+i.i),Dh(i,i.m);else{const r=Pt.location;i=function hv(n,e,t,i){var r=new Cc(null,void 0);return n&&Ic(r,n),e&&Yg(r,e),t&&Dh(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&op(n.aa,function(r,a){An(i,a,r)}),t=n.sa,(e=n.D)&&t&&An(i,e,t),An(i,"VER",n.ma),ml(n,i),i}function Gu(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Oi(t&&n.Ba&&!n.qa?new Bu({ib:!0}):n.qa)).L=n.H,e}function zu(){}function _l(){if(Pu&&!(10<=Number(xM)))throw Error("Environmental error: no available transport.")}function ms(n,e){Zn.call(this),this.g=new Dp(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!_h(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_h(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qu(this)}function Iv(n){iv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Dv(){rv.call(this),this.status=1}function qu(n){this.g=n}(ot=Oi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mp.g(),this.C=function zT(n){return n.h||(n.h=n.i())}(this.u?this.u:mp),this.g.onreadystatechange=zi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void bv(this,a)}n=t||"";const r=new fl(this.headers);i&&Zo(i,function(a,u){r.set(u,a)}),i=function hl(n){e:{var e=OM;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Pt.FormData&&n instanceof Pt.FormData,!(0<=kw(cE,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dE(this),0<this.B&&((this.K=function tS(n){return Pu&&function AM(){return function RT(n){var e=SM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=MT(String(Fg)).split("."),t=MT("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Rw(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Rw(0==r[2].length,0==a[2].length)||Rw(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zi(this.pa,this)):this.A=Hr(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){bv(this,a)}},ot.pa=function(){void 0!==xg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ur(this,"complete"),ur(this,"abort"),Sh(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sh(this,!0)),Oi.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?uE(this):this.cb())},ot.cb=function(){uE(this)},ot.ba=function(){try{return 2<pl(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),RM(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=Dp.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new gp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Ng(a),Ow(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dr(this,r,e),An(t=Wo(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),ml(this,t),this.o&&a&&wv(t,this.o,a),mv(this.i,r),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),r.$=!0,yp(r,t,null)):yp(r,t,e),this.G=2}}else 3==this.G&&(n?Yo(this,n):0==this.l.length||oE(this.i)||Yo(this))},ot.Ga=function(){if(this.u=null,r_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=fs(zi(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ar(10),n_(this),r_(this))},ot.ab=function(){null!=this.v&&(this.v=null,n_(this),xh(this),Ar(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ar(2)):(this.h.info("Failed to ping google.com"),Ar(1))},(ot=zu.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},_l.prototype.g=function(n,e){return new ms(n,e)},qi(ms,Zn),ms.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),jg(zi(n.hb,n,e))),Ar(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=$u(n,null,n.W),i_(n)},ms.prototype.close=function(){Sc(this.g)},ms.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Ev(this.g,e)}else this.v?((e={}).__data__=Ug(n),Ev(this.g,e)):Ev(this.g,n)},ms.prototype.M=function(){this.g.j=null,delete this.j,Sc(this.g),delete this.g,ms.Z.M.call(this)},qi(Iv,iv),qi(Dv,rv),qi(qu,zu),qu.prototype.xa=function(){ur(this.g,"a")},qu.prototype.wa=function(n){ur(this.g,new Iv(n))},qu.prototype.va=function(n){ur(this.g,new Dv(n))},qu.prototype.ua=function(){ur(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,Eh.NO_ERROR=0,Eh.TIMEOUT=8,Eh.HTTP_ERROR=6,Yw.COMPLETE="complete",nv.EventType=pp,pp.OPEN="a",pp.CLOSE="b",pp.ERROR="c",pp.MESSAGE="d",Zn.prototype.listen=Zn.prototype.N,Oi.prototype.listenOnce=Oi.prototype.O,Oi.prototype.getLastError=Oi.prototype.La,Oi.prototype.getLastErrorCode=Oi.prototype.Da,Oi.prototype.getStatus=Oi.prototype.ba,Oi.prototype.getResponseJson=Oi.prototype.Qa,Oi.prototype.getResponseText=Oi.prototype.ga,Oi.prototype.send=Oi.prototype.ea;var fE=Ri.createWebChannelTransport=function(){return new _l},pE=Ri.getStatEventTarget=function(){return hp()},s_=Ri.ErrorCode=Eh,mE=Ri.EventType=Yw,gE=Ri.Event=wc,_E=Ri.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yE=Ri.FetchXmlHttpFactory=Bu,o_=Ri.WebChannel=nv,vE=Ri.XhrIo=Oi;const Tv="@firebase/firestore";class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Mh="9.9.4";const yl=new dl.Yd("@firebase/firestore");function Sv(){return yl.logLevel}function Oe(n,...e){if(yl.logLevel<=dl.in.DEBUG){const t=e.map(Av);yl.debug(`Firestore (${Mh}): ${n}`,...t)}}function hi(n,...e){if(yl.logLevel<=dl.in.ERROR){const t=e.map(Av);yl.error(`Firestore (${Mh}): ${n}`,...t)}}function kh(n,...e){if(yl.logLevel<=dl.in.WARN){const t=e.map(Av);yl.warn(`Firestore (${Mh}): ${n}`,...t)}}function Av(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Mh}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function St(n,e){n||st()}function Je(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class rS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Rh{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new xv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Wi(e)}}class sS{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(St(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class wE{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new sS(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CE{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.A=t.token,new EE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oS(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class kv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=oS(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Nt(n,e){return n<e?-1:n>e?1:0}function Oh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function IE(n){return n+"\0"}class Vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Vn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Vn(0,0))}static max(){return new At(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ph{constructor(e,t,i){void 0===t?t=0:t>e.length&&st(),void 0===i?i=e.length-t:i>e.length-t&&st(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ph.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ph?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Ph{construct(e,t,i){return new Qt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const DE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Ph{construct(e,t,i){return new Wn(e,t,i)}static isValidIdentifier(e){return DE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new ke(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new ke(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new ke(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(t)}static emptyPath(){return new Wn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Qt.fromString(e))}static fromName(e){return new ze(Qt.fromString(e).popFirst(5))}static empty(){return new ze(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Qt(e.slice()))}}class Rv{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Tp(n){return n.fields.find(e=>2===e.kind)}function Zu(n){return n.fields.filter(e=>2!==e.kind)}Rv.UNKNOWN_ID=-1;class xc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wu(0,xr.min())}}function a_(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new Vn(t+1,0):new Vn(t,i));return new xr(r,ze.empty(),e)}function SE(n){return new xr(n.readTime,n.key,-1)}class xr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xr(At.min(),ze.empty(),-1)}static max(){return new xr(At.max(),ze.empty(),-1)}}function Nh(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const l_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mc(n){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,ve.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==l_)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),Fh.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(I=>{u[b]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Sp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ki,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Lh(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=c_(i.target.error);this.P.reject(new Lh(e,r))}}static open(e,t,i,r){try{return new Sp(t,e.transaction(r,i))}catch(a){throw new Lh(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pv(t)}}class vo{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===vo.D((0,Mt.z$)())&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),bl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Mt.hl)())return!1;if(vo.N())return!0;const e=(0,Mt.z$)(),t=vo.D(e),i=0<t&&t<10,r=vo.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Lh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new ke(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Lh(e,f))},a.onupgradeneeded=u=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ve.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const _=Sp.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),se.reject(I))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,I="FirebaseError"!==b.name&&f<3;if(Oe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",I),a.close(),!I)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ov{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return bl(this.U.delete())}}class Lh extends ke{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vl(n){return"IndexedDbTransactionError"===n.name}class Pv{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),bl(i)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),bl(this.store.add(e))}get(e){return bl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),bl(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),bl(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=c_(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new Ov(f),b=t(f.primaryKey,f.value,_);if(b instanceof se){const I=b.catch(S=>(_.done(),se.reject(S)));i.push(I)}_.isDone?r():null===_.G?f.continue():f.continue(_.G)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bl(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=c_(i.target.error);t(r)}})}let AE=!1;function c_(n){const e=vo.D((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AE||(AE=!0,setTimeout(()=>{throw i},0)),i}}return n}class xE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){vl(i)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Mc(i)}yield t.nt(1)}))}}class Nv{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Oe("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,a)).next(f=>(Oe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=SE(a);Nh(u,i)>0&&(i=u)}),new xr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $r{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ME(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}$r.at=-1;class Bn{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new Bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:Yi.RED,this.left=null!=r?r:Yi.EMPTY,this.right=null!=a?a:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Yi(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ku(n){return n.hasNext()?n.getNext():void 0}class gs{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new gs([])}unionWith(e){let t=new pn(Wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const RE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(n){if(St(!!n),"string"==typeof n){let e=0;const t=RE.exec(n);if(St(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ri(n.seconds),nanos:ri(n.nanos)}}function ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qu(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function u_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function OE(n){const e=n.mapValue.fields.__previous_value__;return u_(e)?OE(e):e}function Kn(n){const e=Yu(n.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}class PE{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Rc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}function Ap(n){return null==n}function Bh(n){return 0===n&&1/n==-1/0}function NE(n){return"number"==typeof n&&Number.isInteger(n)&&!Bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xp={nullValue:"NULL_VALUE"};function bo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u_(n)?4:wo(n)?9007199254740991:10:st()}function Aa(n,e){if(n===e)return!0;const t=bo(n);if(t!==bo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kn(n).isEqual(Kn(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Yu(i.timestampValue),u=Yu(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Qu(n.bytesValue).isEqual(Qu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return ri(i.geoPointValue.latitude)===ri(r.geoPointValue.latitude)&&ri(i.geoPointValue.longitude)===ri(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ri(i.integerValue)===ri(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ri(i.doubleValue),u=ri(r.doubleValue);return a===u?Bh(a)===Bh(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Oh(n.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(ME(a)!==ME(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Aa(a[f],u[f])))return!1;return!0}(n,e);default:return st()}var r}function Mp(n,e){return void 0!==(n.values||[]).find(t=>Aa(t,e))}function El(n,e){if(n===e)return 0;const t=bo(n),i=bo(e);if(t!==i)return Nt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=ri(r.integerValue||r.doubleValue),f=ri(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return FE(n.timestampValue,e.timestampValue);case 4:return FE(Kn(n),Kn(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Qu(r),f=Qu(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Nt(u[_],f[_]);if(0!==b)return b}return Nt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Nt(ri(r.latitude),ri(a.latitude));return 0!==u?u:Nt(ri(r.longitude),ri(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=El(u[_],f[_]);if(b)return b}return Nt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===wl.mapValue&&a===wl.mapValue)return 0;if(r===wl.mapValue)return 1;if(a===wl.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let I=0;I<f.length&&I<b.length;++I){const S=Nt(f[I],b[I]);if(0!==S)return S;const O=El(u[f[I]],_[b[I]]);if(0!==O)return O}return Nt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw st()}}function FE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Yu(n),i=Yu(e),r=Nt(t.seconds,i.seconds);return 0!==r?r:Nt(t.nanos,i.nanos)}function Xu(n){return LE(n)}function LE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Yu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qu(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=LE(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${LE(i.fields[f])}`;return a+"}"}(n.mapValue):st();var e}function Cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kp(n){return!!n&&"integerValue"in n}function _s(n){return!!n&&"arrayValue"in n}function VE(n){return!!n&&"nullValue"in n}function BE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vs(n){return!!n&&"mapValue"in n}function Gr(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Gr(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gr(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wo(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UE(n){return"nullValue"in n?xp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cl(Rc.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function HE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cl(Rc.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wl:st()}function jE(n,e){const t=El(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $E(n,e){const t=El(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gr(t)}setAll(e){let t=Wn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Gr(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Vs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Vs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){kc(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new hr(Gr(this.value))}}function GE(n){const e=[];return kc(n.fields,(t,i)=>{const r=new Wn([t]);if(Vs(i)){const a=GE(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new gs(e)}class _n{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new _n(e,0,At.min(),At.min(),hr.empty(),0)}static newFoundDocument(e,t,i){return new _n(e,1,t,At.min(),i,0)}static newNoDocument(e,t){return new _n(e,2,t,At.min(),hr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,At.min(),hr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rp{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ht=null}}function zE(n,e=null,t=[],i=[],r=null,a=null,u=null){return new Rp(n,e,t,i,r,a,u)}function Oc(n){const e=Je(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Xu(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ap(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xu(i)).join(",")),e.ht=t}return e.ht}function Uh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!XE(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Aa(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eC(n.startAt,e.startAt)&&eC(n.endAt,e.endAt)}function Op(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ju(n,e){return n.filters.filter(t=>t instanceof Qi&&t.field.isEqual(e))}function qE(n,e,t){let i=xp,r=!0;for(const a of Ju(n,e)){let u=xp,f=!0;switch(a.op){case"<":case"<=":u=UE(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=xp}jE({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];jE({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function Vv(n,e,t){let i=wl,r=!0;for(const a of Ju(n,e)){let u=wl,f=!0;switch(a.op){case">=":case">":u=HE(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=wl}$E({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];$E({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Qi extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new Bv(e,t,i):"array-contains"===t?new WE(e,i):"in"===t?new KE(e,i):"not-in"===t?new YE(e,i):"array-contains-any"===t?new QE(e,i):new Qi(e,t,i)}static lt(e,t,i){return"in"===t?new d_(e,i):new ZE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(El(t,this.value)):null!==t&&bo(this.value)===bo(t)&&this.ft(El(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bv extends Qi{constructor(e,t,i){super(e,t,i),this.key=ze.fromName(i.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.ft(t)}}class d_ extends Qi{constructor(e,t){super(e,"in",t),this.keys=Uv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZE extends Qi{constructor(e,t){super(e,"not-in",t),this.keys=Uv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ze.fromName(i.referenceValue))}class WE extends Qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _s(t)&&Mp(t.arrayValue,this.value)}}class KE extends Qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mp(this.value.arrayValue,t)}}class YE extends Qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mp(this.value.arrayValue,t)}}class QE extends Qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_s(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Mp(this.value.arrayValue,i))}}class Il{constructor(e,t){this.position=e,this.inclusive=t}}class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function XE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function JE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?ze.comparator(ze.fromName(u.referenceValue),t.key):El(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function eC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Aa(n.position[t],e.position[t]))return!1;return!0}class Dl{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function tC(n,e,t,i,r,a,u,f){return new Dl(n,e,t,i,r,a,u,f)}function Hh(n){return new Dl(n)}function nC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function jv(n){for(const e of n.filters)if(e.dt())return e.field;return null}function $v(n){return null!==n.collectionGroup}function jh(n){const e=Je(n);if(null===e._t){e._t=[];const t=jv(e),i=Hv(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new ed(t)),e._t.push(new ed(Wn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ed(Wn.keyField(),a))}}}return e._t}function ys(n){const e=Je(n);if(!e.wt)if("F"===e.limitType)e.wt=zE(e.path,e.collectionGroup,jh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of jh(e))t.push(new ed(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Il(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Il(e.startAt.position,e.startAt.inclusive):null;e.wt=zE(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function h_(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pp(n,e){return Uh(ys(n),ys(e))&&n.limitType===e.limitType}function iC(n){return`${Oc(ys(n))}|lt:${n.limitType}`}function Gv(n){return`Query(target=${function lS(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Xu(i.value)}`;var i}).join(", ")}]`),Ap(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Xu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Xu(t)).join(",")),`Target(${e})`}(ys(n))}; limitType=${n.limitType})`}function zv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=JE(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,jh(t),i)||t.endAt&&!function(r,a,u){const f=JE(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,jh(t),i)));var t,i}function rC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qv(n){return(e,t)=>{let i=!1;for(const r of jh(n)){const a=sC(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function sC(n,e,t){const i=n.field.isKeyField()?ze.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?El(f,_):st()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}function Zv(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function Wv(n){return{integerValue:""+n}}function Kv(n,e){return NE(e)?Wv(e):Zv(n,e)}class Np{constructor(){this._=void 0}}function oC(n,e,t){return n instanceof Pc?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Tl?Nc(n,e):n instanceof td?lC(n,e):function(i,r){const a=Yv(i,r),u=cS(a)+cS(i.yt);return kp(a)&&kp(i.yt)?Wv(u):Zv(i.It,u)}(n,e)}function aC(n,e,t){return n instanceof Tl?Nc(n,e):n instanceof td?lC(n,e):t}function Yv(n,e){return n instanceof Qo?kp(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Pc extends Np{}class Tl extends Np{constructor(e){super(),this.elements=e}}function Nc(n,e){const t=f_(e);for(const i of n.elements)t.some(r=>Aa(r,i))||t.push(i);return{arrayValue:{values:t}}}class td extends Np{constructor(e){super(),this.elements=e}}function lC(n,e){let t=f_(e);for(const i of n.elements)t=t.filter(r=>!Aa(r,i));return{arrayValue:{values:t}}}class Qo extends Np{constructor(e,t){super(),this.It=e,this.yt=t}}function cS(n){return ri(n.integerValue||n.doubleValue)}function f_(n){return _s(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class p_{constructor(e,t){this.field=e,this.transform=t}}class uC{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bt(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class m_{}function dC(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $h(n.key,Yn.none()):new Sl(n.key,n.data,Yn.none());{const t=n.data,i=hr.empty();let r=new pn(Wn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new hn(n.key,i,new gs(r.toArray()),Yn.none())}}function uS(n,e,t){n instanceof Sl?function(i,r,a){const u=i.value.clone(),f=Qv(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof hn?function(i,r,a){if(!bt(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=Qv(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(hS(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fc(n,e,t,i){return n instanceof Sl?function(r,a,u,f){if(!bt(r.precondition,a))return u;const _=r.value.clone(),b=hC(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof hn?function(r,a,u,f){if(!bt(r.precondition,a))return u;const _=hC(r.fieldTransforms,f,a),b=a.data;return b.setAll(hS(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,bt(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function dS(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=Yv(i.transform,r||null);null!=a&&(null===t&&(t=hr.empty()),t.set(i.field,a))}return t||null}function Fp(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Oh(t,i,(r,a)=>function cC(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Tl&&i instanceof Tl||t instanceof td&&i instanceof td?Oh(t.elements,i.elements,Aa):t instanceof Qo&&i instanceof Qo?Aa(t.yt,i.yt):t instanceof Pc&&i instanceof Pc);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Sl extends m_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hn extends m_{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Qv(n,e,t){const i=new Map;St(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,aC(u,f,t[r]))}return i}function hC(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,oC(a,u,e))}return i}class $h extends m_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g_ extends m_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fC{constructor(e){this.count=e}}var fi,Yt;function pC(n){switch(n){default:return st();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function mC(n){if(void 0===n)return hi("GRPC error has no .code"),he.UNKNOWN;switch(n){case fi.OK:return he.OK;case fi.CANCELLED:return he.CANCELLED;case fi.UNKNOWN:return he.UNKNOWN;case fi.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case fi.INTERNAL:return he.INTERNAL;case fi.UNAVAILABLE:return he.UNAVAILABLE;case fi.UNAUTHENTICATED:return he.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case fi.NOT_FOUND:return he.NOT_FOUND;case fi.ALREADY_EXISTS:return he.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return he.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case fi.ABORTED:return he.ABORTED;case fi.OUT_OF_RANGE:return he.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return he.UNIMPLEMENTED;case fi.DATA_LOSS:return he.DATA_LOSS;default:return st()}}(Yt=fi||(fi={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class Lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}const Lp=new Bn(ze.comparator);function vs(){return Lp}const gC=new Bn(ze.comparator);function Vp(...n){let e=gC;for(const t of n)e=e.insert(t.key,t);return e}function Bp(n){let e=gC;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Xo(){return Gh()}function Xv(){return Gh()}function Gh(){return new Lc(n=>n.toString(),(n,e)=>n.isEqual(e))}const fS=new Bn(ze.comparator),Up=new pn(ze.comparator);function Rt(...n){let e=Up;for(const t of n)e=e.add(t);return e}const pS=new pn(Nt);function __(){return pS}class Hp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,zh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Hp(At.min(),i,__(),vs(),Rt())}}class zh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new zh(wi.EMPTY_BYTE_STRING,t,Rt(),Rt(),Rt())}}class jp{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class Jv{constructor(e,t){this.targetId=e,this.At=t}}class _C{constructor(e,t,i=wi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class eb{constructor(){this.Rt=0,this.bt=gS(),this.Pt=wi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Rt(),t=Rt(),i=Rt();return this.bt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:st()}}),new zh(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=gS()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class mS{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=vs(),this.qt=yC(),this.Kt=new pn(Nt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const a=r.target;if(Op(a))if(0===i){const u=new ze(a.path);this.jt(t,u,_n.newNoDocument(u,At.min()))}else St(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const f=this.Xt(u);if(f){if(a.current&&Op(f.target)){const _=new ze(f.target.path);null!==this.Ut.get(_)||this.ee(u,_)||this.jt(u,_,_n.newNoDocument(_,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let i=Rt();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.Xt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const r=new Hp(e,t,this.Kt,this.Ut,i);return this.Ut=vs(),this.qt=yC(),this.Kt=new pn(Nt),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new eb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new pn(Nt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new eb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function yC(){return new Bn(ze.comparator)}function gS(){return new Bn(ze.comparator)}const FM={asc:"ASCENDING",desc:"DESCENDING"},LM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class VM{constructor(e,t){this.databaseId=e,this.gt=t}}function qh(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $p(n,e){return n.gt?e.toBase64():e.toUint8Array()}function _S(n,e){return qh(n,e.toTimestamp())}function Xi(n){return St(!!n),At.fromTimestamp(function(e){const t=Yu(e);return new Vn(t.seconds,t.nanos)}(n))}function y_(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Zh(n){const e=Qt.fromString(n);return St(ab(e)),e}function Gp(n,e){return y_(n.databaseId,e.path)}function xa(n,e){const t=Zh(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(nb(t))}function tb(n,e){return y_(n.databaseId,e)}function vC(n){const e=Zh(n);return 4===e.length?Qt.emptyPath():nb(e)}function zp(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nb(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bC(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function wC(n,e,t){const i=xa(n,e.name),r=Xi(e.updateTime),a=new hr({mapValue:{fields:e.fields}}),u=_n.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Kh(n,e){let t;if(e instanceof Sl)t={update:bC(n,e.key,e.value)};else if(e instanceof $h)t={delete:Gp(n,e.key)};else if(e instanceof hn)t={update:bC(n,e.key,e.data),updateMask:bS(e.fieldMask)};else{if(!(e instanceof g_))return st();t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Pc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Tl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof td)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qo)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw st()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:_S(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),t;var r}function ib(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Yn.updateTime(Xi(r.updateTime)):void 0!==r.exists?Yn.exists(r.exists):Yn.none():Yn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(St("REQUEST_TIME"===u.setToServerValue),f=new Pc):"appendMissingElements"in u?f=new Tl(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new td(u.removeAllFromArray.values||[]):"increment"in u?f=new Qo(a,u.increment):st();const _=Wn.fromServerFormat(u.fieldPath);return new p_(_,f)}(n,r)):[];var r;if(e.update){const r=xa(n,e.update.name),a=new hr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new gs((e.updateMask.fieldPaths||[]).map(b=>Wn.fromServerFormat(b)));return new hn(r,a,u,t,i)}return new Sl(r,a,t,i)}if(e.delete){const r=xa(n,e.delete);return new $h(r,t)}if(e.verify){const r=xa(n,e.verify);return new g_(r,t)}return st()}function CC(n,e){return{documents:[tb(n,e.path)]}}function rb(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=tb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(I=>function(S){if("=="===S.op){if(BE(S.value))return{unaryFilter:{field:Yh(S.field),op:"IS_NAN"}};if(VE(S.value))return{unaryFilter:{field:Yh(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(BE(S.value))return{unaryFilter:{field:Yh(S.field),op:"IS_NOT_NAN"}};if(VE(S.value))return{unaryFilter:{field:Yh(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yh(S.field),op:SC(S.op),value:S.value}}}(I));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Yh((I=b).field),direction:TC(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.gt||Ap(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function IC(n){let e=vC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){St(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=DC(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new ed(Qh((S=I).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(I){let S;return S="object"==typeof I?I.value:I,Ap(S)?null:S}(t.limit));let _=null;var I;t.startAt&&(_=new Il((I=t.startAt).values||[],!!I.before));let b=null;return t.endAt&&(b=function(I){return new Il(I.values||[],!I.before)}(t.endAt)),tC(e,r,u,a,f,"F",_,b)}function DC(n){return n?void 0!==n.unaryFilter?[ob(n)]:void 0!==n.fieldFilter?[vS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>DC(e)).reduce((e,t)=>e.concat(t)):st():[]}function TC(n){return FM[n]}function SC(n){return LM[n]}function Yh(n){return{fieldPath:n.canonicalString()}}function Qh(n){return Wn.fromServerFormat(n.fieldPath)}function vS(n){return Qi.create(Qh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function ob(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Qh(n.unaryFilter.field);return Qi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Qh(n.unaryFilter.field);return Qi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qh(n.unaryFilter.field);return Qi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Qh(n.unaryFilter.field);return Qi.create(r,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function bS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ab(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function zr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AC(e)),e=wS(n.get(t),e);return AC(e)}function wS(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function AC(n){return n+"\x01\x01"}function Ma(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&st(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:st()}a=u+2}return new Qt(i)}const xC=["userId","batchId"];function v_(n,e){return[n,zr(e)]}function MC(n,e,t){return[n,zr(e),t]}const ES={},kC=["prefixPath","collectionGroup","readTime","documentId"],RC=["prefixPath","collectionGroup","documentId"],CS=["collectionGroup","readTime","prefixPath","documentId"],IS=["canonicalId","targetId"],OC=["targetId","path"],DS=["path","targetId"],TS=["collectionId","parent"],SS=["indexId","uid"],lb=["uid","sequenceNumber"],cb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],PC=["indexId","uid","orderedDocumentKey"],ub=["userId","collectionPath","documentId"],AS=["userId","collectionPath","largestBatchId"],xS=["userId","collectionGroup","largestBatchId"],b_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MS=[...b_,"documentOverlays"],db=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NC=db,FC=[...NC,"indexConfiguration","indexState","indexEntries"];class hb extends aS{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=Je(n);return vo.O(t.ie,e)}class LC{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&uS(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Fc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Fc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Xv();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=dC(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,(t,i)=>Fp(t,i))&&Oh(this.baseMutations,e.baseMutations,(t,i)=>Fp(t,i))}}class fb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){St(e.mutations.length===i.length);let r=fS;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new fb(e,t,i,r)}}class Xh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vc{constructor(e,t,i,r,a=At.min(),u=At.min(),f=wi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nd{constructor(e){this.re=e}}function VC(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Gp(r=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:qh(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return st();i.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var r,a;return i}function pb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function id(n){const e=new Vn(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function rd(n,e){const t=(e.baseMutations||[]).map(a=>ib(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>ib(n.re,a)),r=Vn.fromMillis(e.localWriteTimeMs);return new LC(e.batchId,r,t,i)}function Zp(n){const e=id(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?id(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=ys(Hh(vC(r.documents[0])))):i=ys(IC(n.query)),new Vc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,wi.fromBase64String(n.resumeToken))}function BC(n,e){const t=Bc(e.snapshotVersion),i=Bc(e.lastLimboFreeSnapshotVersion);let r;r=Op(e.target)?CC(n.re,e.target):rb(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function w_(n){const e=IC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?h_(e,e.limit,"L"):e}function E_(n,e){return new Xh(e.largestBatchId,ib(n.re,e.overlayMutation))}function C_(n,e){const t=e.path.lastSegment();return[n,zr(e.path.popLast()),t]}function Wp(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Bc(i.readTime),documentKey:zr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Kp{getBundleMetadata(e,t){return UC(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:id(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return UC(e).put({bundleId:(i=t).id,createTime:Bc(Xi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return mb(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:w_(r.bundledQuery),readTime:id(r.readTime)};var r})}saveNamedQuery(e,t){return mb(e).put({name:(i=t).name,readTime:Bc(Xi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function UC(n){return Pi(n,"bundles")}function mb(n){return Pi(n,"namedQueries")}class Yp{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Yp(e,t.uid||"")}getOverlay(e,t){return Qp(e).get(C_(this.userId,t)).next(i=>i?E_(this.It,i):null)}getOverlays(e,t){const i=Xo();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new Xh(t,u);r.push(this.ue(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(zr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Qp(e).Y("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Xo(),a=zr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Qp(e).W("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=E_(this.It,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Xo();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qp(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,I)=>{const S=E_(this.It,b);a.size()<r||S.largestBatchId===u?(a.set(S.getKey(),S),u=S.largestBatchId):I.done()}).next(()=>a)}ue(e,t){return Qp(e).put(function(i,r,a){const[u,f,_]=C_(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Kh(i.re,a.mutation)}}(this.It,this.userId,t))}}function Qp(n){return Pi(n,"documentOverlays")}class sd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(ri(e.integerValue));else if("doubleValue"in e){const i=ri(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Bh(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Qu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?wo(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):st()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),ze.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function gb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function HC(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=gb(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}sd.Te=new sd;class BM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=HC(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=HC(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class kS{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class RS{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class ka{constructor(){this.Be=new BM,this.Le=new kS(this.Be),this.Ue=new RS(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Uc{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Uc(this.indexId,this.documentKey,this.arrayValue,i)}}function Eo(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=OS(n.arrayValue,e.arrayValue),0!==t?t:(t=OS(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function OS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class jC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=Tp(e);if(void 0!==t&&!this.ze(t))return!1;const i=Zu(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class PS{constructor(){this.Ye=new $C}addToCollectionParentIndex(e,t){return this.Ye.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(xr.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class $C{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new pn(Qt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new pn(Qt.comparator)).toArray()}}const Xp=new Uint8Array(0);class UM{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new $C,this.Ze=new Lc(i=>Oc(i),(i,r)=>Uh(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:i,parent:zr(r)};return _b(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[IE(t),""],!1,!0);return _b(e).W(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Ma(u.parent))}return i})}addFieldIndex(e,t){const i=Jp(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=em(e);return a.next(f=>{u.put(Wp(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Jp(e),r=em(e),a=od(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=od(e);let r=!0;const a=new Map;return se.forEach(this.tn(t),u=>this.en(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Rt();const f=[];return se.forEach(a,(_,b)=>{var I;Oe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${Oc(t)}`);const S=function(Ge,Ue){const yt=Tp(Ue);if(void 0===yt)return null;for(const Ct of Ju(Ge,yt.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(b,_),O=function(Ge,Ue){const yt=new Map;for(const Ct of Zu(Ue))for(const zt of Ju(Ge,Ct.fieldPath))switch(zt.op){case"==":case"in":yt.set(Ct.fieldPath.canonicalString(),zt.value);break;case"not-in":case"!=":return yt.set(Ct.fieldPath.canonicalString(),zt.value),Array.from(yt.values())}return null}(b,_),L=function(Ge,Ue){const yt=[];let Ct=!0;for(const zt of Zu(Ue)){const Fi=0===zt.kind?qE(Ge,zt.fieldPath,Ge.startAt):Vv(Ge,zt.fieldPath,Ge.startAt);yt.push(Fi.value),Ct&&(Ct=Fi.inclusive)}return new Il(yt,Ct)}(b,_),U=function(Ge,Ue){const yt=[];let Ct=!0;for(const zt of Zu(Ue)){const Fi=0===zt.kind?Vv(Ge,zt.fieldPath,Ge.endAt):qE(Ge,zt.fieldPath,Ge.endAt);yt.push(Fi.value),Ct&&(Ct=Fi.inclusive)}return new Il(yt,Ct)}(b,_),J=this.nn(_,b,L),pe=this.nn(_,b,U),We=this.sn(_,b,O),Ye=this.rn(_.indexId,S,J,L.inclusive,pe,U.inclusive,We);return se.forEach(Ye,Ge=>i.J(Ge,t.limit).next(Ue=>{Ue.forEach(yt=>{const Ct=ze.fromSegments(yt.documentKey);u.has(Ct)||(u=u.add(Ct),f.push(Ct))})}))}).next(()=>f)}return se.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),I=[];for(let S=0;S<_;++S){const O=t?this.on(t[S/b]):Xp,L=this.un(e,O,i[S%b],r),U=this.cn(e,O,a[S%b],u),J=f.map(pe=>this.un(e,O,pe,!0));I.push(...this.createRange(L,U,J))}return I}un(e,t,i,r){const a=new Uc(e,ze.empty(),t,i);return r?a:a.Ke()}cn(e,t,i,r){const a=new Uc(e,ze.empty(),t,i);return r?a.Ke():a}en(e,t){const i=new jC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;return se.forEach(this.tn(t),r=>this.en(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new pn(Wn.comparator),_=!1;for(const b of u.filters){const I=b;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const b of u.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new ka;for(const r of Zu(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.qe(r.kind);sd.Te.ce(a,u)}return i.$e()}on(e){const t=new ka;return sd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new ka;return sd.Te.ce(Cl(this.databaseId,t),i.qe(function(r){const a=Zu(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new ka);let a=0;for(const u of Zu(e)){const f=i[a++];for(const _ of r)if(this.ln(t,u.fieldPath)&&_s(f))r=this.fn(r,u,f);else{const b=_.qe(u.kind);sd.Te.ce(f,b)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new ka;_.seed(f.$e()),sd.Te.ce(u,_.qe(t.kind)),a.push(_)}return a}ln(e,t){return!!e.filters.find(i=>i instanceof Qi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Jp(e),r=em(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,I){const S=I?new Wu(I.sequenceNumber,new xr(id(I.readTime),new ze(Ma(I.documentKey)),I.largestBatchId)):Wu.empty(),O=b.fields.map(([L,U])=>new xc(Wn.fromServerFormat(L),U));return new Rv(b.indexId,b.collectionGroup,O,S)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Nt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Jp(e),a=em(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(Wp(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this.wn(e,r,_).next(b=>{const I=this.mn(a,_);return b.isEqual(I)?se.resolve():this.gn(e,a,_,b,I)}))))})}yn(e,t,i,r){return od(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return od(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=od(e);let a=new pn(Eo);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,f)=>{a=a.add(new Uc(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let i=new pn(Eo);const r=this.an(t,e);if(null==r)return i;const a=Tp(t);if(null!=a){const u=e.data.field(a.fieldPath);if(_s(u))for(const f of u.arrayValue.values||[])i=i.add(new Uc(t.indexId,e.key,this.on(f),r))}else i=i.add(new Uc(t.indexId,e.key,Xp,r));return i}gn(e,t,i,r,a){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,I,S){const O=f.getIterator(),L=_.getIterator();let U=Ku(O),J=Ku(L);for(;U||J;){let pe=!1,We=!1;if(U&&J){const Ye=b(U,J);Ye<0?We=!0:Ye>0&&(pe=!0)}else null!=U?We=!0:pe=!0;pe?(I(J),J=Ku(L)):We?(S(U),U=Ku(O)):(U=Ku(O),J=Ku(L))}}(r,a,Eo,f=>{u.push(this.yn(e,t,i,f))},f=>{u.push(this.pn(e,t,i,f))}),se.waitFor(u)}_n(e){let t=1;return em(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Eo(u,f)).filter((u,f,_)=>!f||0!==Eo(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=Eo(u,e),_=Eo(u,t);if(0===f)r[0]=e.Ke();else if(f>0&&_<0)r.push(u),r.push(u.Ke());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Xp,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Xp,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(GC)}getMinOffset(e,t){return se.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||st())).next(GC)}}function _b(n){return Pi(n,"collectionParents")}function od(n){return Pi(n,"indexEntries")}function Jp(n){return Pi(n,"indexConfiguration")}function em(n){return Pi(n,"indexState")}function GC(n){St(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Nh(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}const zC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qC(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(I,S,O)=>(f++,O.delete()));a.push(_.next(()=>{St(1===f)}));const b=[];for(const I of t.mutations){const S=MC(e,I.key.path,t.batchId);a.push(r.delete(S)),b.push(I.key)}return se.waitFor(a).next(()=>b)}function I_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class D_{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){St(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new D_(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Ra(e),u=Hc(e);return u.add({}).next(f=>{St("number"==typeof f);const _=new LC(f,t,i,r),b=function(O,L,U){const J=U.baseMutations.map(We=>Kh(O.re,We)),pe=U.mutations.map(We=>Kh(O.re,We));return{userId:L,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:J,mutations:pe}}(this.It,this.userId,_),I=[];let S=new pn((O,L)=>Nt(O.canonicalString(),L.canonicalString()));for(const O of r){const L=MC(this.userId,O.key.path,f);S=S.add(O.key.path.popLast()),I.push(u.put(b)),I.push(a.put(L,ES))}return S.forEach(O=>{I.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),se.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Hc(e).get(t).next(i=>i?(St(i.userId===this.userId),rd(this.It,i)):null)}Tn(e,t){return this.In[t]?se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Hc(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(St(f.batchId>=i),a=rd(this.It,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Hc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).W("userMutationsIndex",t).next(i=>i.map(r=>rd(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=v_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Ra(e).Z({range:r},(u,f,_)=>{const[b,I,S]=u,O=Ma(I);if(b===this.userId&&t.path.isEqual(O))return Hc(e).get(S).next(L=>{if(!L)throw st();St(L.userId===this.userId),a.push(rd(this.It,L))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pn(Nt);const r=[];return t.forEach(a=>{const u=v_(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Ra(e).Z({range:f},(b,I,S)=>{const[O,L,U]=b,J=Ma(L);O===this.userId&&a.path.isEqual(J)?i=i.add(U):S.done()});r.push(_)}),se.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=v_(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new pn(Nt);return Ra(e).Z({range:u},(_,b,I)=>{const[S,O,L]=_,U=Ma(O);S===this.userId&&i.isPrefixOf(U)?U.length===r&&(f=f.add(L)):I.done()}).next(()=>this.En(e,f))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Hc(e).get(a).next(u=>{if(null===u)throw st();St(u.userId===this.userId),i.push(rd(this.It,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return qC(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ra(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Ma(a[1]);r.push(_)}else f.done()}).next(()=>{St(0===r.length)})})}containsKey(e,t){return ZC(e,this.userId,t)}Rn(e){return yb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZC(n,e,t){const i=v_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Ra(n).Z({range:a,X:!0},(f,_,b)=>{const[I,S,O]=f;I===e&&S===r&&(u=!0),b.done()}).next(()=>u)}function Hc(n){return Pi(n,"mutations")}function Ra(n){return Pi(n,"documentMutations")}function yb(n){return Pi(n,"mutationQueues")}class jc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new jc(0)}static vn(){return new jc(-1)}}class WC{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new jc(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>At.fromTimestamp(new Vn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ad(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return ad(e).Z((u,f)=>{const _=Zp(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return ad(e).Z((i,r)=>{const a=Zp(r);t(a)})}Vn(e){return vb(e).get("targetGlobalKey").next(t=>(St(null!==t),t))}Sn(e,t){return vb(e).put("targetGlobalKey",t)}Dn(e,t){return ad(e).put(BC(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Oc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return ad(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=Zp(f);Uh(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Al(e);return t.forEach(u=>{const f=zr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Al(e);return se.forEach(t,a=>{const u=zr(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Al(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Al(e);let a=Rt();return r.Z({range:i,X:!0},(u,f,_)=>{const b=Ma(u[1]),I=new ze(b);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=zr(t.path),r=IDBKeyRange.bound([i],[IE(i)],!1,!0);let a=0;return Al(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}se(e,t){return ad(e).get(t).next(i=>i?Zp(i):null)}}function ad(n){return Pi(n,"targets")}function vb(n){return Pi(n,"targetGlobal")}function Al(n){return Pi(n,"targetDocuments")}function KC([n,e],[t,i]){const r=Nt(n,t);return 0===r?Nt(e,i):r}class YC{constructor(e){this.xn=e,this.buffer=new pn(KC),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();KC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){vl(i)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Mc(i)}yield t.Fn(3e5)}))}}class FS{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve($r.at);const i=new YC(t);return this.$n.forEachTarget(e,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(zC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zC):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,a,u,f,_,b;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(b=Date.now(),Sv()<=dl.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${S} documents in `+(b-_)+`ms\nTotal Duration: ${b-I}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:S})))}}class LS{constructor(e,t){this.db=e,this.garbageCollector=new FS(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return T_(e,i)}removeReference(e,t,i){return T_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return T_(e,t)}Gn(e,t){return function(i,r){let a=!1;return yb(i).tt(u=>ZC(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(u,f)=>{if(f<=t){const _=this.Gn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,At.min()),Al(e).delete([0,zr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return T_(e,t)}Kn(e,t){const i=Al(e);let r,a=$r.at;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==$r.at&&t(new ze(Ma(r)),a),a=b,r=_):a=$r.at}).next(()=>{a!==$r.at&&t(new ze(Ma(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function T_(n,e){return Al(n).put((i=n.currentSequenceNumber,{targetId:0,path:zr(e.path),sequenceNumber:i}));var i}class Jh{constructor(){this.changes=new Lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VS{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Pa(e).put(i)}removeEntry(e,t,i){return Pa(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],pb(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=_n.newInvalidDocument(t);return Pa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xl(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:_n.newInvalidDocument(t)};return Pa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xl(t))},(r,a)=>{i={document:this.jn(t,a),size:I_(a)}}).next(()=>i)}getEntries(e,t){let i=vs();return this.zn(e,t,(r,a)=>{const u=this.jn(r,a);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=vs(),r=new Bn(ze.comparator);return this.zn(e,t,(a,u)=>{const f=this.jn(a,u);i=i.insert(a,f),r=r.insert(a,I_(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return se.resolve();let r=new pn(JC);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(xl(r.first()),xl(r.last())),u=r.getIterator();let f=u.getNext();return Pa(e).Z({index:"documentKeyIndex",range:a},(_,b,I)=>{const S=ze.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&JC(f,S)<0;)i(f,null),f=u.getNext();f&&f.isEqual(S)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?I.j(xl(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),pb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pa(e).W(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=vs();for(const _ of u){const b=this.jn(ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=vs();const u=XC(t,i),f=XC(t,xr.max());return Pa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,I)=>{const S=this.jn(ze.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(S.key,S),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new Oa(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return QC(e).get("remoteDocumentGlobalKey").next(t=>(St(!!t),t))}Qn(e,t){return QC(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function qp(n,e){let t;if(e.document)t=wC(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ze.fromSegments(e.noDocument.path),r=id(e.noDocument.readTime);t=_n.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const i=ze.fromSegments(e.unknownDocument.path),r=id(e.unknownDocument.version);t=_n.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Vn(i[0],i[1]);return At.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return _n.newInvalidDocument(e)}}function S_(n){return new VS(n)}class Oa extends Jh{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Lc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new pn((a,u)=>Nt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=VC(this.Yn.It,u);r=r.add(a.path.popLast()),i+=I_(_)-f.size,t.push(this.Yn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=VC(this.Yn.It,u.convertToNoDocument(At.min()));t.push(this.Yn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function QC(n){return Pi(n,"remoteDocumentGlobal")}function Pa(n){return Pi(n,"remoteDocumentsV14")}function xl(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XC(n,e){const t=e.documentKey.path.toArray();return[n,pb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function JC(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Nt(t[a],i[a]),r)return r;return r=Nt(t.length,i.length),r||(r=Nt(t[t.length-2],i[i.length-2]),r||Nt(t[t.length-1],i[i.length-1]))}class BS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tm{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Fc(i.mutation,r,gs.empty(),Vn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Rt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Rt()){const r=Xo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=Vp();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Xo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Rt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=vs();const u=Gh(),f=Gh();return t.forEach((_,b)=>{const I=i.get(b.key);r.has(b.key)&&(void 0===I||I.mutation instanceof hn)?a=a.insert(b.key,b):void 0!==I&&(u.set(b.key,I.mutation.getFieldMask()),Fc(I.mutation,b,I.mutation.getFieldMask(),Vn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,I)=>u.set(b,I)),t.forEach((b,I)=>{var S;return f.set(b,new BS(I,null!==(S=u.get(b))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Gh();let r=new Bn((u,f)=>u-f),a=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let I=i.get(_)||gs.empty();I=f.applyToLocalView(b,I),i.set(_,I);const S=(r.get(f.batchId)||Rt()).add(_);r=r.insert(f.batchId,S)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,I=_.value,S=Xv();I.forEach(O=>{if(!a.has(O)){const L=dC(t.get(O),i.get(O));null!==L&&S.set(O,L),a=a.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,S))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):$v(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Xo());let f=-1,_=a;return u.next(b=>se.forEach(b,(I,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(I)?se.resolve():this.getBaseDocument(e,I,S).next(O=>{_=_.insert(I,O)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,Rt())).next(I=>({batchId:f,changes:Bp(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(i=>{let r=Vp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Vp();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(b=t,I=f.child(r),new Dl(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((I,S)=>{a=a.insert(I,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,_)=>{const b=_.getKey();null===r.get(b)&&(r=r.insert(b,_n.newInvalidDocument(b)))});let u=Vp();return r.forEach((f,_)=>{const b=a.get(f);void 0!==b&&Fc(b.mutation,_,gs.empty(),Vn.now()),zv(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):se.resolve(_n.newInvalidDocument(t))}}class A_{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Xi(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:w_(i.bundledQuery),readTime:Xi(i.readTime)}),se.resolve();var i}}class US{constructor(){this.overlays=new Bn(ze.comparator),this.es=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xo();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ue(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Xo(),a=t.length+1,u=new ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Bn((b,I)=>b-I);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let I=a.get(b.largestBatchId);null===I&&(I=Xo(),a=a.insert(b.largestBatchId,I)),I.set(b.getKey(),b)}}const f=Xo(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,I)=>f.set(b,I)),!(f.size()>=r)););return se.resolve(f)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Xh(t,i));let a=this.es.get(t);void 0===a&&(a=Rt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class bb{constructor(){this.ns=new pn(Ni.ss),this.rs=new pn(Ni.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Ni(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Ni(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new ze(new Qt([])),i=new Ni(t,e),r=new Ni(t,e+1),a=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ze(new Qt([])),i=new Ni(t,e),r=new Ni(t,e+1);let a=Rt();return this.rs.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ni(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ni{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ze.comparator(e.key,t.key)||Nt(e._s,t._s)}static os(e,t){return Nt(e._s,t._s)||ze.comparator(e.key,t.key)}}class eI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new pn(Ni.ss)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new LC(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.gs=this.gs.add(new Ni(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ni(t,0),r=new Ni(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],u=>{const f=this.ys(u._s);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pn(Nt);return t.forEach(r=>{const a=new Ni(r,0),u=new Ni(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{i=i.add(f._s)})}),se.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ze.isDocumentKey(a)||(a=a.child(""));const u=new Ni(new ze(a),0);let f=new pn(Nt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_._s)),!0)},u),se.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){St(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return se.forEach(t.mutations,r=>{const a=new Ni(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Ni(t,0),r=this.gs.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wb{constructor(e){this.Es=e,this.docs=new Bn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=vs();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():_n.newInvalidDocument(r))}),se.resolve(i)}getAllFromCollection(e,t,i){let r=vs();const a=new ze(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Nh(SE(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(e,t,i,r){st()}As(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tI(this)}getSize(e){return se.resolve(this.size)}}class tI extends Jh{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class HS{constructor(e){this.persistence=e,this.Rs=new Lc(t=>Oc(t),Uh),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.bs=0,this.Ps=new bb,this.targetCount=0,this.vs=jc.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Dn(t),se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ps.containsKey(t))}}class nI{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $r(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new HS(this),this.indexManager=new PS,this.remoteDocumentCache=new wb(i=>this.referenceDelegate.xs(i)),this.It=new nd(t),this.Ns=new A_(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new US,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new eI(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Oe("MemoryPersistence","Starting transaction:",e);const r=new HM(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Ms(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return se.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class HM extends aS{constructor(e){super(),this.currentSequenceNumber=e}}class ef{constructor(e){this.persistence=e,this.Fs=new bb,this.$s=null}static Bs(e){return new ef(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ls,i=>{const r=ze.fromPath(i);return this.Us(e,r).next(a=>{a||t.removeEntry(r,At.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return se.or([()=>se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Eb{constructor(e){this.It=e}$(e,t,i,r){const a=new Sp("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xC,{unique:!0}),f.createObjectStore("documentMutations"),Cb(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Cb(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xC,{unique:!0});const I=_.store("mutations"),S=b.map(O=>I.put(O));return se.waitFor(S)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(a))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:ub});_.createIndex("collectionPathOverlayIndex",AS,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",xS,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:kC});_.createIndex("documentKeyIndex",RC),_.createIndex("collectionGroupIndex",CS)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:SS}).createIndex("sequenceNumberIndex",lb,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:cb}).createIndex("documentKeyIndex",PC,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=I_(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>se.forEach(f,_=>{St(_.userId===a.userId);const b=rd(this.It,_);return qC(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new Qt(u),b=[0,zr(_)];a.push(t.get(b).next(I=>I?se.resolve():t.put({targetId:0,path:zr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:TS});const i=t.store("collectionParents"),r=new $C,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:zr(_)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const _=new Qt(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,_],b)=>{const I=Ma(f);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=Zp(r),u=BC(this.It,a);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new ze(Qt.fromString(b.document.name).popFirst(5)):b.noDocument?ze.fromSegments(b.noDocument.path):b.unknownDocument?ze.fromSegments(b.unknownDocument.path):st()).path.toArray();var b;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>se.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=S_(this.It),a=new nI(ef.Bs,this.It.re);return i.W().next(u=>{const f=new Map;return u.forEach(_=>{var b;let I=null!==(b=f.get(_.userId))&&void 0!==b?b:Rt();rd(this.It,_).keys().forEach(S=>I=I.add(S)),f.set(_.userId,I)}),se.forEach(f,(_,b)=>{const I=new Wi(b),S=Yp.oe(this.It,I),O=a.getIndexManager(I),L=D_.oe(I,this.It,O,a.referenceDelegate);return new tm(r,L,S,O).recalculateAndSaveOverlaysForDocumentKeys(new hb(t,$r.at),_).next()})})}}function Cb(n){n.createObjectStore("targetDocuments",{keyPath:OC}).createIndex("documentTargetsIndex",DS,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IS,{unique:!0}),n.createObjectStore("targetGlobal")}const nm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class im{constructor(e,t,i,r,a,u,f,_,b,I,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=u,this.document=f,this.Js=b,this.Ys=I,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!im.C())throw new ke(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LS(this,r),this.ii=t+"main",this.It=new nd(_),this.ri=new vo(this.ii,this.Xs,new Eb(this.It)),this.Cs=new WC(this.referenceDelegate,this.It),this.remoteDocumentCache=S_(this.It),this.Ns=new Kp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(he.FAILED_PRECONDITION,nm);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $r(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,ve.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>x_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(vl(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return rm(e).get("owner").next(t=>se.resolve(this.mi(t)))}gi(e){return x_(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pi(i,"clientMetadata");return r.W().next(a=>{const u=e.Ii(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?se.resolve(!0):rm(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ke(he.FAILED_PRECONDITION,nm);return!1}}return!(!this.networkEnabled||!this.inForeground)||x_(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new hb(t,$r.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>x_(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return D_.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new UM(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Yp.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Oe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?FC:14===u?NC:13===u?db:12===u?MS:11===u?b_:void st();var u;let f;return this.ri.runTransaction(e,r,a,_=>(f=new hb(_,this.Ss?this.Ss.next():$r.at),"readwrite-primary"===t?this.fi(f).next(b=>!!b||this.di(f)).next(b=>{if(!b)throw hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(he.FAILED_PRECONDITION,l_);return i(f)}).next(b=>this.wi(f).next(()=>b)):this.Vi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return rm(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(he.FAILED_PRECONDITION,nm)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rm(e).put("owner",t)}static C(){return vo.C()}_i(e){const t=rm(e);return t.get("owner").next(i=>this.mi(i)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(hi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Mt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){hi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rm(n){return Pi(n,"owner")}function x_(n){return Pi(n,"clientMetadata")}function Ib(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Db{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Rt(),r=Rt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Db(e,t.fromCache,i,r)}}class Tb{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Mi(e,t,r,i)).next(a=>a||this.Oi(e,t))}ki(e,t){if(nC(t))return se.resolve(null);let i=ys(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=h_(t,null,"F"),i=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Rt(...a);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.Fi(t,f);return this.$i(t,b,u,_.readTime)?this.ki(e,h_(t,null,"F")):this.Bi(e,b,t,_)}))})))}Mi(e,t,i,r){return nC(t)||r.isEqual(At.min())?this.Oi(e,t):this.Ni.getDocuments(e,i).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,i,r)?this.Oi(e,t):(Sv()<=dl.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gv(t)),this.Bi(e,u,t,a_(r,-1)))})}Fi(e,t){let i=new pn(qv(e));return t.forEach((r,a)=>{zv(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return Sv()<=dl.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Gv(t)),this.Ni.getDocumentsMatchingQuery(e,t,xr.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class Sb{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Bn(Nt),this.qi=new Lc(a=>Oc(a),Uh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Ab(n,e,t,i){return new Sb(n,e,t,i)}function xb(n,e){return M_.apply(this,arguments)}function M_(){return M_=(0,ve.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Rt();for(const b of r){u.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}for(const b of a){f.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:f}))})})}),M_.apply(this,arguments)}function iI(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const I=_.batch,S=I.keys();let O=se.resolve();return S.forEach(L=>{O=O.next(()=>b.getEntry(f,L)).next(U=>{const J=_.docVersions.get(L);St(null!==J),U.version.compareTo(J)<0&&(I.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Rt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function rI(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function sI(n,e){const t=Je(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const f=[];e.targetChanges.forEach((I,S)=>{const O=r.get(S);if(!O)return;f.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,S)));let L=O.withSequenceNumber(a.currentSequenceNumber);var U,J,pe;e.targetMismatches.has(S)?L=L.withResumeToken(wi.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):I.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(I.resumeToken,i)),r=r.insert(S,L),J=L,pe=I,(0===(U=O).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,L))});let _=vs(),b=Rt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(Mb(a,u,e.documentUpdates).next(I=>{_=I.Wi,b=I.zi})),!i.isEqual(At.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(S=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Ui=r,a))}function Mb(n,e,t){let i=Rt(),r=Rt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=vs();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(At.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Wi:u,zi:r}})}function jS(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ld(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new Vc(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function tf(n,e,t){return fr.apply(this,arguments)}function fr(){return fr=(0,ve.Z)(function*(n,e,t){const i=Je(n),r=i.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!vl(u))throw u;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),fr.apply(this,arguments)}function Ml(n,e,t){const i=Je(n);let r=At.min(),a=Rt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const I=Je(f),S=I.qi.get(b);return void 0!==S?se.resolve(I.Ui.get(S)):I.Cs.getTargetData(_,b)}(i,u,ys(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:At.min(),t?a:Rt())).next(f=>($S(i,rC(e),f),{documents:f,Hi:a})))}function oI(n,e){const t=Je(n),i=Je(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.se(a,e).next(u=>u?u.target:null))}function aI(n,e){const t=Je(n),i=t.Ki.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,a_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>($S(t,e,r),r))}function $S(n,e,t){let i=At.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function kb(){return kb=(0,ve.Z)(function*(n,e,t,i){const r=Je(n);let a=Rt(),u=vs();for(const b of t){const I=e.Ji(b.metadata.name);b.document&&(a=a.add(I));const S=e.Yi(b);S.setReadTime(e.Xi(b.metadata.readTime)),u=u.insert(I,S)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),_=yield ld(r,(b=i,ys(Hh(Qt.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>Mb(b,f,u).next(I=>(f.apply(b),I)).next(I=>r.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,I.Wi,I.zi)).next(()=>I.Wi)))}),kb.apply(this,arguments)}function Rb(n,e){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,ve.Z)(function*(n,e,t=Rt()){const i=yield ld(n,ys(w_(e.bundledQuery))),r=Je(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Xi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(a,e);const f=i.withResumeToken(wi.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(f.targetId,f),r.Cs.updateTargetData(a,f).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),Ob.apply(this,arguments)}function Pb(n,e){return`firestore_clients_${n}_${e}`}function lI(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Nb(n,e){return`firestore_targets_${n}_${e}`}class nf{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new ke(r.error.code,r.error.message))),u?new nf(e,t,r.state,a):(hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new ke(i.error.code,i.error.message))),a?new rf(e,i.state,r):(hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class om{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=__();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=NE(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new om(e,a):(hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sf(t.clientId,t.onlineState):(hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class am{constructor(){this.activeTargetIds=__()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cI{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Bn(Nt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Pb(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new am),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(Pb(e.persistenceKey,r));if(a){const u=om.Zi(r,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Nb(this.persistenceKey,e));if(i){const r=rf.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nb(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let u=$r.at;if(null!=a)try{const f=JSON.parse(a);St("number"==typeof f),u=f}catch(f){hi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==$r.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Mr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new nf(this.currentUser,e,t,i),a=lI(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=lI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=Nb(this.persistenceKey,e),a=new rf(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return om.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return nf.Zi(new Wi(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return rf.Zi(r,t)}yr(e){return sf.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Br(u,f).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=__();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Fb{constructor(){this.Lr=new am,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new am,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GS{qr(e){}shutdown(){}}class Lb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const k_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class uI{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class zS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,a){const u=this.ao(e,t);Oe("RestConnection","Sending: ",u,i);const f={};return this.ho(f,r,a),this.lo(e,u,f,i).then(_=>(Oe("RestConnection","Received: ",_),_),_=>{throw kh("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.oo}/v1/${t}:${k_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){return new Promise((a,u)=>{const f=new vE;f.listenOnce(mE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case s_.NO_ERROR:const b=f.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(b)),a(b);break;case s_.TIMEOUT:Oe("Connection",'RPC "'+e+'" timed out'),u(new ke(he.DEADLINE_EXCEEDED,"Request time out"));break;case s_.HTTP_ERROR:const I=f.getStatus();if(Oe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const S=f.getResponseJson().error;if(S&&S.status&&S.message){const O=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(U)>=0?U:he.UNKNOWN}(S.status);u(new ke(O,S.message))}else u(new ke(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ke(he.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Oe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}_o(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fE(),u=pE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new yE({})),this.ho(f.initMessageHeaders,t,i),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Oe("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let I=!1,S=!1;const O=new uI({Hr:U=>{S?Oe("Connection","Not sending because WebChannel is closed:",U):(I||(Oe("Connection","Opening WebChannel transport."),b.open(),I=!0),Oe("Connection","WebChannel sending:",U),b.send(U))},Jr:()=>b.close()}),L=(U,J,pe)=>{U.listen(J,We=>{try{pe(We)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return L(b,o_.EventType.OPEN,()=>{S||Oe("Connection","WebChannel transport opened.")}),L(b,o_.EventType.CLOSE,()=>{S||(S=!0,Oe("Connection","WebChannel transport closed"),O.io())}),L(b,o_.EventType.ERROR,U=>{S||(S=!0,kh("Connection","WebChannel transport errored:",U),O.io(new ke(he.UNAVAILABLE,"The operation could not be completed")))}),L(b,o_.EventType.MESSAGE,U=>{var J;if(!S){const pe=U.data[0];St(!!pe);const We=pe,Ye=We.error||(null===(J=We[0])||void 0===J?void 0:J.error);if(Ye){Oe("Connection","WebChannel received error:",Ye);const Ge=Ye.status;let Ue=function(Ct){const zt=fi[Ct];if(void 0!==zt)return mC(zt)}(Ge),yt=Ye.message;void 0===Ue&&(Ue=he.INTERNAL,yt="Unknown error status: "+Ge+" with message "+Ye.message),S=!0,O.io(new ke(Ue,yt)),b.close()}else Oe("Connection","WebChannel received:",pe),O.ro(pe)}}),L(u,gE.STAT_EVENT,U=>{U.stat===_E.PROXY?Oe("Connection","Detected buffering proxy"):U.stat===_E.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function R_(){return"undefined"!=typeof window?window:null}function af(){return"undefined"!=typeof document?document:null}function O_(n){return new VM(n,!0)}class Vb{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class dI{constructor(e,t,i,r,a,u,f,_){this.Hs=e,this.Po=i,this.vo=r,this.Vo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Vb(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,ve.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new ke(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hI extends dI{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function yS(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),r=e.targetChange.targetIds||[],a=function(_,b){return _.gt?(St(void 0===b||"string"==typeof b),wi.fromBase64String(b||"")):(St(void 0===b||b instanceof Uint8Array),wi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?he.UNKNOWN:mC(_.code);return new ke(b,_.message||"")}(u);t=new _C(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=xa(n,i.document.name),a=Xi(i.document.updateTime),u=new hr({mapValue:{fields:i.document.fields}}),f=_n.newFoundDocument(r,a,u);t=new jp(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=xa(n,i.document),a=i.readTime?Xi(i.readTime):At.min(),u=_n.newNoDocument(r,a);t=new jp([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=xa(n,i.document);t=new jp([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return st();{const i=e.filter,a=new fC(i.count||0);t=new Jv(i.targetId,a)}}var _;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return At.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?At.min():a.readTime?Xi(a.readTime):At.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=zp(this.It),t.addTarget=function(r,a){let u;const f=a.target;return u=Op(f)?{documents:CC(r,f)}:{query:rb(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=$p(r,a.resumeToken):a.snapshotVersion.compareTo(At.min())>0&&(u.readTime=qh(r,a.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function sb(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=zp(this.It),t.removeTarget=e,this.Bo(t)}}class fI extends dI{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function EC(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(i,r){let a=Xi(i.updateTime?i.updateTime:r);return a.isEqual(At.min())&&(a=Xi(r)),new uC(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Xi(e.commitTime);return this.listener.Zo(i,t)}return St(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=zp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Kh(this.It,i))};this.Bo(t)}}class qS extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.Vo.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(he.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.Vo.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(he.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class pI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(hi(t),this.ou=!1):Oe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class mI{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(f=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;ud(u)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const I=Je(b);I._u.add(4),yield cd(I),I.gu.set("Unknown"),I._u.delete(4),yield lm(I)}),function(b){return _.apply(this,arguments)})(u))}))}),this.gu=new pI(i,r)}}function lm(n){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,ve.Z)(function*(n){if(ud(n))for(const e of n.wu)yield e(!0)}),Bb.apply(this,arguments)}function cd(n){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,ve.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Ub.apply(this,arguments)}function cm(n,e){const t=Je(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),$b(t)?jb(t):cf(t).ko()&&P_(t,e))}function lf(n,e){const t=Je(n),i=cf(t);t.du.delete(e),i.ko()&&Hb(t,e),0===t.du.size&&(i.ko()?i.Fo():ud(t)&&t.gu.set("Unknown"))}function P_(n,e){n.yu.Ot(e.targetId),cf(n).zo(e)}function Hb(n,e){n.yu.Ot(e),cf(n).Ho(e)}function jb(n){n.yu=new mS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),cf(n).start(),n.gu.uu()}function $b(n){return ud(n)&&!cf(n).No()&&n.du.size>0}function ud(n){return 0===Je(n)._u.size}function Gb(n){n.yu=void 0}function jM(n){return gI.apply(this,arguments)}function gI(){return gI=(0,ve.Z)(function*(n){n.du.forEach((e,t)=>{P_(n,e)})}),gI.apply(this,arguments)}function $M(n,e){return _I.apply(this,arguments)}function _I(){return _I=(0,ve.Z)(function*(n,e){Gb(n),$b(n)?(n.gu.hu(e),jb(n)):n.gu.set("Unknown")}),_I.apply(this,arguments)}function GM(n,e,t){return yI.apply(this,arguments)}function yI(){return yI=(0,ve.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof _C&&2===e.state&&e.cause)try{yield(i=(0,ve.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.du.delete(f),r.yu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield zb(n,i)}else if(e instanceof jp?n.yu.Gt(e):e instanceof Jv?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(At.min()))try{const i=yield rI(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.yu.te(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.du.get(_);b&&r.du.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.du.get(f);if(!_)return;r.du.set(f,_.withResumeToken(wi.EMPTY_BYTE_STRING,_.snapshotVersion)),Hb(r,f);const b=new Vc(_.target,f,1,_.sequenceNumber);P_(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield zb(n,i)}var i}),yI.apply(this,arguments)}function zb(n,e,t){return vI.apply(this,arguments)}function vI(){return vI=(0,ve.Z)(function*(n,e,t){if(!vl(e))throw e;n._u.add(1),yield cd(n),n.gu.set("Offline"),t||(t=()=>rI(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield lm(n)}))}),vI.apply(this,arguments)}function um(n,e){return e().catch(t=>zb(n,t,e))}function dm(n){return N_.apply(this,arguments)}function N_(){return N_=(0,ve.Z)(function*(n){const e=Je(n),t=$c(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;qb(e);)try{const r=yield jS(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,bI(e,r)}catch(r){yield zb(e,r)}Zb(e)&&ZS(e)}),N_.apply(this,arguments)}function qb(n){return ud(n)&&n.fu.length<10}function bI(n,e){n.fu.push(e);const t=$c(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Zb(n){return ud(n)&&!$c(n).No()&&n.fu.length>0}function ZS(n){$c(n).start()}function Wb(n){return F_.apply(this,arguments)}function F_(){return F_=(0,ve.Z)(function*(n){$c(n).eu()}),F_.apply(this,arguments)}function WS(n){return L_.apply(this,arguments)}function L_(){return L_=(0,ve.Z)(function*(n){const e=$c(n);for(const t of n.fu)e.Xo(t.mutations)}),L_.apply(this,arguments)}function zM(n,e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,ve.Z)(function*(n,e,t){const i=n.fu.shift(),r=fb.from(i,e,t);yield um(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield dm(n)}),Kb.apply(this,arguments)}function KS(n,e){return hm.apply(this,arguments)}function hm(){return hm=(0,ve.Z)(function*(n,e){var t;e&&$c(n).Yo&&(yield(t=(0,ve.Z)(function*(i,r){if(pC(a=r.code)&&a!==he.ABORTED){const u=i.fu.shift();$c(i).Oo(),yield um(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield dm(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),Zb(n)&&ZS(n)}),hm.apply(this,arguments)}function wI(n,e){return EI.apply(this,arguments)}function EI(){return EI=(0,ve.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const i=ud(t);t._u.add(3),yield cd(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield lm(t)}),EI.apply(this,arguments)}function CI(n,e){return II.apply(this,arguments)}function II(){return II=(0,ve.Z)(function*(n,e){const t=Je(n);e?(t._u.delete(2),yield lm(t)):e||(t._u.add(2),yield cd(t),t.gu.set("Unknown"))}),II.apply(this,arguments)}function cf(n){return n.pu||(n.pu=function(e,t,i){const r=Je(e);return r.su(),new hI(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:jM.bind(null,n),Zr:$M.bind(null,n),Wo:GM.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.pu.Oo(),$b(n)?jb(n):n.gu.set("Unknown")):(yield n.pu.stop(),Gb(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function $c(n){return n.Iu||(n.Iu=function(e,t,i){const r=Je(e);return r.su(),new fI(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Wb.bind(null,n),Zr:KS.bind(null,n),tu:WS.bind(null,n),Zo:zM.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Iu.Oo(),yield dm(n)):(yield n.Iu.stop(),n.fu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Yb{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new Yb(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(n,e){if(hi("AsyncQueue",`${e}: ${n}`),vl(n))return new ke(he.UNAVAILABLE,`${e}: ${n}`);throw n}class uf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ze.comparator(t.key,i.key):(t,i)=>ze.comparator(t.key,i.key),this.keyedMap=Vp(),this.sortedSet=new Bn(this.comparator)}static emptySet(e){return new uf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new uf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class V_{constructor(){this.Tu=new Bn(ze.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class df{constructor(e,t,i,r,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new df(e,t,uf.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Jo{constructor(){this.Au=void 0,this.listeners=[]}}class YS{constructor(){this.queries=new Lc(e=>iC(e),Pp),this.onlineState="Unknown",this.Ru=new Set}}function pm(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,ve.Z)(function*(n,e){const t=Je(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new Jo),r)try{a.Au=yield t.onListen(i)}catch(u){const f=fm(u,`Initialization of query '${Gv(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&Jb(t)}),Qb.apply(this,arguments)}function Xb(n,e){return mm.apply(this,arguments)}function mm(){return mm=(0,ve.Z)(function*(n,e){const t=Je(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),mm.apply(this,arguments)}function DI(n,e){const t=Je(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Pu(r)&&(i=!0);u.Au=r}}i&&Jb(t)}function TI(n,e,t){const i=Je(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Jb(n){n.Ru.forEach(e=>{e.next()})}class B_{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new df(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class QS{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class SI{constructor(e){this.It=e}Ji(e){return xa(this.It,e)}Yi(e){return e.metadata.exists?wC(this.It,e.document,!1):_n.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Xi(e)}}class XS{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=U_(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,i=new SI(this.It);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Rt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function sm(n,e,t,i){return kb.apply(this,arguments)}(e.localStore,new SI(e.It),e.documents,e.Mu.id),i=e.Fu(e.documents);for(const r of e.queries)yield Rb(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function U_(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Gc{constructor(e){this.key=e}}class e0{constructor(e){this.key=e}}class t0{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Rt(),this.mutatedKeys=Rt(),this.Ku=qv(e),this.Gu=new uf(this.Ku)}get Qu(){return this.Lu}ju(e,t){const i=t?t.Wu:new V_,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,S)=>{const O=r.get(I),L=zv(this.query,S)?S:null,U=!!O&&this.mutatedKeys.has(O.key),J=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let pe=!1;O&&L?O.data.isEqual(L.data)?U!==J&&(i.track({type:3,doc:L}),pe=!0):this.zu(O,L)||(i.track({type:2,doc:L}),pe=!0,(_&&this.Ku(L,_)>0||b&&this.Ku(L,b)<0)&&(f=!0)):!O&&L?(i.track({type:0,doc:L}),pe=!0):O&&!L&&(i.track({type:1,doc:O}),pe=!0,(_||b)&&(f=!0)),pe&&(L?(u=u.add(L),a=J?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Gu:u,Wu:i,$i:f,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((b,I)=>function(S,O){const L=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return L(S)-L(O)}(b.type,I.type)||this.Ku(b.doc,I.doc)),this.Hu(i);const u=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==a.length||_?{snapshot:new df(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1),Yu:u}:{Yu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new V_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Rt(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const t=[];return e.forEach(i=>{this.qu.has(i)||t.push(new e0(i))}),this.qu.forEach(i=>{e.has(i)||t.push(new Gc(i))}),t}Zu(e){this.Lu=e.Hi,this.qu=Rt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return df.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class JS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class qM{constructor(e){this.key=e,this.ec=!1}}class eA{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Lc(f=>iC(f),Pp),this.ic=new Map,this.rc=new Set,this.oc=new Bn(ze.comparator),this.uc=new Map,this.cc=new bb,this.ac={},this.hc=new Map,this.lc=jc.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function tA(n,e){return n0.apply(this,arguments)}function n0(){return n0=(0,ve.Z)(function*(n,e){const t=K_(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield ld(t.localStore,ys(e));t.isPrimaryClient&&cm(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield H_(t,e,i,"current"===f)}return r}),n0.apply(this,arguments)}function H_(n,e,t,i){return r0.apply(this,arguments)}function r0(){return r0=(0,ve.Z)(function*(n,e,t,i){n.dc=(I,S,O)=>{return(L=(0,ve.Z)(function*(U,J,pe,We){let Ye=J.view.ju(pe);Ye.$i&&(Ye=yield Ml(U.localStore,J.query,!1).then(({documents:yt})=>J.view.ju(yt,Ye)));const Ge=We&&We.targetChanges.get(J.targetId),Ue=J.view.applyChanges(Ye,U.isPrimaryClient,Ge);return d0(U,J.targetId,Ue.Yu),Ue.snapshot}),function(U,J,pe,We){return L.apply(this,arguments)})(n,I,S,O);var L};const r=yield Ml(n.localStore,e,!0),a=new t0(e,r.Hi),u=a.ju(r.documents),f=zh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);d0(n,t,_.Yu);const b=new JS(e,t,a);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),r0.apply(this,arguments)}function nA(n,e){return AI.apply(this,arguments)}function AI(){return AI=(0,ve.Z)(function*(n,e){const t=Je(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!Pp(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield tf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),lf(t.remoteStore,i.targetId),dd(t,i.targetId)}).catch(Mc))):(dd(t,i.targetId),yield tf(t.localStore,i.targetId,!0))}),AI.apply(this,arguments)}function j_(){return j_=(0,ve.Z)(function*(n,e,t){const i=p0(n);try{const r=yield function(a,u){const f=Je(a),_=Vn.now(),b=u.reduce((O,L)=>O.add(L.key),Rt());let I,S;return f.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=vs(),U=Rt();return f.Gi.getEntries(O,b).next(J=>{L=J,L.forEach((pe,We)=>{We.isValidDocument()||(U=U.add(pe))})}).next(()=>f.localDocuments.getOverlayedDocuments(O,L)).next(J=>{I=J;const pe=[];for(const We of u){const Ye=dS(We,I.get(We.key).overlayedDocument);null!=Ye&&pe.push(new hn(We.key,Ye,GE(Ye.value.mapValue),Yn.exists(!0)))}return f.mutationQueue.addMutationBatch(O,_,pe,u)}).next(J=>{S=J;const pe=J.applyToLocalDocumentSet(I,U);return f.documentOverlayCache.saveOverlays(O,J.batchId,pe)})}).then(()=>({batchId:S.batchId,changes:Bp(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new Bn(Nt)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield zc(i,r.changes),yield dm(i.remoteStore)}catch(r){const a=fm(r,"Failed to persist write");t.reject(a)}}),j_.apply(this,arguments)}function xI(n,e){return o0.apply(this,arguments)}function o0(){return o0=(0,ve.Z)(function*(n,e){const t=Je(n);try{const i=yield sI(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?St(u.ec):r.removedDocuments.size>0&&(St(u.ec),u.ec=!1))}),yield zc(t,i,e)}catch(i){yield Mc(i)}}),o0.apply(this,arguments)}function a0(n,e,t){const i=Je(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const f=u.view.bu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Je(a);f.onlineState=u;let _=!1;f.queries.forEach((b,I)=>{for(const S of I.listeners)S.bu(u)&&(_=!0)}),_&&Jb(f)}(i.eventManager,e),r.length&&i.nc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function l0(n,e,t){return gm.apply(this,arguments)}function gm(){return gm=(0,ve.Z)(function*(n,e,t){const i=Je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new Bn(ze.comparator);u=u.insert(a,_n.newNoDocument(a,At.min()));const f=Rt().add(a),_=new Hp(At.min(),new Map,new pn(Nt),u,f);yield xI(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),NI(i)}else yield tf(i.localStore,e,!1).then(()=>dd(i,e,t)).catch(Mc)}),gm.apply(this,arguments)}function MI(n,e){return c0.apply(this,arguments)}function c0(){return c0=(0,ve.Z)(function*(n,e){const t=Je(n),i=e.batch.batchId;try{const r=yield iI(t.localStore,e);OI(t,i,null),RI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield zc(t,r)}catch(r){yield Mc(r)}}),c0.apply(this,arguments)}function kI(n,e,t){return $_.apply(this,arguments)}function $_(){return $_=(0,ve.Z)(function*(n,e,t){const i=Je(n);try{const r=yield function(a,u){const f=Je(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(St(null!==I),b=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);OI(i,e,t),RI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield zc(i,r)}catch(r){yield Mc(r)}}),$_.apply(this,arguments)}function u0(){return u0=(0,ve.Z)(function*(n,e){const t=Je(n);ud(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Je(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=fm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),u0.apply(this,arguments)}function RI(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function OI(n,e,t){const i=Je(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function dd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc._c(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(i=>{n.cc.containsKey(i)||PI(n,i)})}function PI(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(lf(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),NI(n))}function d0(n,e,t){for(const i of t)i instanceof Gc?(n.cc.addReference(i.key,e),rA(n,i)):i instanceof e0?(Oe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||PI(n,i.key)):st()}function rA(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Oe("SyncEngine","New document in limbo: "+t),n.rc.add(i),NI(n))}function NI(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new ze(Qt.fromString(e)),i=n.lc.next();n.uc.set(i,new qM(t)),n.oc=n.oc.insert(t,i),cm(n.remoteStore,new Vc(ys(Hh(t.path)),i,2,$r.at))}}function zc(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=(0,ve.Z)(function*(n,e,t){const i=Je(n),r=[],a=[],u=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{u.push(i.dc(_,e,t).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const I=Db.Ci(_.targetId,b);a.push(I)}}))}),yield Promise.all(u),i.nc.Wo(r),yield(f=(0,ve.Z)(function*(_,b){const I=Je(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(b,O=>se.forEach(O.Si,L=>I.persistence.referenceDelegate.addReference(S,O.targetId,L)).next(()=>se.forEach(O.Di,L=>I.persistence.referenceDelegate.removeReference(S,O.targetId,L)))))}catch(S){if(!vl(S))throw S;Oe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of b){const O=S.targetId;if(!S.fromCache){const L=I.Ui.get(O),J=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);I.Ui=I.Ui.insert(O,J)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),FI.apply(this,arguments)}function ZM(n,e){return LI.apply(this,arguments)}function LI(){return LI=(0,ve.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const i=yield xb(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new ke(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield zc(t,i.ji)}var r}),LI.apply(this,arguments)}function sA(n,e){const t=Je(n),i=t.uc.get(e);if(i&&i.ec)return Rt().add(i.key);{let r=Rt();const a=t.ic.get(e);if(!a)return r;for(const u of a){const f=t.sc.get(u);r=r.unionWith(f.view.Qu)}return r}}function G_(n,e){return h0.apply(this,arguments)}function h0(){return h0=(0,ve.Z)(function*(n,e){const t=Je(n),i=yield Ml(t.localStore,e.query,!0),r=e.view.Zu(i);return t.isPrimaryClient&&d0(t,e.targetId,r.Yu),r}),h0.apply(this,arguments)}function oA(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,ve.Z)(function*(n,e){const t=Je(n);return aI(t.localStore,e).then(i=>zc(t,i))}),z_.apply(this,arguments)}function hd(n,e,t,i){return q_.apply(this,arguments)}function q_(){return q_=(0,ve.Z)(function*(n,e,t,i){const r=Je(n),a=yield function(u,f){const _=Je(u),b=Je(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>b.Tn(I,f).next(S=>S?_.localDocuments.getDocuments(I,S):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield dm(r.remoteStore):"acknowledged"===t||"rejected"===t?(OI(r,e,i||null),RI(r,e),f=e,Je(Je(r.localStore).mutationQueue).An(f)):st(),yield zc(r,a)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),q_.apply(this,arguments)}function _m(){return _m=(0,ve.Z)(function*(n,e){const t=Je(n);if(K_(t),p0(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield VI(t,i.toArray());t.fc=!0,yield CI(t.remoteStore,!0);for(const a of r)cm(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(dd(t,u),tf(t.localStore,u,!0))),lf(t.remoteStore,u)}),yield r,yield VI(t,i),function(a){const u=Je(a);u.uc.forEach((f,_)=>{lf(u.remoteStore,_)}),u.cc.fs(),u.uc=new Map,u.oc=new Bn(ze.comparator)}(t),t.fc=!1,yield CI(t.remoteStore,!1)}}),_m.apply(this,arguments)}function VI(n,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,ve.Z)(function*(n,e,t){const i=Je(n),r=[],a=[];for(const u of e){let f;const _=i.ic.get(u);if(_&&0!==_.length){f=yield ld(i.localStore,ys(_[0]));for(const b of _){const I=i.sc.get(b),S=yield G_(i,I);S.snapshot&&a.push(S.snapshot)}}else{const b=yield oI(i.localStore,u);f=yield ld(i.localStore,b),yield H_(i,Z_(b),u,!1)}r.push(f)}return i.nc.Wo(a),r}),ym.apply(this,arguments)}function Z_(n){return tC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function W_(n){const e=Je(n);return Je(Je(e.localStore).persistence).vi()}function WM(n,e,t,i){return BI.apply(this,arguments)}function BI(){return BI=(0,ve.Z)(function*(n,e,t,i){const r=Je(n);if(r.fc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield aI(r.localStore,rC(a[0])),f=Hp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield zc(r,u,f);break}case"rejected":yield tf(r.localStore,e,!0),dd(r,e,i);break;default:st()}}),BI.apply(this,arguments)}function KM(n,e,t){return UI.apply(this,arguments)}function UI(){return UI=(0,ve.Z)(function*(n,e,t){const i=K_(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Oe("SyncEngine","Adding an already active target "+r);continue}const a=yield oI(i.localStore,r),u=yield ld(i.localStore,a);yield H_(i,Z_(a),u.targetId,!1),cm(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield tf(i.localStore,r,!1).then(()=>{lf(i.remoteStore,r),dd(i,r)}).catch(Mc))}}),UI.apply(this,arguments)}function K_(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l0.bind(null,e),e.nc.Wo=DI.bind(null,e.eventManager),e.nc._c=TI.bind(null,e.eventManager),e}function p0(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kI.bind(null,e),e}class HI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.It=O_(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Ab(this.persistence,new Tb,e.initialUser,this.It)}gc(e){return new nI(ef.Bs,this.It)}mc(e){return new Fb}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jI extends HI{constructor(e,t,i){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e),yield i.Ec.initialize(i,e),yield p0(i.Ec.syncEngine),yield dm(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Ab(this.persistence,new Tb,e.initialUser,this.It)}Ic(e,t){return new NS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const i=new Nv(t,this.persistence);return new xE(e.asyncQueue,i)}gc(e){const t=Ib(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new im(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,R_(),af(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Fb}}class $I extends jI{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e);const r=i.Ec.syncEngine;i.sharedClientState instanceof cI&&(i.sharedClientState.syncEngine={Fr:hd.bind(null,r),$r:WM.bind(null,r),Br:KM.bind(null,r),vi:W_.bind(null,r),Or:oA.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,ve.Z)(function*(u){yield function f0(n,e){return _m.apply(this,arguments)}(i.Ec.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}mc(e){const t=R_();if(!cI.C(t))throw new ke(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Ib(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cI(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Y_{initialize(e,t){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>a0(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZM.bind(null,i.syncEngine),yield CI(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YS}createDatastore(e){const t=O_(e.databaseInfo.databaseId),i=new zS(e.databaseInfo);return new qS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>a0(this.syncEngine,f,0),u=Lb.C()?new Lb:new GS,new mI(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const I=new eA(i,r,a,u,f,_);return b&&(I.fc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const i=Je(t);Oe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield cd(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function m0(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lA{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Ki,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const i=e.Pc.decode(t),r=Number(i);isNaN(r)&&e.Sc(`length string (${i}) is not valid number`);const a=yield e.Dc(r);return new QS(JSON.parse(a),t.length+r)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ve.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Dc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const i=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.bc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class GI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(a,u){const f=Je(a),_=zp(f.It)+"/documents",b={documents:u.map(L=>Gp(f.It,L))},I=yield f.fo("BatchGetDocuments",_,b,u.length),S=new Map;I.forEach(L=>{const U=function Wh(n,e){return"found"in e?function(t,i){St(!!i.found);const r=xa(t,i.found.name),a=Xi(i.found.updateTime),u=new hr({mapValue:{fields:i.found.fields}});return _n.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){St(!!i.missing),St(!!i.readTime);const r=xa(t,i.missing),a=Xi(i.readTime);return _n.newNoDocument(r,a)}(n,e):st()}(f.It,L);S.set(U.key.toString(),U)});const O=[];return u.forEach(L=>{const U=S.get(L.toString());St(!!U),O.push(U)}),O}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new $h(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=ze.fromPath(r);e.mutations.push(new g_(a,e.precondition(a)))}),yield(i=(0,ve.Z)(function*(r,a){const u=Je(r),f=zp(u.It)+"/documents",_={writes:a.map(b=>Kh(u.It,b))};yield u.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=At.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ke(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(At.min())?Yn.exists(!1):Yn.updateTime(t):Yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new ke(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class g0{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Nc=i.maxAttempts,this.xo=new Vb(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ve.Z)(function*(){const t=new GI(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Oc(a)}))}).catch(r=>{e.Oc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ap(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!pC(t)}return!1}}class YM{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Wi.UNAUTHENTICATED,this.clientId=kv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(f){Oe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Oe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=fm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function _0(n,e){return vm.apply(this,arguments)}function vm(){return vm=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(a){i.isEqual(a)||(yield xb(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),vm.apply(this,arguments)}function zI(n,e){return y0.apply(this,arguments)}function y0(){return y0=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qI(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>wI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>wI(e.remoteStore,a)),n.onlineComponents=e}),y0.apply(this,arguments)}function qI(n){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,ve.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield _0(n,new HI)),n.offlineComponents}),ZI.apply(this,arguments)}function X_(n){return v0.apply(this,arguments)}function v0(){return v0=(0,ve.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield zI(n,new Y_)),n.onlineComponents}),v0.apply(this,arguments)}function cA(n){return qI(n).then(e=>e.persistence)}function b0(n){return qI(n).then(e=>e.localStore)}function uA(n){return X_(n).then(e=>e.remoteStore)}function WI(n){return X_(n).then(e=>e.syncEngine)}function bm(n){return w0.apply(this,arguments)}function w0(){return w0=(0,ve.Z)(function*(n){const e=yield X_(n),t=e.eventManager;return t.onListen=tA.bind(null,e.syncEngine),t.onUnlisten=nA.bind(null,e.syncEngine),t}),w0.apply(this,arguments)}function dA(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,f,_){const b=new Q_({next:S=>{a.enqueueAndForget(()=>Xb(r,I));const O=S.docs.has(u);!O&&S.fromCache?_.reject(new ke(he.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&f&&"server"===f.source?_.reject(new ke(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new B_(Hh(u.path),b,{includeMetadataChanges:!0,Nu:!0});return pm(r,I)}(yield bm(n),n.asyncQueue,e,t,i)})),i.promise}function o(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,f,_){const b=new Q_({next:S=>{a.enqueueAndForget(()=>Xb(r,I)),S.fromCache&&"server"===f.source?_.reject(new ke(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new B_(u,b,{includeMetadataChanges:!0,Nu:!0});return pm(r,I)}(yield bm(n),n.asyncQueue,e,t,i)})),i.promise}const v=new Map;function E(n,e,t){if(!t)throw new ke(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D(n,e,t,i){if(!0===e&&!0===i)throw new ke(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function x(n){if(!ze.isDocumentKey(n))throw new ke(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function k(n){if(ze.isDocumentKey(n))throw new ke(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function B(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=F(n);throw new ke(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function X(n,e){if(e<=0)throw new ke(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class be{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ne{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new be({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new be(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PM;switch(t.type){case"gapi":return new wE(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=v.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),v.delete(e),t.terminate())}(this),Promise.resolve()}}class Le{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new at(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Le(this.firestore,e,this._key)}}class we{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new we(this.firestore,e,this._query)}}class at extends we{constructor(e,t,i){super(e,t,Hh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Le(this.firestore,null,new ze(e))}withConverter(e){return new at(this.firestore,e,this._path)}}function Gt(n,e,...t){if(n=(0,Mt.m9)(n),E("collection","path",e),n instanceof Ne){const i=Qt.fromString(e,...t);return k(i),new at(n,null,i)}{if(!(n instanceof Le||n instanceof at))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return k(i),new at(n.firestore,null,i)}}function Mr(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=kv.R()),E("doc","path",e),n instanceof Ne){const i=Qt.fromString(e,...t);return x(i),new Le(n,null,new ze(i))}{if(!(n instanceof Le||n instanceof at))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return x(i),new Le(n.firestore,n instanceof at?n.converter:null,new ze(i))}}function qc(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof Le||n instanceof at)&&(e instanceof Le||e instanceof at)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function J_(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof we&&e instanceof we&&n.firestore===e.firestore&&Pp(n._query,e._query)&&n.converter===e.converter}class E0{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Vb(this,"async_queue_retry"),this.jc=()=>{const t=af();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=af();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ki;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!vl(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(i=>{throw this.qc=i,this.Kc=!1,hi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=t,t}enqueueAfterDelay(e,t,i){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const r=Yb.createAndSchedule(this,e,t,i,a=>this.Jc(a));return this.Uc.push(r),r}Wc(){this.qc&&st()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function wm(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class C0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Dn extends Ne{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new E0,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ek(this),this._firestoreClient.terminate()}}function si(n){return n._firestoreClient||ek(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ek(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PE(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new YM(n._authCredentials,n._appCheckCredentials,n._queue,i)}function tk(n,e,t){const i=new Ki;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield _0(n,t),yield zI(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===he.FAILED_PRECONDITION||u.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;kh("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function nk(n){if(n._initialized||n._terminated)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zc(wi.fromBase64String(e))}catch(t){throw new ke(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zc(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Em{constructor(e){this._methodName=e}}class QI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const nF=/^__.*__$/;class iF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new hn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}class ik{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new hn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class XI{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new XI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.oa(e),r}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return tD(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(rk(this.na)&&nF.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class rF{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||O_(e)}fa(e,t,i,r=!1){return new XI({na:e,methodName:t,la:i,path:Wn.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Cm(n){const e=n._freezeSettings(),t=O_(n._databaseId);return new rF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JI(n,e,t,i,r,a={}){const u=n.fa(a.merge||a.mergeFields?2:0,e,t,r);mA("Data must be an object, but it was:",u,i);const f=ak(i,u);let _,b;if(a.merge)_=new gs(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const S of a.mergeFields){const O=gA(e,S,t);if(!u.contains(O))throw new ke(he.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);ck(I,O)||I.push(O)}_=new gs(I),b=u.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,b=u.fieldTransforms;return new iF(new hr(f),_,b)}class D0 extends Em{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function sk(n,e,t){return new XI({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class hA extends Em{_toFieldTransform(e){return new p_(e.path,new Pc)}isEqual(e){return e instanceof hA}}class sF extends Em{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=sk(this,e,!0),i=this.da.map(a=>Im(a,t)),r=new Tl(i);return new p_(e.path,r)}isEqual(e){return this===e}}class oF extends Em{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=sk(this,e,!0),i=this.da.map(a=>Im(a,t)),r=new td(i);return new p_(e.path,r)}isEqual(e){return this===e}}class aF extends Em{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Qo(e.It,Kv(e.It,this._a));return new p_(e.path,t)}isEqual(e){return this===e}}function fA(n,e,t,i){const r=n.fa(1,e,t);mA("Data must be an object, but it was:",r,i);const a=[],u=hr.empty();kc(i,(_,b)=>{const I=eD(e,_,t);b=(0,Mt.m9)(b);const S=r.ua(I);if(b instanceof D0)a.push(I);else{const O=Im(b,S);null!=O&&(a.push(I),u.set(I,O))}});const f=new gs(a);return new ik(u,f,r.fieldTransforms)}function pA(n,e,t,i,r,a){const u=n.fa(1,e,t),f=[gA(e,i,t)],_=[r];if(a.length%2!=0)throw new ke(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(gA(e,a[O])),_.push(a[O+1]);const b=[],I=hr.empty();for(let O=f.length-1;O>=0;--O)if(!ck(b,f[O])){const L=f[O];let U=_[O];U=(0,Mt.m9)(U);const J=u.ua(L);if(U instanceof D0)b.push(L);else{const pe=Im(U,J);null!=pe&&(b.push(L),I.set(L,pe))}}const S=new gs(b);return new ik(I,S,u.fieldTransforms)}function ok(n,e,t,i=!1){return Im(t,n.fa(i?4:3,e))}function Im(n,e){if(lk(n=(0,Mt.m9)(n)))return mA("Unsupported field value:",e,n),ak(n,e);if(n instanceof Em)return function(t,i){if(!rk(i.na))throw i.aa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Im(u,i.ca(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kv(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Vn.fromDate(t);return{timestampValue:qh(i.It,r)}}if(t instanceof Vn){const r=new Vn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qh(i.It,r)}}if(t instanceof QI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zc)return{bytesValue:$p(i.It,t._byteString)};if(t instanceof Le){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:y_(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.aa(`Unsupported field value: ${F(t)}`)}(n,e)}function ak(n,e){const t={};return Fv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(i,r)=>{const a=Im(r,e.ia(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function lk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vn||n instanceof QI||n instanceof Zc||n instanceof Le||n instanceof Em)}function mA(n,e,t){if(!lk(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=F(t);throw e.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function gA(n,e,t){if((e=(0,Mt.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return eD(n,e);throw tD("Field path arguments must be of type string or ",n,!1,void 0,t)}const lF=new RegExp("[~\\*/\\[\\]]");function eD(n,e,t){if(e.search(lF)>=0)throw tD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch(i){throw tD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tD(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(he.INVALID_ARGUMENT,f+n+_)}function ck(n,e){return n.some(t=>t.isEqual(e))}class T0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cF extends T0{data(){return super.data()}}function nD(n,e){return"string"==typeof e?eD(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}class Dm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends T0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new S0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class S0 extends pd{data(e={}){return super.data(e)}}class hf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new S0(this._firestore,this._userDataWriter,i.key,i,new Dm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new S0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Dm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new S0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Dm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:uF(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function uk(n,e){return n instanceof pd&&e instanceof pd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hf&&e instanceof hf&&n._firestore===e._firestore&&J_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function dk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}function ff(n,...e){for(const t of e)n=t._apply(n);return n}class dF extends A0{constructor(e,t,i){super(),this.wa=e,this.ma=t,this.ga=i,this.type="where"}_apply(e){const t=Cm(e.firestore),i=function(r,a,u,f,_,b,I){let S;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){_k(I,b);const L=[];for(const U of I)L.push(gk(f,r,U));S={arrayValue:{values:L}}}else S=gk(f,r,I)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||_k(I,b),S=ok(u,"where",I,"in"===b||"not-in"===b);const O=Qi.create(_,b,S);return function(L,U){if(U.dt()){const pe=jv(L);if(null!==pe&&!pe.isEqual(U.field))throw new ke(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pe.toString()}' and '${U.field.toString()}'`);const We=Hv(L);null!==We&&yk(0,U.field,We)}const J=function(pe,We){for(const Ye of pe.filters)if(We.indexOf(Ye.op)>=0)return Ye.op;return null}(L,function(pe){switch(pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==J)throw new ke(he.INVALID_ARGUMENT,J===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${J.toString()}' filters.`)}(r,O),O}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new we(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new Dl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class fF extends A0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ed(r,a);return function(f,_){if(null===Hv(f)){const b=jv(f);null!==b&&yk(0,b,_.field)}}(i,u),u}(e._query,this.wa,this.ya);return new we(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Dl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class hk extends A0{constructor(e,t,i){super(),this.type=e,this.pa=t,this.Ia=i}_apply(e){return new we(e.firestore,e.converter,h_(e._query,this.pa,this.Ia))}}class fk extends A0{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=mk(e,this.type,this.Ta,this.Ea);return new we(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class pk extends A0{constructor(e,t,i){super(),this.type=e,this.Ta=t,this.Ea=i}_apply(e){const t=mk(e,this.type,this.Ta,this.Ea);return new we(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function mk(n,e,t,i){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof T0)return function(r,a,u,f,_){if(!f)throw new ke(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const I of jh(r))if(I.field.isKeyField())b.push(Cl(a,f.key));else{const S=f.data.field(I.field);if(u_(S))throw new ke(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const O=I.field.canonicalString();throw new ke(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(S)}return new Il(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Cm(n.firestore);return function(a,u,f,_,b,I){const S=a.explicitOrderBy;if(b.length>S.length)throw new ke(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let L=0;L<b.length;L++){const U=b[L];if(S[L].field.isKeyField()){if("string"!=typeof U)throw new ke(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!$v(a)&&-1!==U.indexOf("/"))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const J=a.path.child(Qt.fromString(U));if(!ze.isDocumentKey(J))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const pe=new ze(J);O.push(Cl(u,pe))}else{const J=ok(f,_,U);O.push(J)}}return new Il(O,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function gk(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new ke(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$v(e)&&-1!==t.indexOf("/"))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qt.fromString(t));if(!ze.isDocumentKey(i))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cl(n,new ze(i))}if(t instanceof Le)return Cl(n,t._key);throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${F(t)}.`)}function _k(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yk(n,e,t){if(!t.isEqual(e))throw new ke(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const wF={maxAttempts:5};class _A{convertValue(e,t="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const i={};return kc(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new QI(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=OE(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kn(e));default:return null}}convertTimestamp(e){const t=Yu(e);return new Vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qt.fromString(e);St(ab(i));const r=new Rc(i.get(1),i.get(3)),a=new ze(i.popFirst(5));return r.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function iD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class EF extends _A{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,t)}}class vk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cm(e)}set(e,t,i){this._verifyNotCommitted();const r=pf(e,this._firestore),a=iD(r.converter,t,i),u=JI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Yn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=pf(e,this._firestore);let u;return u="string"==typeof(t=(0,Mt.m9)(t))||t instanceof fd?pA(this._dataReader,"WriteBatch.update",a._key,t,i,r):fA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pf(e,this._firestore);return this._mutations=this._mutations.concat(new $h(t._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pf(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new ke(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Tm extends _A{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,t)}}function bk(n,e,t){n=B(n,Le);const i=B(n.firestore,Dn),r=iD(n.converter,e,t);return ey(i,[JI(Cm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Yn.none())])}function wk(n,e,t,...i){n=B(n,Le);const r=B(n.firestore,Dn),a=Cm(r);let u;return u="string"==typeof(e=(0,Mt.m9)(e))||e instanceof fd?pA(a,"updateDoc",n._key,e,t,i):fA(a,"updateDoc",n._key,e),ey(r,[u.toMutation(n._key,Yn.exists(!0))])}function Ek(n,...e){var t,i,r;n=(0,Mt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||wm(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(wm(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let _,b,I;if(n instanceof Le)b=B(n.firestore,Dn),I=Hh(n._key.path),_={next:S=>{e[u]&&e[u](yA(b,n,S))},error:e[u+1],complete:e[u+2]};else{const S=B(n,we);b=B(S.firestore,Dn),I=S._query;const O=new Tm(b);_={next:L=>{e[u]&&e[u](new hf(b,O,S,L))},error:e[u+1],complete:e[u+2]},dk(n._query)}return function(S,O,L,U){const J=new Q_(U),pe=new B_(O,J,L);return S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return pm(yield bm(S),pe)})),()=>{J.Rc(),S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Xb(yield bm(S),pe)}))}}(si(b),I,f,_)}function ey(n,e){return function(t,i){const r=new Ki;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function s0(n,e,t){return j_.apply(this,arguments)}(yield WI(t),i,r)})),r.promise}(si(n),e)}function yA(n,e,t){const i=t.docs.get(e._key),r=new Tm(n);return new pd(n,r,e._key,i,new Dm(t.hasPendingWrites,t.fromCache),e.converter)}class RF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cm(e)}get(e){const t=pf(e,this._firestore),i=new EF(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return st();const a=r[0];if(a.isFoundDocument())return new T0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new T0(this._firestore,i,t._key,null,t.converter);throw st()})}set(e,t,i){const r=pf(e,this._firestore),a=iD(r.converter,t,i),u=JI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=pf(e,this._firestore);let u;return u="string"==typeof(t=(0,Mt.m9)(t))||t instanceof fd?pA(this._dataReader,"Transaction.update",a._key,t,i,r):fA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=pf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pf(e,this._firestore),i=new Tm(this._firestore);return super.get(e).then(r=>new pd(this._firestore,i,t._key,r._document,new Dm(!1,!1),t.converter))}}function vA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ik(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function Dk(){if(!function kE(){return"undefined"!=typeof atob}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Mh=_o.SDK_VERSION,(0,_o._registerComponent)(new gh.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new Dn(new Rh(t.getProvider("auth-internal")),new CE(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,_o.registerVersion)(Tv,"3.4.15",n),(0,_o.registerVersion)(Tv,"3.4.15","esm2017")}();class x0{constructor(e){this._delegate=e}static fromBase64String(e){return Dk(),new x0(Zc.fromBase64String(e))}static fromUint8Array(e){return Ik(),new x0(Zc.fromUint8Array(e))}toBase64(){return Dk(),this._delegate.toBase64()}toUint8Array(){return Ik(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bA(n){return function HF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class jF{enableIndexedDbPersistence(e,t){return function WN(n,e){nk(n=B(n,Dn));const t=si(n),i=n._freezeSettings(),r=new Y_;return tk(t,r,new jI(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KN(n){nk(n=B(n,Dn));const e=si(n),t=n._freezeSettings(),i=new Y_;return tk(e,i,new $I(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function YN(n){if(n._initialized&&!n._terminated)throw new ke(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ki;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(i){if(!vo.C())return Promise.resolve();const r=i+"main";yield vo.delete(r)}),function(i){return t.apply(this,arguments)})(Ib(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Tk{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&kh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Ze(n,e,t,i={}){var r;const a=(n=B(n,Ne))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&kh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Wi.MOCK_USER;else{u=(0,Mt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Wi(_)}n._authCredentials=new rS(new xv(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function XN(n){return function QM(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield cA(n),t=yield uA(n);return e.setNetworkEnabled(!0),function(i){const r=Je(i);return r._u.delete(0),lm(r)}(t)}))}(si(n=B(n,Dn)))}(this._delegate)}disableNetwork(){return function JN(n){return function XM(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield cA(n),t=yield uA(n);return e.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const a=Je(r);a._u.add(0),yield cd(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(si(n=B(n,Dn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,D("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function QN(n){return function(e){const t=new Ki;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function iA(n,e){return u0.apply(this,arguments)}(yield WI(e),t)})),t.promise}(si(n=B(n,Dn)))}(this._delegate)}onSnapshotsInSync(e){return function kF(n,e){return function l(n,e){const t=new Q_(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield bm(n),r=t,Je(i).Ru.add(r),void r.next();var i,r})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield bm(n),r=t,void Je(i).Ru.delete(r);var i,r}))}}(si(n=B(n,Dn)),wm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ty(this,Gt(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Na(this,Mr(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function fn(n,e){if(n=B(n,Ne),E("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new we(n,null,(t=e,new Dl(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function OF(n,e,t){n=B(n,Dn);const i=Object.assign(Object.assign({},wF),t);return function(r){if(r.maxAttempts<1)throw new ke(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function d(n,e,t){const i=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(a=n,X_(a).then(u=>u.datastore));var a;new g0(n.asyncQueue,r,t,e,i).run()})),i.promise}(si(n),r=>e(new RF(n,r)),i)}(this._delegate,t=>e(new Sk(this,t)))}batch(){return si(this._delegate),new Ak(new vk(this._delegate,e=>ey(this._delegate,e)))}loadBundle(e){return function eF(n,e){const t=si(n=B(n,Dn)),i=new C0;return function h(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return m0(_,b);if(_ instanceof ArrayBuffer)return m0(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new lA(_,u);var _}(t,O_(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function aA(n,e,t){const i=Je(n);var r;(r=(0,ve.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(O,L){const U=Je(O),J=Xi(L.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",pe=>U.Ns.getBundleMetadata(pe,L.id)).then(pe=>!!pe&&pe.createTime.compareTo(J)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(U_(_));const b=new XS(_,a.localStore,u.It);let I=yield u.wc();for(;I;){const O=yield b.Ou(I);O&&f._updateProgress(O),I=yield u.wc()}const S=yield b.complete();return yield zc(a,S.Bu,void 0),yield function(O,L){const U=Je(O);return U.persistence.runTransaction("Save bundle","readwrite",J=>U.Ns.saveBundleMetadata(J,L))}(a.localStore,_),f._completeWith(S.progress),Promise.resolve(S.$u)}catch(_){return kh("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var O}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield WI(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function tF(n,e){return function g(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,i){const r=Je(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield b0(n),e)}))}(si(n=B(n,Dn)),e).then(t=>t?new we(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class rD extends _A{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new Zc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Na.forKey(t,this.firestore,null)}}class Sk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rD(e)}get(e){const t=Am(e);return this._delegate.get(t).then(i=>new M0(this._firestore,new pd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Am(e);return i?(vA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Am(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Am(e);return this._delegate.delete(t),this}}class Ak{constructor(e){this._delegate=e}set(e,t,i){const r=Am(e);return i?(vA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Am(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Am(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new S0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new k0(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Sm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Sm(e,new rD(e),t),r.set(t,a)),a}}Sm.INSTANCES=new WeakMap;class Na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Na(t,new Le(t._delegate,i,new ze(e)))}static forKey(e,t,i){return new Na(t,new Le(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ty(this.firestore,Gt(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Le&&qc(this._delegate,e)}set(e,t){t=vA("DocumentReference.set",t);try{return t?bk(this._delegate,e,t):bk(this._delegate,e)}catch(i){throw Bs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?wk(this._delegate,e):wk(this._delegate,e,t,...i)}catch(r){throw Bs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function xF(n){return ey(B(n.firestore,Dn),[new $h(n._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const t=xk(e),i=Mk(e,r=>new M0(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Ek(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function IF(n){n=B(n,Le);const e=B(n.firestore,Dn),t=si(e),i=new Tm(e);return function JM(n,e){const t=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const f=yield function(_,b){const I=Je(_);return I.persistence.runTransaction("read document","readonly",S=>I.localDocuments.getDocument(S,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new ke(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=fm(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield b0(n),e,t);var i})),t.promise}(t,n._key).then(r=>new pd(e,i,n._key,r,new Dm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function DF(n){n=B(n,Le);const e=B(n.firestore,Dn);return dA(si(e),n._key,{source:"server"}).then(t=>yA(e,n,t))}(this._delegate):function CF(n){n=B(n,Le);const e=B(n.firestore,Dn);return dA(si(e),n._key).then(t=>yA(e,n,t))}(this._delegate),t.then(i=>new M0(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function xk(n){for(const e of n)if("object"==typeof e&&!bA(e))return e;return{}}function Mk(n,e){var t,i;let r;return r=bA(n[0])?n[0]:bA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class M0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uk(this._delegate,e._delegate)}}class k0 extends M0{data(e){const t=this._delegate.data(e);return function iS(n,e){n||st()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rD(e)}where(e,t,i){try{return new Us(this.firestore,ff(this._delegate,function hF(n,e,t){const i=e,r=nD("where",n);return new dF(r,i,t)}(e,t,i)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,ff(this._delegate,function pF(n,e="asc"){const t=e,i=nD("orderBy",n);return new fF(i,t)}(e,t)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,ff(this._delegate,function mF(n){return X("limit",n),new hk("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,ff(this._delegate,function gF(n){return X("limitToLast",n),new hk("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,ff(this._delegate,function _F(...n){return new fk("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,ff(this._delegate,function yF(...n){return new fk("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,ff(this._delegate,function vF(...n){return new pk("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,ff(this._delegate,function bF(...n){return new pk("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return J_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function SF(n){n=B(n,we);const e=B(n.firestore,Dn),t=si(e),i=new Tm(e);return function s(n,e){const t=new Ki;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const f=yield Ml(r,a,!0),_=new t0(a,f.Hi),b=_.ju(f.documents),I=_.applyChanges(b,!1);u.resolve(I.snapshot)}catch(f){const _=fm(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield b0(n),e,t);var i})),t.promise}(t,n._query).then(r=>new hf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function AF(n){n=B(n,we);const e=B(n.firestore,Dn),t=si(e),i=new Tm(e);return o(t,n._query,{source:"server"}).then(r=>new hf(e,i,n,r))}(this._delegate):function TF(n){n=B(n,we);const e=B(n.firestore,Dn),t=si(e),i=new Tm(e);return dk(n._query),o(t,n._query).then(r=>new hf(e,i,n,r))}(this._delegate),t.then(i=>new wA(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=xk(e),i=Mk(e,r=>new wA(this.firestore,new hf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Ek(this._delegate,t,i)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}class GF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new k0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new k0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new GF(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new k0(this._firestore,i))})}isEqual(e){return uk(this._delegate,e._delegate)}}class ty extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Na(this.firestore,e):null}doc(e){try{return new Na(this.firestore,void 0===e?Mr(this._delegate):Mr(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function MF(n,e){const t=B(n.firestore,Dn),i=Mr(n),r=iD(n.converter,e);return ey(t,[JI(Cm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Yn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Na(this.firestore,t))}isEqual(e){return qc(this._delegate,e._delegate)}withConverter(e){return new ty(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function Am(n){return B(n,Le)}class EA{constructor(...e){this._delegate=new fd(...e)}static documentId(){return new EA(Wn.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class xm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function NF(){return new hA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xm(e)}static delete(){const e=function PF(){return new D0("deleteField")}();return e._methodName="FieldValue.delete",new xm(e)}static arrayUnion(...e){const t=function FF(...n){return new sF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xm(t)}static arrayRemove(...e){const t=function LF(...n){return new oF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xm(t)}static increment(e){const t=function VF(n){return new aF("increment",n)}(e);return t._methodName="FieldValue.increment",new xm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zF={Firestore:Tk,GeoPoint:QI,Timestamp:Vn,Blob:x0,Transaction:Sk,WriteBatch:Ak,DocumentReference:Na,DocumentSnapshot:M0,Query:Us,QueryDocumentSnapshot:k0,QuerySnapshot:wA,CollectionReference:ty,FieldPath:EA,FieldValue:xm,setLogLevel:function $F(n){!function bE(n){yl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function ZF(n){(function qF(n,e){n.INTERNAL.registerComponent(new gh.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},zF)))})(n,(e,t)=>new Tk(e,t,new jF)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(By.Z);var md=P(6451),sD=P(5363),WF=P(6063);class KF extends vt.x{constructor(e=1/0,t=1/0,i=WF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var kk=P(3099);function CA(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,kk.B)({connector:()=>new KF(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Rk(n,e){return(0,ci.m)(e)?on(()=>n,e):on(()=>n)}var IA=P(9468);P(5867);const Pk=new Map,eL={activated:!1,tokenObservers:[]},tL={initialized:!1,enabled:!1};function kr(n){return Pk.get(n)||eL}function kl(n,e){Pk.set(n,e)}function aD(){return tL}class oL{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Mt.BH,yield function aL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hs=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fk(n){if(!kr(n).activated)throw Hs.create("use-before-activation",{appName:n.name})}function AA(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const L=yield u.getHeartbeatsHeader();L&&(a["X-Firebase-Client"]=L)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,b;try{_=yield fetch(n,f)}catch(L){throw Hs.create("fetch-network-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}if(200!==_.status)throw Hs.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(L){throw Hs.create("fetch-parse-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}const I=b.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const S=1e3*Number(I[1]),O=Date.now();return{token:b.token,expireTimeMillis:O+S,issuedAtTimeMillis:O}}),xA.apply(this,arguments)}function dL(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const R0="firebase-app-check-store";let uD=null;function Vk(){return uD||(uD=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Hs.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(R0,{keyPath:"compositeKey"})}}catch(i){e(Hs.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),uD)}function MA(){return MA=(0,ve.Z)(function*(n,e){const i=(yield Vk()).transaction(R0,"readwrite"),a=i.objectStore(R0).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(Hs.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),MA.apply(this,arguments)}const O0=new dl.Yd("@firebase/app-check");function jk(n,e){return(0,Mt.hl)()?function mL(n,e){return function Bk(n,e){return MA.apply(this,arguments)}(function Hk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{O0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $k(){return aD().enabled}function Gk(){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(){const n=aD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),PA.apply(this,arguments)}const wL={error:"UNKNOWN_ERROR"};function EL(n){return Mt.US.encodeString(JSON.stringify(n),!1)}function dD(n){return NA.apply(this,arguments)}function NA(){return NA=(0,ve.Z)(function*(n,e=!1){const t=n.app;Fk(t);const i=kr(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&hD(_)&&(r=_)}if(!e&&r&&hD(r))return{token:r.token};let f,u=!1;if($k()){i.exchangeTokenPromise||(i.exchangeTokenPromise=AA(dL(t,yield Gk()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield jk(t,_),kl(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?O0.warn(_.message):O0.error(_),a=_}return r?(f={token:r.token},kl(t,Object.assign(Object.assign({},i),{token:r})),yield jk(t,r)):f=IL(a),u&&qk(t,f),f}),NA.apply(this,arguments)}function LA(n,e){const t=kr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),kl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function zk(n){const{app:e}=n,t=kr(e);let i=t.tokenRefresher;i||(i=function CL(n){const{app:e}=n;return new oL((0,ve.Z)(function*(){let i;if(i=kr(e).token?yield dD(n,!0):yield dD(n),i.error)throw i.error}),()=>!0,()=>{const t=kr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),kl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function qk(n,e){const t=kr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function hD(n){return n.expireTimeMillis-Date.now()>0}function IL(n){return{token:EL(wL),error:n}}class DL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=kr(this.app);for(const t of e)LA(this.app,t.next);return Promise.resolve()}}const eR="app-check-internal";!function BL(){(0,_o._registerComponent)(new gh.wA("app-check",n=>function TL(n,e){return new DL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(eR).initialize()})),(0,_o._registerComponent)(new gh.wA(eR,n=>function SL(n){return{getToken:e=>dD(n,e),addTokenListener:e=>function FA(n,e,t,i){const{app:r}=n,a=kr(r),u={next:t,error:i,type:e};if(kl(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&hD(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),zk(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>zk(n))}(n,"INTERNAL",e),removeTokenListener:e=>LA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_o.registerVersion)("@firebase/app-check","0.5.12")}();class pD{constructor(){return(0,qn.vb)("app-check")}}"undefined"!=typeof window&&window;var nR=P(127);const iR=new c.OlP("angularfire2.auth.use-emulator"),rR=new c.OlP("angularfire2.auth.settings"),sR=new c.OlP("angularfire2.auth.tenant-id"),oR=new c.OlP("angularfire2.auth.langugage-code"),aR=new c.OlP("angularfire2.auth.use-device-language"),lR=new c.OlP("angularfire.auth.persistence"),cR=(n,e,t,i,r,a,u,f)=>(0,Tr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,I]of Object.entries(u))_.settings[b]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let uR=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,S,O,L){const U=new vt.x,J=et(void 0).pipe((0,sD.Q)(u.outsideAngular),on(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2274)))),(0,tt.U)(()=>(0,Tr.on)(t,a,i)),(0,tt.U)(pe=>cR(pe,a,f,b,I,S,_,O)),CA({bufferSize:1,refCount:!1}));if(da(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{J.pipe(tl()).subscribe();const We=J.pipe(on(Ue=>Ue.getRedirectResult().then(yt=>yt,()=>null)),qn.iC,CA({bufferSize:1,refCount:!1})),Ye=J.pipe(on(Ue=>new sn.y(yt=>({unsubscribe:a.runOutsideAngular(()=>Ue.onAuthStateChanged(Ct=>yt.next(Ct),Ct=>yt.error(Ct),()=>yt.complete()))})))),Ge=J.pipe(on(Ue=>new sn.y(yt=>({unsubscribe:a.runOutsideAngular(()=>Ue.onIdTokenChanged(Ct=>yt.next(Ct),Ct=>yt.error(Ct),()=>yt.complete()))}))));this.authState=We.pipe(Rk(Ye),(0,IA.R)(u.outsideAngular),(0,sD.Q)(u.insideAngular)),this.user=We.pipe(Rk(Ge),(0,IA.R)(u.outsideAngular),(0,sD.Q)(u.insideAngular)),this.idToken=this.user.pipe(on(Ue=>Ue?(0,dn.D)(Ue.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(on(Ue=>Ue?(0,dn.D)(Ue.getIdTokenResult()):et(null))),this.credential=(0,md.T)(We,U,this.authState.pipe(Ft(Ue=>!Ue))).pipe((0,tt.U)(Ue=>(null==Ue?void 0:Ue.user)?Ue:null),(0,IA.R)(u.outsideAngular),(0,sD.Q)(u.insideAngular))}return(0,Tr.pX)(this,J,a,{spy:{apply:(pe,We,Ye)=>{(pe.startsWith("signIn")||pe.startsWith("createUser"))&&Ye.then(Ge=>U.next(Ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Tr.Dh),c.LFG(Tr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(qn.HU),c.LFG(iR,8),c.LFG(rR,8),c.LFG(sR,8),c.LFG(oR,8),c.LFG(aR,8),c.LFG(lR,8),c.LFG(pD,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function dR(n,e){return function zL(n,e=ul.z){return new sn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function jA(n,e){return dR(n,e).pipe((0,tt.U)(t=>({payload:t,type:"query"})))}function mD(n,e){return jA(n,e).pipe(Pn(void 0),Sg(),(0,tt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function hR(n,e,t){return mD(n,t).pipe(Lr((i,r)=>function ZL(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function WL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return $A(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $A(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $A(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Ag(),(0,tt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function $A(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function fR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class pR{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=mD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Pn(void 0),Sg(),Ft(([i,r])=>r.length>0||!i),(0,tt.U)(([i,r])=>r),qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=fR(e);return hR(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return jA(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),qn.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(qn.iC)}add(e){return this.ref.add(e)}doc(e){return new mR(this.ref.doc(e),this.afs)}}class mR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=yR(i,t);return new pR(r,a,this.afs)}snapshotChanges(){return function qL(n,e){return dR(n,e).pipe(Pn(void 0),Sg(),(0,tt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(qn.iC)}}class KL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mD(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ft(t=>t.length>0),qn.iC):mD(this.query,this.afs.schedulers.outsideAngular).pipe(qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=fR(e);return hR(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return jA(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),qn.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(qn.iC)}}const gR=new c.OlP("angularfire2.enableFirestorePersistence"),_R=new c.OlP("angularfire2.firestore.persistenceSettings"),YL=new c.OlP("angularfire2.firestore.settings"),QL=new c.OlP("angularfire2.firestore.use-emulator");function yR(n,e=(t=>t)){return{query:e(n),ref:n}}let gD=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,S,O,L,U,J,pe,We,Ye){this.schedulers=_;const Ge=(0,Tr.on)(t,f,i),Ue=I;S&&cR(Ge,f,O,U,J,pe,L,We),[this.firestore,this.persistenceEnabled$]=(0,Tr.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const yt=f.runOutsideAngular(()=>Ge.firestore());if(a&&yt.settings(a),Ue&&yt.useEmulator(...Ue),r&&!da(u)){const Ct=()=>{try{return(0,dn.D)(yt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(zt){return"undefined"!=typeof console&&console.warn(zt),et(!1)}};return[yt,f.runOutsideAngular(Ct)]}return[yt,et(!1)]},[a,Ue,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=yR(r,i),f=this.schedulers.ngZone.run(()=>a);return new pR(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new KL(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new mR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Tr.Dh),c.LFG(Tr.xv,8),c.LFG(gR,8),c.LFG(YL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(qn.HU),c.LFG(_R,8),c.LFG(QL,8),c.LFG(uR,8),c.LFG(iR,8),c.LFG(rR,8),c.LFG(sR,8),c.LFG(oR,8),c.LFG(aR,8),c.LFG(lR,8),c.LFG(pD,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XL=(()=>{class n{constructor(){nR.Z.registerVersion("angularfire",qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gR,useValue:!0},{provide:_R,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gD]}),n})();class vR{}const gd="*";function _D(n,e){return{type:7,name:n,definitions:e,options:{}}}function P0(n,e=null){return{type:4,styles:e,timings:n}}function bR(n,e=null){return{type:2,steps:n,options:e}}function Wc(n){return{type:6,styles:n,offset:null}}function ny(n,e,t){return{type:0,name:n,styles:e,options:t}}function iy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function eV(n=null){return{type:9,options:n}}function tV(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function wR(n){Promise.resolve(null).then(n)}class N0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ER{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?wR(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Xt=!1;function CR(n){return new c.vHH(3e3,Xt)}function NV(){return"undefined"!=typeof window&&void 0!==window.document}function zA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function mf(n){switch(n.length){case 0:return new N0;case 1:return n[0];default:return new ER(n)}}function IR(n,e,t,i,r={},a={}){const u=[],f=[];let _=-1,b=null;if(i.forEach(I=>{const S=I.offset,O=S==_,L=O&&b||{};Object.keys(I).forEach(U=>{let J=U,pe=I[U];if("offset"!==U)switch(J=e.normalizePropertyName(J,u),pe){case"!":pe=r[U];break;case gd:pe=a[U];break;default:pe=e.normalizeStyleValue(U,J,pe,u)}L[J]=pe}),O||f.push(L),b=L,_=S}),u.length)throw function IV(n){return new c.vHH(3502,Xt)}();return f}function qA(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&ZA(t,"start",n)));break;case"done":n.onDone(()=>i(t&&ZA(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&ZA(t,"destroy",n)))}}function ZA(n,e,t){const i=t.totalTime,a=WA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function WA(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function ea(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function DR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let KA=(n,e)=>!1,TR=(n,e,t)=>[],SR=null;function YA(n){const e=n.parentNode||n.host;return e===SR?null:e}(zA()||"undefined"!=typeof Element)&&(NV()?(SR=(()=>document.documentElement)(),KA=(n,e)=>{for(;e;){if(e===n)return!0;e=YA(e)}return!1}):KA=(n,e)=>n.contains(e),TR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Mm=null,AR=!1;function xR(n){Mm||(Mm=function LV(){return"undefined"!=typeof document?document.body:null}()||{},AR=!!Mm.style&&"WebkitAppearance"in Mm.style);let e=!0;return Mm.style&&!function FV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Mm.style,!e&&AR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Mm.style)),e}const MR=KA,kR=TR;let RR=(()=>{class n{validateStyleProperty(t){return xR(t)}matchesElement(t,i){return!1}containsElement(t,i){return MR(t,i)}getParentElement(t){return YA(t)}query(t,i,r){return kR(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new N0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),QA=(()=>{class n{}return n.NOOP=new RR,n})();const XA="ng-enter",vD="ng-leave",bD="ng-trigger",wD=".ng-trigger",PR="ng-animating",JA=".ng-animating";function km(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ex(parseFloat(e[1]),e[2])}function ex(n,e){return"s"===e?1e3*n:n}function ED(n,e,t){return n.hasOwnProperty("duration")?n:function UV(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(CR()),{duration:0,delay:0,easing:""};r=ex(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=ex(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function nV(){return new c.vHH(3100,Xt)}()),f=!0),a<0&&(e.push(function iV(){return new c.vHH(3101,Xt)}()),f=!0),f&&e.splice(_,0,CR())}return{duration:r,delay:a,easing:u}}(n,e,t)}function ry(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function gf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else ry(n,t);return t}function FR(n,e,t){return t?e+":"+t+";":""}function LR(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=FR(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=FR(0,$V(t),n.style[t]));n.setAttribute("style",e)}function Kc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=nx(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),zA()&&LR(n))}function Rm(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=nx(t);n.style[i]=""}),zA()&&LR(n))}function F0(n){return Array.isArray(n)?1==n.length?n[0]:bR(n):n}const tx=new RegExp("{{\\s*(.+?)\\s*}}","g");function VR(n){let e=[];if("string"==typeof n){let t;for(;t=tx.exec(n);)e.push(t[1]);tx.lastIndex=0}return e}function CD(n,e,t){const i=n.toString(),r=i.replace(tx,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function sV(n){return new c.vHH(3003,Xt)}()),f=""),f.toString()});return r==i?n:r}function ID(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const jV=/-+([a-z0-9])/g;function nx(n){return n.replace(jV,(...e)=>e[1].toUpperCase())}function $V(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ta(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function oV(n){return new c.vHH(3004,Xt)}()}}function BR(n,e){return window.getComputedStyle(n)[e]}function KV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function YV(n,e,t){if(":"==n[0]){const _=function QV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function bV(n){return new c.vHH(3016,Xt)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function vV(n){return new c.vHH(3015,Xt)}()),e;const r=i[1],a=i[2],u=i[3];e.push(UR(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(UR(u,r))}(i,t,e)):t.push(n),t}const AD=new Set(["true","1"]),xD=new Set(["false","0"]);function UR(n,e){const t=AD.has(n)||xD.has(n),i=AD.has(e)||xD.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?AD.has(n):xD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?AD.has(e):xD.has(e)),u&&f}}const XV=new RegExp("s*:selfs*,?","g");function ix(n,e,t,i){return new JV(n).build(e,t,i)}class JV{constructor(e){this._driver=e}build(e,t,i){const r=new nB(t);this._resetContextStyleTimingState(r);const a=ta(this,F0(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function lV(){return new c.vHH(3006,Xt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function cV(){return new c.vHH(3007,Xt)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{if(MD(f)){const _=f;Object.keys(_).forEach(b=>{VR(_[b]).forEach(I=>{u.hasOwnProperty(I)||a.add(I)})})}}),a.size&&(ID(a.values()),t.errors.push(function uV(n,e){return new c.vHH(3008,Xt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ta(this,F0(e.animation),t);return{type:1,matchers:KV(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Om(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ta(this,i,t)),options:Om(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=ta(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Om(e.options)}}visitAnimate(e,t){const i=function rB(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return rx(ED(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=rx(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=ED(t,e);return rx(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Wc({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=Wc(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==gd?i.push(u):t.errors.push(function dV(n){return new c.vHH(3002,Xt)}()):i.push(u)}):i.push(e.styles);let r=!1,a=null;return i.forEach(u=>{if(MD(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],b=_[f];let I=!0;b&&(a!=r&&a>=b.startTime&&r<=b.endTime&&(t.errors.push(function hV(n,e,t,i,r){return new c.vHH(3010,Xt)}()),I=!1),a=b.startTime),I&&(_[f]={startTime:a,endTime:r}),t.options&&function HV(n,e,t){const i=e.params||{},r=VR(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function rV(n){return new c.vHH(3001,Xt)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function fV(){return new c.vHH(3011,Xt)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const I=e.steps.map(We=>{const Ye=this._makeStyleAst(We,t);let Ge=null!=Ye.offset?Ye.offset:function iB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(MD(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(MD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Ye.styles),Ue=0;return null!=Ge&&(a++,Ue=Ye.offset=Ge),_=_||Ue<0||Ue>1,f=f||Ue<b,b=Ue,u.push(Ue),Ye});_&&t.errors.push(function pV(){return new c.vHH(3012,Xt)}()),f&&t.errors.push(function mV(){return new c.vHH(3200,Xt)}());const S=e.steps.length;let O=0;a>0&&a<S?t.errors.push(function gV(){return new c.vHH(3202,Xt)}()):0==a&&(O=1/(S-1));const L=S-1,U=t.currentTime,J=t.currentAnimateTimings,pe=J.duration;return I.forEach((We,Ye)=>{const Ge=O>0?Ye==L?1:O*Ye:u[Ye],Ue=Ge*pe;t.currentTime=U+J.delay+Ue,J.duration=Ue,this._validateStyleAst(We,t),We.offset=Ge,i.styles.push(We)}),i}visitReference(e,t){return{type:8,animation:ta(this,F0(e.animation),t),options:Om(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Om(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Om(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function eB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(XV,"")),n=n.replace(/@\*/g,wD).replace(/@\w+/g,t=>wD+"-"+t.substr(1)).replace(/:animating/g,JA),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,ea(t.collectedStyles,t.currentQuerySelector,{});const f=ta(this,F0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Om(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _V(){return new c.vHH(3013,Xt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ED(e.timings,t.errors,!0);return{type:12,animation:ta(this,F0(e.animation),t),timings:i,options:null}}}class nB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function MD(n){return!Array.isArray(n)&&"object"==typeof n}function Om(n){return n?(n=ry(n)).params&&(n.params=function tB(n){return n?ry(n):null}(n.params)):n={},n}function rx(n,e,t){return{duration:n,delay:e,easing:t}}function sx(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class kD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const aB=new RegExp(":enter","g"),cB=new RegExp(":leave","g");function ox(n,e,t,i,r,a={},u={},f,_,b=[]){return(new uB).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class uB{buildKeyframes(e,t,i,r,a,u,f,_,b,I=[]){b=b||new kD;const S=new ax(e,t,b,r,a,I,[]);S.options=_,S.currentTimeline.setStyles([u],null,S.errors,_),ta(this,i,S);const O=S.timelines.filter(L=>L.containsAnimation());if(Object.keys(f).length){let L;for(let U=O.length-1;U>=0;U--){const J=O[U];if(J.element===t){L=J;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([f],null,S.errors,_)}return O.length?O.map(L=>L.buildKeyframes()):[sx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?km(i.duration):null,f=null!=i.delay?km(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ta(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=RD);const u=km(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>ta(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?km(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ta(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return ED(t.params?CD(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?km(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=RD);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,I)=>{t.currentQueryIndex=I;const S=t.createSubContext(e.options,b);a&&S.delayNextStep(a),b===t.element&&(_=S.currentTimeline),ta(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const S=I.currentTime;ta(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const RD={};class ax{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new OD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=km(i.duration)),null!=i.delay&&(r.delay=km(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=CD(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new ax(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=RD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new dB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(aB,"."+this._enterClassName)).replace(cB,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function yV(n){return new c.vHH(3014,Xt)}()),f}}class OD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new OD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||gd,this._currentKeyframe[t]=gd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},u=function hB(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=gd})):gf(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=CD(u[f],a,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:gd),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=gf(f,!0);Object.keys(b).forEach(I=>{const S=b[I];"!"==S?e.add(I):S==gd&&t.add(I)}),i||(b.offset=_/this.duration),r.push(b)});const a=e.size?ID(e.values()):[],u=t.size?ID(t.values()):[];if(i){const f=r[0],_=ry(f);f.offset=0,_.offset=1,r=[f,_]}return sx(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class dB extends OD{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=gf(e[0],!1);_.offset=0,a.push(_);const b=gf(e[0],!1);b.offset=$R(f),a.push(b);const I=e.length-1;for(let S=1;S<=I;S++){let O=gf(e[S],!1);O.offset=$R((t+O.offset*i)/u),a.push(O)}i=u,t=0,r="",e=a}return sx(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function $R(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class lx{}class fB extends lx{normalizePropertyName(e,t){return nx(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(pB[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function aV(n,e){return new c.vHH(3005,Xt)}())}return u+a}}const pB=(()=>function mB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GR(n,e,t,i,r,a,u,f,_,b,I,S,O){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:I,totalTime:S,errors:O}}const cx={};class zR{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function gB(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):u}build(e,t,i,r,a,u,f,_,b,I){const S=[],O=this.ast.options&&this.ast.options.params||cx,U=this.buildStyles(i,f&&f.params||cx,S),J=_&&_.params||cx,pe=this.buildStyles(r,J,S),We=new Set,Ye=new Map,Ge=new Map,Ue="void"===r,yt={params:Object.assign(Object.assign({},O),J)},Ct=I?[]:ox(e,t,this.ast.animation,a,u,U,pe,yt,b,S);let zt=0;if(Ct.forEach(ia=>{zt=Math.max(ia.duration+ia.delay,zt)}),S.length)return GR(t,this._triggerName,i,r,Ue,U,pe,[],[],Ye,Ge,zt,S);Ct.forEach(ia=>{const bd=ia.element,UN=ea(Ye,bd,{});ia.preStyleProps.forEach(Hm=>UN[Hm]=!0);const cw=ea(Ge,bd,{});ia.postStyleProps.forEach(Hm=>cw[Hm]=!0),bd!==t&&We.add(bd)});const Fi=ID(We.values());return GR(t,this._triggerName,i,r,Ue,U,pe,Ct,Fi,Ye,Ge,zt)}}class _B{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=ry(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=CD(_,r,t));const b=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,b,_,t),i[b]=_})}}),i}}class vB{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new _B(r.style,r.options&&r.options.params||{},i)}),qR(this.states,"true","1"),qR(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new zR(e,r,this.states))}),this.fallbackTransition=function bB(n,e,t){return new zR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function qR(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const wB=new kD;class EB{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=ix(this._driver,t,i,[]);if(i.length)throw function DV(n){return new c.vHH(3503,Xt)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=IR(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let u;const f=new Map;if(a?(u=ox(this._driver,t,a,XA,vD,{},{},i,wB,r),u.forEach(I=>{const S=ea(f,I.element,{});I.postStyleProps.forEach(O=>S[O]=null)})):(r.push(function TV(){return new c.vHH(3300,Xt)}()),u=[]),r.length)throw function SV(n){return new c.vHH(3504,Xt)}();f.forEach((I,S)=>{Object.keys(I).forEach(O=>{I[O]=this._driver.computeStyle(S,O,gd)})});const b=mf(u.map(I=>{const S=f.get(I.element);return this._buildPlayer(I,{},S)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function AV(n){return new c.vHH(3301,Xt)}();return t}listen(e,t,i,r){const a=WA(t,"","","");return qA(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const ZR="ng-animate-queued",ux="ng-animate-disabled",SB=[],WR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},AB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class dx{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function RB(n){return null!=n?n:null}(i?e.value:e),i){const a=ry(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const L0="void",hx=new dx(L0);class xB{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,La(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function xV(n,e){return new c.vHH(3302,Xt)}();if(null==i||0==i.length)throw function MV(n){return new c.vHH(3303,Xt)}();if(!function OB(n){return"start"==n||"done"==n}(i))throw function kV(n,e){return new c.vHH(3400,Xt)}();const a=ea(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=ea(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(La(e,bD),La(e,bD+"-"+t),f[t]=hx),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function RV(n){return new c.vHH(3401,Xt)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new fx(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(La(e,bD),La(e,bD+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const b=new dx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[t]=b,_||(_=hx),b.value!==L0&&_.value===b.value){if(!function FB(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const J=[],pe=a.matchStyles(_.value,_.params,J),We=a.matchStyles(b.value,b.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{Rm(e,pe),Kc(e,We)})}return}const O=ea(this._engine.playersByElement,e,[]);O.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let L=a.matchTransition(_.value,b.value,e,b.params),U=!1;if(!L){if(!r)return;L=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(La(e,ZR),u.onStart(()=>{sy(e,ZR)})),u.onDone(()=>{let J=this.players.indexOf(u);J>=0&&this.players.splice(J,1);const pe=this._engine.playersByElement.get(e);if(pe){let We=pe.indexOf(u);We>=0&&pe.splice(We,1)}}),this.players.push(u),O.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,wD,!0);i.forEach(r=>{if(r[Fa])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(e,_,L0,r);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&mf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||hx,I=new dx(L0),S=new fx(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:I,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Fa];(!a||a===WR)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){La(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=WA(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,qA(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class MB{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new xB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,t)){i.splice(f+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(PD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!PD(t))return;const a=t[Fa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),La(e,ux)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sy(e,ux))}removeNode(e,t,i,r){if(PD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Fa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return PD(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,wD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JA,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return mf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Fa];if(i&&i.setForRemoval){if(e[Fa]=WR,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(ux))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)La(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?mf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function OV(n){return new c.vHH(3402,Xt)}()}_flushAnimations(e,t){const i=new kD,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,I=new Set;this.disabledNodes.forEach(dt=>{I.add(dt);const Tt=this.driver.query(dt,".ng-animate-queued",!0);for(let Ot=0;Ot<Tt.length;Ot++)I.add(Tt[Ot])});const S=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=QR(O,this.collectedEnterElements),U=new Map;let J=0;L.forEach((dt,Tt)=>{const Ot=XA+J++;U.set(Tt,Ot),dt.forEach(an=>La(an,Ot))});const pe=[],We=new Set,Ye=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Tt=this.collectedLeaveElements[dt],Ot=Tt[Fa];Ot&&Ot.setForRemoval&&(pe.push(Tt),We.add(Tt),Ot.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(an=>We.add(an)):Ye.add(Tt))}const Ge=new Map,Ue=QR(O,Array.from(We));Ue.forEach((dt,Tt)=>{const Ot=vD+J++;Ge.set(Tt,Ot),dt.forEach(an=>La(an,Ot))}),e.push(()=>{L.forEach((dt,Tt)=>{const Ot=U.get(Tt);dt.forEach(an=>sy(an,Ot))}),Ue.forEach((dt,Tt)=>{const Ot=Ge.get(Tt);dt.forEach(an=>sy(an,Ot))}),pe.forEach(dt=>{this.processLeaveNode(dt)})});const yt=[],Ct=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Ot=>{const an=Ot.player,Rr=Ot.element;if(yt.push(an),this.collectedEnterElements.length){const zs=Rr[Fa];if(zs&&zs.setForMove){if(zs.previousTriggersValues&&zs.previousTriggersValues.has(Ot.triggerName)){const jm=zs.previousTriggersValues.get(Ot.triggerName),Sf=this.statesByElement.get(Ot.element);Sf&&Sf[Ot.triggerName]&&(Sf[Ot.triggerName].value=jm)}return void an.destroy()}}const eu=!S||!this.driver.containsElement(S,Rr),ra=Ge.get(Rr),Tf=U.get(Rr),pi=this._buildInstruction(Ot,i,Tf,ra,eu);if(pi.errors&&pi.errors.length)return void Ct.push(pi);if(eu)return an.onStart(()=>Rm(Rr,pi.fromStyles)),an.onDestroy(()=>Kc(Rr,pi.toStyles)),void r.push(an);if(Ot.isFallbackTransition)return an.onStart(()=>Rm(Rr,pi.fromStyles)),an.onDestroy(()=>Kc(Rr,pi.toStyles)),void r.push(an);const $N=[];pi.timelines.forEach(zs=>{zs.stretchStartingKeyframe=!0,this.disabledNodes.has(zs.element)||$N.push(zs)}),pi.timelines=$N,i.append(Rr,pi.timelines),u.push({instruction:pi,player:an,element:Rr}),pi.queriedElements.forEach(zs=>ea(f,zs,[]).push(an)),pi.preStyleProps.forEach((zs,jm)=>{const Sf=Object.keys(zs);if(Sf.length){let $m=_.get(jm);$m||_.set(jm,$m=new Set),Sf.forEach(TM=>$m.add(TM))}}),pi.postStyleProps.forEach((zs,jm)=>{const Sf=Object.keys(zs);let $m=b.get(jm);$m||b.set(jm,$m=new Set),Sf.forEach(TM=>$m.add(TM))})});if(Ct.length){const dt=[];Ct.forEach(Tt=>{dt.push(function PV(n,e){return new c.vHH(3505,Xt)}())}),yt.forEach(Tt=>Tt.destroy()),this.reportError(dt)}const zt=new Map,Fi=new Map;u.forEach(dt=>{const Tt=dt.element;i.has(Tt)&&(Fi.set(Tt,Tt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,zt))}),r.forEach(dt=>{const Tt=dt.element;this._getPreviousPlayers(Tt,!1,dt.namespaceId,dt.triggerName,null).forEach(an=>{ea(zt,Tt,[]).push(an),an.destroy()})});const ia=pe.filter(dt=>JR(dt,_,b)),bd=new Map;YR(bd,this.driver,Ye,b,gd).forEach(dt=>{JR(dt,_,b)&&ia.push(dt)});const cw=new Map;L.forEach((dt,Tt)=>{YR(cw,this.driver,new Set(dt),_,"!")}),ia.forEach(dt=>{const Tt=bd.get(dt),Ot=cw.get(dt);bd.set(dt,Object.assign(Object.assign({},Tt),Ot))});const Hm=[],HN=[],jN={};u.forEach(dt=>{const{element:Tt,player:Ot,instruction:an}=dt;if(i.has(Tt)){if(I.has(Tt))return Ot.onDestroy(()=>Kc(Tt,an.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(an.totalTime),void r.push(Ot);let Rr=jN;if(Fi.size>1){let ra=Tt;const Tf=[];for(;ra=ra.parentNode;){const pi=Fi.get(ra);if(pi){Rr=pi;break}Tf.push(ra)}Tf.forEach(pi=>Fi.set(pi,Rr))}const eu=this._buildAnimation(Ot.namespaceId,an,zt,a,cw,bd);if(Ot.setRealPlayer(eu),Rr===jN)Hm.push(Ot);else{const ra=this.playersByElement.get(Rr);ra&&ra.length&&(Ot.parentPlayer=mf(ra)),r.push(Ot)}}else Rm(Tt,an.fromStyles),Ot.onDestroy(()=>Kc(Tt,an.toStyles)),HN.push(Ot),I.has(Tt)&&r.push(Ot)}),HN.forEach(dt=>{const Tt=a.get(dt.element);if(Tt&&Tt.length){const Ot=mf(Tt);dt.setRealPlayer(Ot)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<pe.length;dt++){const Tt=pe[dt],Ot=Tt[Fa];if(sy(Tt,vD),Ot&&Ot.hasAnimation)continue;let an=[];if(f.size){let eu=f.get(Tt);eu&&eu.length&&an.push(...eu);let ra=this.driver.query(Tt,JA,!0);for(let Tf=0;Tf<ra.length;Tf++){let pi=f.get(ra[Tf]);pi&&pi.length&&an.push(...pi)}}const Rr=an.filter(eu=>!eu.destroyed);Rr.length?PB(this,Tt,Rr):this.processLeaveNode(Tt)}return pe.length=0,Hm.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Tt=this.players.indexOf(dt);this.players.splice(Tt,1)}),dt.play()}),Hm}elementContainsData(e,t){let i=!1;const r=t[Fa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==L0;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,I=b!==a,S=ea(i,b,[]);this._getPreviousPlayers(b,I,u,f,t.toState).forEach(L=>{const U=L.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),L.destroy(),S.push(L)})}Rm(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],I=new Set,S=new Set,O=t.timelines.map(U=>{const J=U.element;I.add(J);const pe=J[Fa];if(pe&&pe.removedBeforeQueried)return new N0(U.duration,U.delay);const We=J!==_,Ye=function NB(n){const e=[];return XR(n,e),e}((i.get(J)||SB).map(zt=>zt.getRealPlayer())).filter(zt=>!!zt.element&&zt.element===J),Ge=a.get(J),Ue=u.get(J),yt=IR(0,this._normalizer,0,U.keyframes,Ge,Ue),Ct=this._buildPlayer(U,yt,Ye);if(U.subTimeline&&r&&S.add(J),We){const zt=new fx(e,f,J);zt.setRealPlayer(Ct),b.push(zt)}return Ct});b.forEach(U=>{ea(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function kB(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,U.element,U))}),I.forEach(U=>La(U,PR));const L=mf(O);return L.onDestroy(()=>{I.forEach(U=>sy(U,PR)),Kc(_,t.toStyles)}),S.forEach(U=>{ea(r,U,[]).push(L)}),L}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new N0(e.duration,e.delay)}}class fx{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new N0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>qA(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ea(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function PD(n){return n&&1===n.nodeType}function KR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function YR(n,e,t,i,r){const a=[];t.forEach(_=>a.push(KR(_)));const u=[];i.forEach((_,b)=>{const I={};_.forEach(S=>{const O=I[S]=e.computeStyle(b,S,r);(!O||0==O.length)&&(b[Fa]=AB,u.push(b))}),n.set(b,I)});let f=0;return t.forEach(_=>KR(_,a[f++])),u}function QR(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function La(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function sy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function PB(n,e,t){mf(t).onDone(()=>n.processLeaveNode(e))}function XR(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ER?XR(i.players,e):e.push(i)}}function JR(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class ND{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new MB(e,t,i),this._timelineEngine=new EB(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=ix(this._driver,a,_,[]);if(_.length)throw function CV(n,e){return new c.vHH(3404,Xt)}();f=function yB(n,e,t){return new vB(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=DR(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=DR(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let VB=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kc(this._element,this._initialStyles),this._endStyles&&(Kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rm(this._element,this._endStyles),this._endStyles=null),Kc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function px(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];BB(r)&&(e=e||{},e[r]=n[r])}return e}function BB(n){return"display"===n||"position"===n}class eO{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:BR(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class UB{validateStyleProperty(e){return xR(e)}matchesElement(e,t){return!1}containsElement(e,t){return MR(e,t)}getParentElement(e){return YA(e)}query(e,t,i){return kR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b={},I=u.filter(O=>O instanceof eO);(function GV(n,e){return 0===n||0===e})(i,r)&&I.forEach(O=>{let L=O.currentSnapshot;Object.keys(L).forEach(U=>b[U]=L[U])}),t=function zV(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var r=1;r<e.length;r++){let f=e[r];u.forEach(function(_){f[_]=BR(n,_)})}}return e}(e,t=t.map(O=>gf(O,!1)),b);const S=function LB(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=px(e[0]),e.length>1&&(i=px(e[e.length-1]))):e&&(t=px(e)),t||i?new VB(n,t,i):null}(e,t);return new eO(e,t,_,S)}}let HB=(()=>{class n extends vR{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?bR(t):t;return tO(this._renderer,null,i,"register",[r]),new jB(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class jB extends class JL{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new $B(this._id,e,t||{},this._renderer)}}class $B{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tO(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const nO="@.disabled";let GB=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new iO("",a,this.engine),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new zB(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ND),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class iO{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==nO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class zB extends iO{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nO?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function qB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function ZB(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let WB=(()=>{class n extends ND{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(QA),c.LFG(lx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _f=new c.OlP("AnimationModuleType"),rO=[{provide:vR,useClass:HB},{provide:lx,useFactory:function KB(){return new fB}},{provide:ND,useClass:WB},{provide:c.FYo,useFactory:function YB(n,e,t){return new GB(n,e,t)},deps:[Mo,ND,c.R0b]}],sO=[{provide:QA,useFactory:()=>new UB},{provide:_f,useValue:"BrowserAnimations"},...rO],QB=[{provide:QA,useClass:RR},{provide:_f,useValue:"NoopAnimations"},...rO];let XB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?QB:sO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:sO,imports:[ma]}),n})();const JB=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function e2(){return(0,c.f3M)(ie)}}),t2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mx,oy=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function n2(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?t2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(JB,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{mx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){mx=!1}let ay,ws=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ai(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lO(){if(ay)return ay;if("object"!=typeof document||!document)return ay=new Set(aO),ay;let n=document.createElement("input");return ay=new Set(aO.filter(e=>(n.setAttribute("type",e),n.type===e))),ay}let B0,VD,Pm,gx;function LD(n){return function r2(){if(null==B0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>B0=!0}))}finally{B0=B0||!1}return B0}()?n:!!n.capture}function cO(){if(null==Pm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Pm=!1,Pm;if("scrollBehavior"in document.documentElement.style)Pm=!0;else{const n=Element.prototype.scrollTo;Pm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Pm}function U0(){if("object"!=typeof document||!document)return 0;if(null==VD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),VD=0,0===n.scrollLeft&&(n.scrollLeft=1,VD=0===n.scrollLeft?1:2),n.remove()}return VD}function Nm(n){return n.composedPath?n.composedPath()[0]:n.target}function _x(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function yf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function H0(n,e=ul.z){return(0,vn.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,I=e.now();if(I<b)return r=this.schedule(void 0,b-I),void i.add(r);f()}t.subscribe((0,Sn.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function fO(n){return Ft((e,t)=>n<=t)}var vx=P(5032);function wn(n){return(0,vn.e)((e,t)=>{(0,Os.Xf)(n).subscribe((0,Sn.x)(t,()=>t.complete(),vx.Z)),!t.closed&&e.subscribe(t)})}function Tn(n){return null!=n&&"false"!=`${n}`}function j0(n,e=0){return function y2(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function $D(n){return Array.isArray(n)?n:[n]}function Ji(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _d(n){return n instanceof c.SBq?n.nativeElement:n}class w2 extends class gO{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new vt.x,this._typeaheadSubscription=yi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new vt.x,this.change=new vt.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,vi.b)(t=>this._pressedLetters.push(t)),H0(e),Ft(()=>this._pressedLetters.length>0),(0,tt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||yf(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let _O=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function I2(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function C2(n){try{return n.frameElement}catch(e){return null}}(function R2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===vO(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=vO(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function M2(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function k2(n){return!function T2(n){return function A2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function D2(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function S2(n){return function x2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||yO(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ws))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function vO(n){if(!yO(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class O2{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(gn(1)).subscribe(e)}}let P2=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new O2(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_O),c.LFG(c.R0b),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function wO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const N2=new c.OlP("cdk-input-modality-detector-options"),F2={ignoreKeys:[18,17,224,91,16]},ly=LD({passive:!0,capture:!0});let L2=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new wr(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Nm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bO(u)?"keyboard":"mouse"),this._mostRecentTarget=Nm(u))},this._onTouchstart=u=>{wO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nm(u))},this._options=Object.assign(Object.assign({},F2),a),this.modalityDetected=this._modality.pipe(fO(1)),this.modalityChanged=this.modalityDetected.pipe(Ag()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ly),r.addEventListener("mousedown",this._onMousedown,ly),r.addEventListener("touchstart",this._onTouchstart,ly)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ly),document.removeEventListener("mousedown",this._onMousedown,ly),document.removeEventListener("touchstart",this._onTouchstart,ly))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ws),c.LFG(c.R0b),c.LFG(ie),c.LFG(N2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V2=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function B2(){return null}}),U2=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let H2=(()=>{class n{constructor(t,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(V2,8),c.LFG(c.R0b),c.LFG(ie),c.LFG(U2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j2=new c.OlP("cdk-focus-monitor-default-options"),GD=LD({passive:!0,capture:!0});let bx=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new vt.x,this._rootNodeFocusAndBlurListener=f=>{const _=Nm(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)b.call(this,f,I)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=_d(t);if(!this._platform.isBrowser||1!==r.nodeType)return et(null);const a=function o2(n){if(function s2(){if(null==gx){const n="undefined"!=typeof document?document.head:null;gx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gx}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new vt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=_d(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=_d(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=Nm(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,GD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,GD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,GD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,GD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ws),c.LFG(L2),c.LFG(ie,8),c.LFG(j2,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CO="cdk-high-contrast-black-on-white",IO="cdk-high-contrast-white-on-black",wx="cdk-high-contrast-active";let $2=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(wx),t.remove(CO),t.remove(IO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(wx),t.add(CO)):2===i&&(t.add(wx),t.add(IO))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ws),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G2(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function z2(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const q2=["*"],W2=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function Z2(){return!0}});let Qn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!_x()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($2),c.LFG(W2,8),c.LFG(ie))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[V0],V0]}),n})();function Ex(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Tn(e)}}}function zD(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function cy(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Tn(e)}}}function K2(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?j0(t):this.defaultTabIndex}}}function TO(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new vt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Cx=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function $0(n,e,t){n.nativeElement.classList.toggle(e,t)}let xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn],Qn]}),n})();class Q2{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const MO={enterDuration:225,exitDuration:150},Ix=LD({passive:!0}),kO=["mousedown","touchstart"],RO=["mouseup","mouseleave","touchend","touchcancel"];class J2{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_d(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},MO),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function tU(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(I),function eU(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const S=new Q2(this,I,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const O=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!O||!this._isPointerDown)&&S.fadeOut()},b),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},MO),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_d(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(kO))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(RO),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=bO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!wO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Ix)})})}_removeTriggerEvents(){this._triggerElement&&(kO.forEach(e=>{this._triggerElement.removeEventListener(e,this,Ix)}),this._pointerUpEventsRegistered&&RO.forEach(e=>{this._triggerElement.removeEventListener(e,this,Ix)}))}}const nU=new c.OlP("mat-ripple-global-options");let G0=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new J2(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ws),c.Y36(nU,8),c.Y36(_f,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn],Qn]}),n})(),OO=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_f,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn]]}),n})();const PO=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),NO=new c.OlP("MatOptgroup");let iU=0;class rU{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let sU=(()=>{class n{constructor(t,i,r,a){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+iU++,this.onSelectionChange=new c.vpe,this._stateChanges=new vt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Tn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!yf(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new rU(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Sx=(()=>{class n extends sU{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(PO,8),c.Y36(NO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&t&&(c.Ikx("id",i.id),c.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),c.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:q2,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,G2,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,z2,2,1,"span",2),c._UZ(4,"div",3)),2&t&&(c.Q6J("ngIf",i.multiple),c.xp6(3),c.Q6J("ngIf",i.group&&i.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[OO,En,G0],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function FO(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}let LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Dx,To,Qn,Tx]]}),n})();const aU=["*",[["mat-card-footer"]]],lU=["*","mat-card-footer"],cU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],uU=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),VO=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),Rx=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_f,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:lU,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(aU),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),Ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:uU,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,i){1&t&&(c.F$t(cU),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),dU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn],Qn]}),n})(),BO=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=_d(t);return new sn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new vt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(BO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fU=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Tn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=j0(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(H0(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hU),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),pU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BO]}),n})();var mU=P(1144);const gU=["addListener","removeListener"],_U=["addEventListener","removeEventListener"],yU=["on","off"];function vf(n,e,t,i){if((0,ci.m)(t)&&(i=t,t=void 0),i)return vf(n,e,t).pipe(Kl(i));const[r,a]=function wU(n){return(0,ci.m)(n.addEventListener)&&(0,ci.m)(n.removeEventListener)}(n)?_U.map(u=>f=>n[u](e,f,t)):function vU(n){return(0,ci.m)(n.addListener)&&(0,ci.m)(n.removeListener)}(n)?gU.map(UO(n,e)):function bU(n){return(0,ci.m)(n.on)&&(0,ci.m)(n.off)}(n)?yU.map(UO(n,e)):[];if(!r&&(0,mU.z)(n))return(0,$n.z)(u=>vf(u,e,t))((0,Os.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new sn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function UO(n,e){return t=>i=>n[t](e,i)}const EU=["connectionContainer"],CU=["inputContainer"],IU=["label"];function DU(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function TU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function SU(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function AU(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function xU(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function MU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,SU,4,1,"ng-container",12),c.YNc(3,AU,1,0,"ng-content",12),c.YNc(4,xU,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function kU(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function RU(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function OU(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function PU(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function NU(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,PU,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const FU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],LU=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],VU=new c.OlP("MatError"),BU={transitionMessages:_D("transitionMessages",[ny("enter",Wc({opacity:1,transform:"translateY(0%)"})),iy("void => enter",[Wc({opacity:0,transform:"translateY(-5px)"}),P0("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const UU=new c.OlP("MatHint");let ZD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),HU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const jU=new c.OlP("MatPrefix"),$U=new c.OlP("MatSuffix");let HO=0;const zU=zD(class{constructor(n){this._elementRef=n}},"primary"),qU=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Px=new c.OlP("MatFormField");let $O=(()=>{class n extends zU{constructor(t,i,r,a,u,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new vt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+HO++,this._labelId="mat-form-field-label-"+HO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Tn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Pn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(wn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(wn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,md.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Pn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Pn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(wn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,vf(this._label.nativeElement,"transitionend").pipe(gn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=i.querySelectorAll(`${r}, ${a}`);for(let S=0;S<I.length;S++)I[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=i.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(I),O=t.children,L=this._getStartEnd(O[0].getBoundingClientRect());let U=0;for(let J=0;J<O.length;J++)U+=O[J].offsetWidth;u=Math.abs(L-S)-5,f=U>0?.75*U+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${u}px`;for(let I=0;I<b.length;I++)b[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(oy,8),c.Y36(qU,8),c.Y36(ws),c.Y36(c.R0b),c.Y36(_f,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,qD,5),c.Suo(r,qD,7),c.Suo(r,ZD,5),c.Suo(r,ZD,7),c.Suo(r,HU,5),c.Suo(r,VU,5),c.Suo(r,UU,5),c.Suo(r,jU,5),c.Suo(r,$U,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._controlNonStatic=a.first),c.iGM(a=c.CRH())&&(i._controlStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(i._placeholderChild=a.first),c.iGM(a=c.CRH())&&(i._errorChildren=a),c.iGM(a=c.CRH())&&(i._hintChildren=a),c.iGM(a=c.CRH())&&(i._prefixChildren=a),c.iGM(a=c.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(EU,7),c.Gf(CU,5),c.Gf(IU,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:Px,useExisting:n}]),c.qOj],ngContentSelectors:LU,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(FU),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),c.YNc(3,DU,9,0,"ng-container",3),c.YNc(4,TU,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,MU,5,16,"label",8),c.qZA()(),c.YNc(10,kU,2,0,"div",9),c.qZA(),c.YNc(11,RU,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,OU,2,1,"div",12),c.YNc(14,NU,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[En,fU,Ti,_r],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[BU.transitionMessages]},changeDetection:0}),n})(),WD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[To,Qn,pU],Qn]}),n})();function GO(...n){const e=(0,Ya.jO)(n),{args:t,keys:i}=On(n),r=new sn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let I=0;I<u;I++){let S=!1;(0,Os.Xf)(t[I]).subscribe((0,Sn.x)(a,O=>{S||(S=!0,b--),f[I]=O},()=>_--,void 0,()=>{(!_||!S)&&(b||a.next(i?Xa(i,f):f),a.complete())}))}});return e?r.pipe(Kl(e)):r}let zO=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Fm=(()=>{class n extends zO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Rl=new c.OlP("NgValueAccessor"),WU={provide:Rl,useExisting:(0,c.Gpc)(()=>z0),multi:!0},YU=new c.OlP("CompositionEventMode");let z0=(()=>{class n extends zO{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function KU(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(YU,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([WU]),c.qOj]}),n})();function bf(n){return null==n||0===n.length}function ZO(n){return null!=n&&"number"==typeof n.length}const Es=new c.OlP("NgValidators"),wf=new c.OlP("NgAsyncValidators"),QU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class WO{static min(e){return function KO(n){return e=>{if(bf(e.value)||bf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function YO(n){return e=>{if(bf(e.value)||bf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function QO(n){return bf(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function XO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function JO(n){return bf(n.value)||QU.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function e1(n){return e=>bf(e.value)||!ZO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function t1(n){return e=>ZO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function n1(n){if(!n)return KD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(bf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return c1(e)}static composeAsync(e){return u1(e)}}function KD(n){return null}function r1(n){return null!=n}function s1(n){const e=(0,c.QGY)(n)?(0,dn.D)(n):n;return(0,c.CqO)(e),e}function o1(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function a1(n,e){return e.map(t=>t(n))}function l1(n){return n.map(e=>function XU(n){return!n.validate}(e)?e:t=>e.validate(t))}function c1(n){if(!n)return null;const e=n.filter(r1);return 0==e.length?null:function(t){return o1(a1(t,e))}}function Nx(n){return null!=n?c1(l1(n)):null}function u1(n){if(!n)return null;const e=n.filter(r1);return 0==e.length?null:function(t){return GO(a1(t,e).map(s1)).pipe((0,tt.U)(o1))}}function Fx(n){return null!=n?u1(l1(n)):null}function d1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function h1(n){return n._rawValidators}function f1(n){return n._rawAsyncValidators}function Lx(n){return n?Array.isArray(n)?n:[n]:[]}function YD(n,e){return Array.isArray(n)?n.includes(e):n===e}function p1(n,e){const t=Lx(e);return Lx(n).forEach(r=>{YD(t,r)||t.push(r)}),t}function m1(n,e){return Lx(e).filter(t=>!YD(n,t))}class g1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Nx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yc extends g1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class js extends g1{get formDirective(){return null}get path(){return null}}let Vx=(()=>{class n extends class _1{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yc,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})();function q0(n,e){Hx(n,e),e.valueAccessor.writeValue(n.value),function aH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&v1(n,e)})}(n,e),function cH(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&v1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function oH(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function JD(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),tT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hx(n,e){const t=h1(n);null!==e.validator?n.setValidators(d1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=f1(n);null!==e.asyncValidator?n.setAsyncValidators(d1(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();eT(e._rawValidators,r),eT(e._rawAsyncValidators,r)}function tT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=h1(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=f1(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return eT(e._rawValidators,i),eT(e._rawAsyncValidators,i),t}function v1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function b1(n,e){Hx(n,e)}function E1(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Gx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Z0="VALID",nT="INVALID",uy="PENDING",W0="DISABLED";function qx(n){return(iT(n)?n.validators:n)||null}function C1(n){return Array.isArray(n)?Nx(n):n||null}function Zx(n,e){return(iT(e)?e.asyncValidators:n)||null}function I1(n){return Array.isArray(n)?Fx(n):n||null}function iT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const D1=n=>n instanceof x1,Wx=n=>n instanceof Yx;function T1(n){return D1(n)?n.value:n.getRawValue()}function S1(n,e){const t=Wx(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function A1(n,e){Wx(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class Kx{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=C1(this._rawValidators),this._composedAsyncValidatorFn=I1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Z0}get invalid(){return this.status===nT}get pending(){return this.status==uy}get disabled(){return this.status===W0}get enabled(){return this.status!==W0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=C1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=I1(e)}addValidators(e){this.setValidators(p1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(p1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(m1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(m1(e,this._rawAsyncValidators))}hasValidator(e){return YD(this._rawValidators,e)}hasAsyncValidator(e){return YD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=W0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Z0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Z0||this.status===uy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?W0:Z0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uy,this._hasOwnPendingAsyncValidator=!0;const t=s1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function fH(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=Wx(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof mH)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?W0:this.errors?nT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uy)?uy:this._anyControlsHaveStatus(nT)?nT:Z0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class x1 extends Kx{constructor(e=null,t,i){super(qx(t),Zx(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iT(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Yx extends Kx{constructor(e,t,i){super(qx(t),Zx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){A1(this,e),Object.keys(e).forEach(i=>{S1(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=T1(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mH extends Kx{constructor(e,t,i){super(qx(t),Zx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){A1(this,e),e.forEach((i,r)=>{S1(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>T1(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const gH={provide:js,useExisting:(0,c.Gpc)(()=>Y0)},K0=(()=>Promise.resolve(null))();let Y0=(()=>{class n extends js{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Yx({},Nx(t),Fx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){K0.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),q0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){K0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){K0.then(()=>{const i=this._findContainer(t.path),r=new Yx({});b1(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){K0.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){K0.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,E1(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Es,10),c.Y36(wf,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([gH]),c.qOj]}),n})();const yH={provide:Yc,useExisting:(0,c.Gpc)(()=>rT)},R1=(()=>Promise.resolve(null))();let rT=(()=>{class n extends Yc{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new x1,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function $x(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===z0?t=a:function hH(n){return Object.getPrototypeOf(n.constructor)===Fm}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function jx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){q0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){R1.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;R1.then(()=>{var a;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function XD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(js,9),c.Y36(Es,10),c.Y36(wf,10),c.Y36(Rl,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([yH]),c.qOj,c.TTD]}),n})(),P1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const DH={provide:js,useExisting:(0,c.Gpc)(()=>Q0)};let Q0=(()=>{class n extends js{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return q0(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){JD(t.control||null,t,!1),Gx(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,E1(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(JD(i||null,t),D1(r)&&(q0(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);b1(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function uH(n,e){return tT(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hx(this.form,this),this._oldForm&&tT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Es,10),c.Y36(wf,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([DH]),c.qOj,c.TTD]}),n})(),GH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[P1]]}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[GH]}),n})();const X1=LD({passive:!0});let qH=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ar.E;const i=_d(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new vt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,X1),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,X1)}}),a}stopMonitoring(t){const i=_d(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ws),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ZH=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),WH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let KH=0;const YH=TO(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let eP=(()=>{class n extends YH{constructor(t,i,r,a,u,f,_,b,I,S){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=b,this._formField=S,this._uid="mat-input-"+KH++,this.focused=!1,this.stateChanges=new vt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>lO().has(U)),this._iOSKeyupListener=U=>{const J=U.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Tn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(WO.required))&&void 0!==a&&a}set required(t){this._required=Tn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&lO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Tn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=r,r?a.setAttribute("placeholder",r):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){WH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ws),c.Y36(Yc,10),c.Y36(Y0,8),c.Y36(Q0,8),c.Y36(Cx),c.Y36(ZH,10),c.Y36(qH),c.Y36(c.R0b),c.Y36(Px,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:qD,useExisting:n}]),c.qOj,c.TTD]}),n})(),QH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Cx],imports:[[J1,WD,Qn],J1,WD]}),n})();var tP=P(4408);const X0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=X0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new yi.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=X0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=X0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var nP=P(7565);new class JH extends nP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class XH extends tP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=X0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(X0.cancelAnimationFrame(t),e._scheduled=void 0)}});let nM,tj=1;const sT={};function iP(n){return n in sT&&(delete sT[n],!0)}const nj={setImmediate(n){const e=tj++;return sT[e]=!0,nM||(nM=Promise.resolve()),nM.then(()=>iP(e)&&n()),e},clearImmediate(n){iP(n)}},{setImmediate:ij,clearImmediate:rj}=nj,oT={setImmediate(...n){const{delegate:e}=oT;return((null==e?void 0:e.setImmediate)||ij)(...n)},clearImmediate(n){const{delegate:e}=oT;return((null==e?void 0:e.clearImmediate)||rj)(n)},delegate:void 0};new class oj extends nP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class sj extends tP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=oT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(oT.clearImmediate(t),e._scheduled=void 0)}});var cj=P(3532);function rP(n=0,e,t=ul.P){let i=-1;return null!=e&&((0,cj.K)(e)?t=e:i=e),new sn.y(r=>{let a=function uj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function sP(n,e=ul.z){return function lj(n){return(0,vn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,Sn.x)(t,b=>{i=!0,r=b,a||(0,Os.Xf)(n(b)).subscribe(a=(0,Sn.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>rP(n,e))}let aT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new vt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new sn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(sP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):et()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ft(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=_d(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ws),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J0=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new vt.x,this._elementScrolled=new sn.y(u=>this.ngZone.runOutsideAngular(()=>vf(this.elementRef.nativeElement,"scroll").pipe(wn(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=U0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==U0()?t.left=t.right:1==U0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;cO()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==U0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==U0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(aT),c.Y36(c.R0b),c.Y36(oy,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),lT=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new vt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(sP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ws),c.LFG(c.R0b),c.LFG(ie,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ew=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[V0,ew],V0,ew]}),n})();class iM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class fj extends iM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class aP extends iM{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class pj extends iM{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class gj extends class mj{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof fj?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof aP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof pj?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let _j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const lP=cO();class vj{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ji(-this._previousScrollPosition.left),e.style.top=Ji(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),lP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lP&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class bj{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cP{enable(){}disable(){}attach(){}}function rM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function uP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class wj{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();rM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ej=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new cP,this.close=u=>new bj(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new vj(this._viewportRuler,this._document),this.reposition=u=>new wj(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aT),c.LFG(lT),c.LFG(c.R0b),c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dP{constructor(e){if(this.scrollStrategy=new cP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Cj{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Ij{constructor(e,t,i,r,a,u,f,_,b){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new vt.x,this._attachments=new vt.x,this._detachments=new vt.x,this._locationChanges=yi.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new vt.x,this._outsidePointerEvents=new vt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ji(this._config.width),e.height=Ji(this._config.height),e.minWidth=Ji(this._config.minWidth),e.minHeight=Ji(this._config.minHeight),e.maxWidth=Ji(this._config.maxWidth),e.maxHeight=Ji(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=$D(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(wn((0,md.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let hP=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_x()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),_x()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(ws))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fP="cdk-overlay-connected-position-bounding-box",Dj=/([A-Za-z%]+)$/;class Tj{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new vt.x,this._resizeSubscription=yi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(fP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),b=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(b,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,b,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:b,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const b of a){const I=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);I>_&&(_=I,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=mP(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let O=0-f,L=f+a.height-i.height,U=this._subtractOverflows(a.width,0-u,u+a.width-i.width),J=this._subtractOverflows(a.height,O,L),pe=U*J;return{visibleArea:pe,isCompletelyWithinViewport:a.width*a.height===pe,fitsInViewportVertically:J===a.height,fitsInViewportHorizontally:U==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=pP(this._overlayRef.getConfig().minHeight),f=pP(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=mP(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let I=0,S=0;return I=r.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,S=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:S},{x:e.x+I,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Cj(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,S,O;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const L=Math.min(i.bottom-e.y+i.top,e.y),U=this._lastBoundingBoxSize.height;a=2*L,u=e.y-L,a>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,I=i.right-e.x;else{const L=Math.min(i.right-e.x+i.left,e.x),U=this._lastBoundingBoxSize.width;I=2*L,S=e.x-L,I>U&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-U/2)}return{top:u,left:S,bottom:f,right:O,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Ji(i.height),r.top=Ji(i.top),r.bottom=Ji(i.bottom),r.width=Ji(i.width),r.left=Ji(i.left),r.right=Ji(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Ji(a)),u&&(r.maxWidth=Ji(u))}this._lastBoundingBoxSize=i,Vm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Vm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Vm(i,this._getExactOverlayY(t,e,I)),Vm(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=Ji(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Ji(u.maxWidth):a&&(i.maxWidth="")),Vm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Ji(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Ji(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uP(e,i),isOriginOutsideView:rM(e,i),isOverlayClipped:uP(t,i),isOverlayOutsideView:rM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&$D(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Vm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function pP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Dj);return t&&"px"!==t?null:parseFloat(e)}return n||null}function mP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gP="cdk-global-overlay-wrapper";class Sj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(gP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(gP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Aj=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new Sj}flexibleConnectedTo(t){return new Tj(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lT),c.LFG(ie),c.LFG(ws),c.LFG(hP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_P=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xj=(()=>{class n extends _P{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mj=(()=>{class n extends _P{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Nm(a)},this._clickListener=a=>{const u=Nm(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const I=_[b];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const S=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(a)):S.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ie),c.LFG(ws),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kj=0,cT=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,S,O){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=I,this._location=S,this._outsideClickDispatcher=O}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new dP(t);return u.direction=u.direction||this._directionality.value,new Ij(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kj++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new gj(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ej),c.LFG(hP),c.LFG(c._Vd),c.LFG(Aj),c.LFG(xj),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ie),c.LFG(oy),c.LFG(ye),c.LFG(Mj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Rj=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],yP=new c.OlP("cdk-connected-overlay-scroll-strategy");let vP=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),bP=(()=>{class n{constructor(t,i,r,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=yi.w0.EMPTY,this._attachSubscription=yi.w0.EMPTY,this._detachSubscription=yi.w0.EMPTY,this._positionSubscription=yi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new aP(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Tn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Tn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Tn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Tn(t)}get push(){return this._push}set push(t){this._push=Tn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Rj);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!yf(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new dP({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof vP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function yj(n,e=!1){return(0,vn.e)((t,i)=>{let r=0;t.subscribe((0,Sn.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cT),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(yP),c.Y36(oy,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const Pj={provide:yP,deps:[cT],useFactory:function Oj(n){return()=>n.scrollStrategies.reposition()}};let Nj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[cT,Pj],imports:[[V0,_j,oP],oP]}),n})();class sM{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new vt.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Fj=["trigger"],Lj=["panel"];function Vj(n,e){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function Bj(n,e){if(1&n&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function Uj(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function Hj(n,e){if(1&n&&(c.TgZ(0,"span",9),c.YNc(1,Bj,2,1,"span",10),c.YNc(2,Uj,1,0,"ng-content",11),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function jj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",13)(1,"div",14,15),c.NdJ("@transformPanel.done",function(r){return c.CHM(t),c.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return c.CHM(t),c.oxw()._handleKeydown(r)}),c.Hsn(3,1),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",t._getPanelTheme(),""),c.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),c.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const $j=[[["mat-select-trigger"]],"*"],Gj=["mat-select-trigger","*"],wP={transformPanelWrap:_D("transformPanelWrap",[iy("* => void",tV("@transformPanel",[eV()],{optional:!0}))]),transformPanel:_D("transformPanel",[ny("void",Wc({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ny("showing",Wc({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ny("showing-multiple",Wc({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),iy("void => *",P0("120ms cubic-bezier(0, 0, 0.2, 1)")),iy("* => void",P0("100ms 25ms linear",Wc({opacity:0})))])};let EP=0;const IP=new c.OlP("mat-select-scroll-strategy"),Wj=new c.OlP("MAT_SELECT_CONFIG"),Kj={provide:IP,deps:[cT],useFactory:function Zj(n){return()=>n.scrollStrategies.reposition()}};class Yj{constructor(e,t){this.source=e,this.value=t}}const Qj=cy(K2(Ex(TO(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),Xj=new c.OlP("MatSelectTrigger");let Jj=(()=>{class n extends Qj{constructor(t,i,r,a,u,f,_,b,I,S,O,L,U,J){var pe,We,Ye;super(u,a,_,b,S),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=I,this._liveAnnouncer=U,this._defaultOptions=J,this._panelOpen=!1,this._compareWith=(Ge,Ue)=>Ge===Ue,this._uid="mat-select-"+EP++,this._triggerAriaLabelledBy=null,this._destroy=new vt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+EP++,this._panelDoneAnimatingStream=new vt.x,this._overlayPanelClass=(null===(pe=this._defaultOptions)||void 0===pe?void 0:pe.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ye=null===(We=this._defaultOptions)||void 0===We?void 0:We.disableOptionCentering)&&void 0!==Ye&&Ye,this.ariaLabel="",this.optionSelectionChanges=lo(()=>{const Ge=this.options;return Ge?Ge.changes.pipe(Pn(Ge),on(()=>(0,md.T)(...Ge.map(Ue=>Ue.onSelectionChange)))):this._ngZone.onStable.pipe(gn(1),on(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(Ft(Ge=>Ge),(0,tt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Ft(Ge=>!Ge),(0,tt.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==J?void 0:J.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=J.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(WO.required))&&void 0!==a&&a}set required(t){this._required=Tn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Tn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Tn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=j0(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new sM(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ag(),wn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(wn(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Pn(null),wn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!yf(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||yf(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(t),this._multiple&&a&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(gn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(a){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new w2(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(wn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(wn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,md.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(wn(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,md.T)(...this.options.map(i=>i._stateChanges)).pipe(wn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lT),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Cx),c.Y36(c.SBq),c.Y36(oy,8),c.Y36(Y0,8),c.Y36(Q0,8),c.Y36(Px,8),c.Y36(Yc,10),c.$8M("tabindex"),c.Y36(IP),c.Y36(H2),c.Y36(Wj,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&(c.Gf(Fj,5),c.Gf(Lj,5),c.Gf(bP,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.trigger=r.first),c.iGM(r=c.CRH())&&(i.panel=r.first),c.iGM(r=c.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),DP=(()=>{class n extends Jj{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-i+a/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(wn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=FO(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function oU(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Yj(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const f=0-(t.left+u-(r?a:0)),_=t.right+u-i.width+(r?0:a);f>0?u+=f+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*a:this._scrollTop===r?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const a=Math.round(t-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),u=i*t-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=FO(f,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(f,_,u),this._offsetY=this._calculateOverlayOffsetY(f,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Xj,5),c.Suo(r,Sx,5),c.Suo(r,NO,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.customTrigger=a.first),c.iGM(a=c.CRH())&&(i.options=a),c.iGM(a=c.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(c.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),c.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:qD,useExisting:n},{provide:PO,useExisting:n}]),c.qOj],ngContentSelectors:Gj,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(c.F$t($j),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i.toggle()}),c.TgZ(3,"div",2),c.YNc(4,Vj,2,1,"span",3),c.YNc(5,Hj,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA()(),c.YNc(8,jj,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=c.MAs(1);c.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",i.empty),c.uIk("id",i._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[vP,Ti,_r,ja,bP,Ss],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[wP.transformPanelWrap,wP.transformPanel]},changeDetection:0}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Kj],imports:[[To,Nj,LO,Qn],ew,WD,LO,Qn]}),n})();const t3=["mat-button",""],n3=["*"],r3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],s3=zD(Ex(cy(class{constructor(n){this._elementRef=n}})));let oM=(()=>{class n extends s3{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of r3)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(bx),c.Y36(_f,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(G0,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:t3,ngContentSelectors:n3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[G0],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),o3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Dx,Qn],Qn]}),n})(),TP=(()=>{class n{constructor(t){this.fs=t}ngOnInit(){}submit(){this.fs.collection("car").doc(this.car_id).set({car_id:this.car_id,brand:this.brand,color:this.color,type:this.type}),this.car_id=null,this.brand=null,this.color=null,this.type=null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gD))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-page01"]],decls:73,vars:4,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","Mclaren"],["value","Lamboghini"],["value","Isuzu"],["value","Honda"],["value","Toyota"],["value","BMW"],["value","Benz"],["value","Red"],["value","Orange"],["value","White"],["value","Black"],["value","Gray"],["value","silver"],["value","Green"],["value","Pickup"],["value","Sedan"],["value","SUV"],["value","Van"],["value","Supercar"],["value","Sport Car"],["value","Hatchback"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn"]],template:function(t,i){1&t&&(c._UZ(0,"br")(1,"br"),c.TgZ(2,"mat-card",0)(3,"mat-card-header"),c._UZ(4,"div",1),c.TgZ(5,"mat-card-title"),c._uU(6,"Car Info System"),c.qZA(),c.TgZ(7,"mat-card-subtitle"),c._uU(8,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e23\u0e16"),c.qZA()(),c.TgZ(9,"mat-card-content")(10,"mat-form-field",2)(11,"mat-label"),c._uU(12,"Input Car ID :"),c.qZA(),c.TgZ(13,"input",3),c.NdJ("ngModelChange",function(a){return i.car_id=a}),c.qZA()(),c.TgZ(14,"mat-form-field",2)(15,"mat-label"),c._uU(16,"Select Brand :"),c.qZA(),c.TgZ(17,"mat-select",4),c.NdJ("ngModelChange",function(a){return i.brand=a}),c.TgZ(18,"mat-option",5),c._uU(19,"Mclaren"),c.qZA(),c.TgZ(20,"mat-option",6),c._uU(21,"Lamboghini"),c.qZA(),c.TgZ(22,"mat-option",7),c._uU(23,"Isuzu"),c.qZA(),c.TgZ(24,"mat-option",8),c._uU(25,"Honda"),c.qZA(),c.TgZ(26,"mat-option",9),c._uU(27,"Toyota"),c.qZA(),c.TgZ(28,"mat-option",10),c._uU(29,"BMW"),c.qZA(),c.TgZ(30,"mat-option",11),c._uU(31,"Benz"),c.qZA()()(),c.TgZ(32,"mat-form-field",2)(33,"mat-label"),c._uU(34,"Select Color :"),c.qZA(),c.TgZ(35,"mat-select",4),c.NdJ("ngModelChange",function(a){return i.color=a}),c.TgZ(36,"mat-option",12),c._uU(37,"Red"),c.qZA(),c.TgZ(38,"mat-option",13),c._uU(39,"Orange"),c.qZA(),c.TgZ(40,"mat-option",14),c._uU(41,"White"),c.qZA(),c.TgZ(42,"mat-option",15),c._uU(43,"Black"),c.qZA(),c.TgZ(44,"mat-option",16),c._uU(45,"Gray"),c.qZA(),c.TgZ(46,"mat-option",17),c._uU(47,"Silver"),c.qZA(),c.TgZ(48,"mat-option",18),c._uU(49,"Green"),c.qZA()()(),c.TgZ(50,"mat-form-field",2)(51,"mat-label"),c._uU(52,"Select Type :"),c.qZA(),c.TgZ(53,"mat-select",4),c.NdJ("ngModelChange",function(a){return i.type=a}),c.TgZ(54,"mat-option",19),c._uU(55,"Pickup"),c.qZA(),c.TgZ(56,"mat-option",20),c._uU(57,"Sedan"),c.qZA(),c.TgZ(58,"mat-option",21),c._uU(59,"SUV"),c.qZA(),c.TgZ(60,"mat-option",22),c._uU(61,"Van"),c.qZA(),c.TgZ(62,"mat-option",23),c._uU(63,"Supercar"),c.qZA(),c.TgZ(64,"mat-option",24),c._uU(65,"Sport Car"),c.qZA(),c.TgZ(66,"mat-option",25),c._uU(67,"Hatchback"),c.qZA()()()(),c.TgZ(68,"mat-card-actions")(69,"button",26),c.NdJ("click",function(){return i.submit()}),c._uU(70,"SUBMIT"),c.qZA(),c.TgZ(71,"button",27),c._uU(72,"RESET"),c.qZA()()()),2&t&&(c.xp6(13),c.Q6J("ngModel",i.car_id),c.xp6(4),c.Q6J("ngModel",i.brand),c.xp6(18),c.Q6J("ngModel",i.color),c.xp6(18),c.Q6J("ngModel",i.type))},directives:[Rx,Ox,kx,xx,Mx,Ax,$O,ZD,eP,z0,Vx,rT,DP,Sx,VO,oM],styles:[".example-card[_ngcontent-%COMP%]{max-width:600px;margin-right:auto;margin-left:auto;background-color:#35ffff}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.imgur.com/8U2iOx8.jpg);background-size:cover}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"]}),n})();function a3(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.car_id),c.xp6(2),c.Oqu(t.brand),c.xp6(2),c.Oqu(t.color),c.xp6(2),c.Oqu(t.type)}}let l3=(()=>{class n{constructor(t){this.fs=t}ngOnInit(){this.car=this.fs.collection("car").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gD))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-page02"]],decls:24,vars:3,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(c._UZ(0,"br")(1,"br"),c.TgZ(2,"mat-card",0)(3,"mat-card-header"),c._UZ(4,"div",1),c.TgZ(5,"mat-card-title"),c._uU(6,"Car Info System"),c.qZA(),c.TgZ(7,"mat-card-subtitle"),c._uU(8,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e23\u0e16"),c.qZA()(),c.TgZ(9,"mat-card-content")(10,"table")(11,"thead")(12,"tr")(13,"th"),c._uU(14,"Car_ID"),c.qZA(),c.TgZ(15,"th"),c._uU(16,"Brand"),c.qZA(),c.TgZ(17,"th"),c._uU(18,"Color"),c.qZA(),c.TgZ(19,"th"),c._uU(20,"Type"),c.qZA()()(),c.TgZ(21,"tbody"),c.YNc(22,a3,9,4,"tr",2),c.ALo(23,"async"),c.qZA()()()()),2&t&&(c.xp6(22),c.Q6J("ngForOf",c.lcZ(23,1,i.car)))},directives:[Rx,Ox,kx,xx,Mx,Ax,ti],pipes:[nu],styles:[".example-card[_ngcontent-%COMP%]{max-width:600px;margin-right:auto;margin-left:auto;background-color:#6be7e7}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.imgur.com/8U2iOx8.jpg);background-size:cover}table[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(255,255,255)}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid rgb(255,255,255)}tr[_ngcontent-%COMP%]:hover{background-color:#c7faff}"]}),n})();const SP="firebasestorage.googleapis.com",AP="storageBucket";class Ei extends Mt.ZR{constructor(e,t){super(aM(e),`Firebase Storage: ${t} (${aM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ei.prototype)}_codeEquals(e){return aM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function aM(n){return"storage/"+n}function lM(){return new Ei("unknown","An unknown error occurred, please check the error payload for server response.")}function xP(){return new Ei("canceled","User canceled the upload/download.")}function MP(){return new Ei("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function hy(n){return new Ei("invalid-argument",n)}function kP(){return new Ei("app-deleted","The Firebase app was deleted.")}function RP(n){return new Ei("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nw(n,e){return new Ei("invalid-format","String does not match format '"+n+"': "+e)}function iw(n){throw new Ei("internal-error","Internal error: "+n)}class Cs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Cs.makeFromUrl(e,t)}catch(r){return new Cs(e,"")}if(""===i.path)return i;throw function y3(n){return new Ei("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(Ue){Ue.path_=decodeURIComponent(Ue.path)}const S=t.replace(/[.]/g,"\\."),Ge=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Ue){"/"===Ue.path.charAt(Ue.path.length-1)&&(Ue.path_=Ue.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===SP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Ue=0;Ue<Ge.length;Ue++){const yt=Ge[Ue],Ct=yt.regex.exec(e);if(Ct){let Fi=Ct[yt.indices.path];Fi||(Fi=""),i=new Cs(Ct[yt.indices.bucket],Fi),yt.postModify(i);break}}if(null==i)throw function _3(n){return new Ei("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class E3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function dT(n){return"string"==typeof n||n instanceof String}function OP(n){return cM()&&n instanceof Blob}function cM(){return"undefined"!=typeof Blob}function uM(n,e,t,i){if(i<e)throw hy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw hy(`Invalid value for '${n}'. Expected ${t} or less.`)}function yd(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function PP(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Ef=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ef||(Ef={})),Ef))();class A3{constructor(e,t,i,r,a,u,f,_,b,I,S){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=I,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,L)=>{this.resolve_=O,this.reject_=L,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,u=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function D3(n){return void 0!==n}(_)?a():a(_)}catch(_){u(_)}else if(null!==f){const _=lM();_.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,_):_)}else u(r.canceled?this.appDelete_?kP():xP():function g3(){return new Ei("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new hT(!1,null,!0)):this.backoffId_=function C3(n,e,t){let i=1,r=null,a=null,u=!1,f=0;function _(){return 2===f}let b=!1;function I(...pe){b||(b=!0,e.apply(null,pe))}function S(pe){r=setTimeout(()=>{r=null,n(L,_())},pe)}function O(){a&&clearTimeout(a)}function L(pe,...We){if(b)return void O();if(pe)return O(),void I.call(null,pe,...We);if(_()||u)return O(),void I.call(null,pe,...We);let Ge;i<64&&(i*=2),1===f?(f=2,Ge=0):Ge=1e3*(i+Math.random()),S(Ge)}let U=!1;function J(pe){U||(U=!0,O(),!b&&(null!==r?(pe||(f=2),clearTimeout(r),S(0)):pe||(f=1)))}return S(0),a=setTimeout(()=>{u=!0,J(!0)},t),J}((i,r)=>{if(r)return void i(!1,new hT(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Ef.NO_ERROR,_=a.getStatus();if(!f||this.isRetryStatusCode_(_)){const I=a.getErrorCode()===Ef.ABORT;return void i(!1,new hT(!1,null,I))}const b=-1!==this.successCodes_.indexOf(_);i(!0,new hT(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function I3(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class hT{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function N3(...n){const e=function P3(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(cM())return new Blob(n);throw new Ei("unsupported-environment","This browser doesn't seem to support creating Blobs")}const na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dM{constructor(e,t){this.data=e,this.contentType=t||null}}function hM(n,e){switch(n){case na.RAW:return new dM(NP(e));case na.BASE64:case na.BASE64URL:return new dM(FP(n,e));case na.DATA_URL:return new dM(function B3(n){const e=new LP(n);return e.base64?FP(na.BASE64,e.rest):function V3(n){let e;try{e=decodeURIComponent(n)}catch(t){throw nw(na.DATA_URL,"Malformed data URL.")}return NP(e)}(e.rest)}(e),function U3(n){return new LP(n).contentType}(e))}throw lM()}function NP(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function FP(n,e){switch(n){case na.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw nw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case na.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw nw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function L3(n){return atob(n)}(e)}catch(r){throw nw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class LP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw nw(na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function H3(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qc{constructor(e,t){let i=0,r="";OP(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(OP(this.data_)){const r=function F3(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qc(i,!0)}}static getBlob(...e){if(cM()){const t=e.map(i=>i instanceof Qc?i.data_:i);return new Qc(N3.apply(null,t))}{const t=e.map(u=>dT(u)?hM(na.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)r[a++]=u[f]}),new Qc(r,!0)}}uploadData(){return this.data_}}function fM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function S3(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function VP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function G3(n,e){return e}class $s{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||G3}}let fT=null;function rw(){if(fT)return fT;const n=[];n.push(new $s("bucket")),n.push(new $s("generation")),n.push(new $s("metageneration")),n.push(new $s("name","fullPath",!0));const t=new $s("name");t.xform=function e(a,u){return function z3(n){return!dT(n)||n.length<2?n:VP(n)}(u)},n.push(t);const r=new $s("size");return r.xform=function i(a,u){return void 0!==u?Number(u):u},n.push(r),n.push(new $s("timeCreated")),n.push(new $s("updated")),n.push(new $s("md5Hash",null,!0)),n.push(new $s("cacheControl",null,!0)),n.push(new $s("contentDisposition",null,!0)),n.push(new $s("contentEncoding",null,!0)),n.push(new $s("contentLanguage",null,!0)),n.push(new $s("contentType",null,!0)),n.push(new $s("metadata","customMetadata",!0)),fT=n,fT}function BP(n,e,t){const i=fM(e);return null===i?null:function Z3(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return function q3(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Cs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function pM(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const UP="prefixes";class Xc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Jc(n){if(!n)throw lM()}function pT(n,e){return function t(i,r){const a=BP(n,r,e);return Jc(null!==a),a}}function fy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function p3(){return new Ei("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function f3(){return new Ei("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function h3(n){return new Ei("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function m3(n){return new Ei("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function sw(n){const e=fy(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function d3(n){return new Ei("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function jP(n,e,t){const r=yd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Xc(r,"GET",pT(n,t),u);return f.errorHandler=sw(e),f}function J3(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const f=yd(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,I=new Xc(f,"GET",function Q3(n,e){return function t(i,r){const a=function Y3(n,e,t){const i=fM(t);return null===i?null:function K3(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[UP])for(const r of t[UP]){const a=r.replace(/\/$/,""),u=n._makeStorageReference(new Cs(e,a));i.prefixes.push(u)}if(t.items)for(const r of t.items){const a=n._makeStorageReference(new Cs(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return Jc(null!==a),a}}(n,e.bucket),b);return I.urlParams=a,I.errorHandler=fy(e),I}function GP(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function i$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class mT{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function mM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Jc(!1)}return Jc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const a$={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gM(n){switch(n){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;default:return Gs.ERROR}}class l${constructor(e,t,i){if(function T3(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function py(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class u$ extends class c${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw iw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw iw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ol(){return new u$}class WP{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=rw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function r$(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u=GP(e,i,r),f={name:u.fullPath},_=yd(a,n.host,n._protocol),I={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},S=pM(u,t),U=new Xc(_,"POST",function L(J){let pe;mM(J);try{pe=J.getResponseHeader("X-Goog-Upload-URL")}catch(We){Jc(!1)}return Jc(dT(pe)),pe},n.maxUploadRetryTime);return U.urlParams=f,U.headers=I,U.body=S,U.errorHandler=fy(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ol,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function s$(n,e,t,i){const _=new Xc(t,"POST",function a(b){const I=mM(b,["active","final"]);let S=null;try{S=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){Jc(!1)}S||Jc(!1);const O=Number(S);return Jc(!isNaN(O)),new mT(O,i.size(),"final"===I)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=fy(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,Ol,t,i);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new mT(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let u;try{u=function o$(n,e,t,i,r,a,u,f){const _=new mT(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function b3(){return new Ei("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let I=b;r>0&&(I=Math.min(I,r));const S=_.current,U={"X-Goog-Upload-Command":I===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},J=i.slice(S,S+I);if(null===J)throw MP();const Ge=new Xc(t,"POST",function pe(Ue,yt){const Ct=mM(Ue,["active","final"]),zt=_.current+I,Fi=i.size();let ia;return ia="final"===Ct?pT(e,a)(Ue,yt):null,new mT(zt,Fi,"final"===Ct,ia)},e.maxUploadRetryTime);return Ge.headers=U,Ge.body=J.uploadData(),Ge.progressCallback=f||null,Ge.errorHandler=fy(n),Ge}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(u,Ol,r,a);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=jP(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ol,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function zP(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let Ge="";for(let Ue=0;Ue<2;Ue++)Ge+=Math.random().toString().slice(2);return Ge}();u["Content-Type"]="multipart/related; boundary="+_;const b=GP(e,i,r),I=pM(b,t),L=Qc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+I+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===L)throw MP();const U={name:b.fullPath},J=yd(a,n.host,n._protocol),We=n.maxUploadRetryTime,Ye=new Xc(J,"POST",pT(n,t),We);return Ye.urlParams=U,Ye.headers=u,Ye.body=L.uploadData(),Ye.errorHandler=fy(e),Ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ol,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=xP(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=gM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new l$(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(gM(this._state)){case Gs.SUCCESS:py(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:py(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(gM(this._state)){case Gs.RUNNING:case Gs.PAUSED:e.next&&py(e.next.bind(e,this.snapshot))();break;case Gs.SUCCESS:e.complete&&py(e.complete.bind(e))();break;default:e.error&&py(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Bm{constructor(e,t){this._service=e,this._location=t instanceof Cs?t:Cs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bm(e,t)}get root(){const e=new Cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VP(this._location.path)}get storage(){return this._service}get parent(){const e=function j3(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Cs(this._location.bucket,e);return new Bm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw RP(e)}}function YP(n,e,t){return _M.apply(this,arguments)}function _M(){return _M=(0,ve.Z)(function*(n,e,t){const r=yield QP(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield YP(n,e,r.nextPageToken))}),_M.apply(this,arguments)}function QP(n,e){null!=e&&"number"==typeof e.maxResults&&uM("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=J3(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ol)}function E$(n){n._throwIfRoot("getDownloadURL");const e=function e$(n,e,t){const r=yd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Xc(r,"GET",function X3(n,e){return function t(i,r){const a=BP(n,r,e);return Jc(null!==a),function W3(n,e,t,i){const r=fM(e);if(null===r||!dT(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(b=>{const S=n.fullPath;return yd("/b/"+u(n.bucket)+"/o/"+u(S),t,i)+PP({alt:"media",token:b})})[0]}(a,r,n.host,n._protocol)}}(n,t),u);return f.errorHandler=sw(e),f}(n.storage,n._location,rw());return n.storage.makeRequestWithTokens(e,Ol).then(t=>{if(null===t)throw function w3(){return new Ei("no-download-url","The given file does not have any download URLs.")}();return t})}function XP(n,e){const t=function $3(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Cs(n._location.bucket,t);return new Bm(n.storage,i)}function JP(n,e){if(n instanceof yM){const t=n;if(null==t._bucket)throw function v3(){return new Ei("no-default-bucket","No default bucket found. Did you set the '"+AP+"' property when initializing the app?")}();const i=new Bm(t,t._bucket);return null!=e?JP(i,e):i}return void 0!==e?XP(n,e):n}function T$(n,e){if(e&&function I$(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof yM)return function D$(n,e){return new Bm(n,e)}(n,e);throw hy("To use ref(service, url), the first argument must be a Storage instance.")}return JP(n,e)}function eN(n,e){const t=null==e?void 0:e[AP];return null==t?null:Cs.makeFromBucketSpec(t,n)}class yM{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=SP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Cs.makeFromBucketSpec(r,this._host):eN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Cs.makeFromBucketSpec(this._url,e):eN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bm(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new E3(kP());{const a=function O3(n,e,t,i,r,a){const u=PP(n.urlParams),f=n.url+u,_=Object.assign({},n.headers);return function k3(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function x3(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function M3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function R3(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new A3(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,ve.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const tN="@firebase/storage";function rN(n,e){return T$(n=(0,Mt.m9)(n),e)}function L$(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new yM(t,i,r,e,_o.SDK_VERSION)}!function V$(){(0,_o._registerComponent)(new gh.wA("storage",L$,"PUBLIC").setMultipleInstances(!0)),(0,_o.registerVersion)(tN,"0.9.9",""),(0,_o.registerVersion)(tN,"0.9.9","esm2017")}();class gT{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sN{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new gT(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?u=>t(new gT(u,this,this._ref)):{next:t.next?u=>t.next(new gT(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class oN{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new vd(e,this._service))}get items(){return this._delegate.items.map(e=>new vd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class vd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function N$(n,e){return XP(n,e)}(this._delegate,e);return new vd(t,this.storage)}get root(){return new vd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new vd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new sN(function A$(n,e,t){return function _$(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new WP(n,new Qc(e),t)}(n=(0,Mt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=na.RAW,i){this._throwIfRoot("putString");const r=hM(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new sN(new WP(this._delegate,new Qc(r.data,!0),a),this)}listAll(){return function R$(n){return function v$(n){const e={prefixes:[],items:[]};return YP(n,e).then(()=>e)}(n=(0,Mt.m9)(n))}(this._delegate).then(e=>new oN(e,this.storage))}list(e){return function k$(n,e){return QP(n=(0,Mt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new oN(t,this.storage))}getMetadata(){return function x$(n){return function b$(n){n._throwIfRoot("getMetadata");const e=jP(n.storage,n._location,rw());return n.storage.makeRequestWithTokens(e,Ol)}(n=(0,Mt.m9)(n))}(this._delegate)}updateMetadata(e){return function M$(n,e){return function w$(n,e){n._throwIfRoot("updateMetadata");const t=function t$(n,e,t,i){const a=yd(e.fullServerUrl(),n.host,n._protocol),f=pM(t,i),b=n.maxOperationRetryTime,I=new Xc(a,"PATCH",pT(n,i),b);return I.headers={"Content-Type":"application/json; charset=utf-8"},I.body=f,I.errorHandler=sw(e),I}(n.storage,n._location,e,rw());return n.storage.makeRequestWithTokens(t,Ol)}(n=(0,Mt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function O$(n){return E$(n=(0,Mt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function P$(n){return function C$(n){n._throwIfRoot("deleteObject");const e=function n$(n,e){const i=yd(e.fullServerUrl(),n.host,n._protocol),f=new Xc(i,"DELETE",function u(_,b){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=sw(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ol)}(n=(0,Mt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw RP(e)}}class aN{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(lN(e))throw hy("ref() expected a child path but got a URL, use refFromURL instead.");return new vd(rN(this._delegate,e),this)}refFromURL(e){if(!lN(e))throw hy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Cs.makeFromUrl(e,this._delegate.host)}catch(t){throw hy("refFromUrl() expected a valid full URL but got an invalid one.")}return new vd(rN(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function F$(n,e,t,i={}){!function S$(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Mt.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function lN(n){return/^[A-Za-z]+:\/\//.test(n)}function j$(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new aN(t,i)}function cN(n){const e=function G$(n){return new sn.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(H0(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function _T(n){return{getDownloadURL:()=>et(void 0).pipe(qn.fc,on(()=>n.getDownloadURL()),qn.iC),getMetadata:()=>et(void 0).pipe(qn.fc,on(()=>n.getMetadata()),qn.iC),delete:()=>(0,dn.D)(n.delete()),child:e=>_T(n.child(e)),updateMetadata:e=>(0,dn.D)(n.updateMetadata(e)),put:(e,t)=>cN(n.put(e,t)),putString:(e,t,i)=>cN(n.putString(e,t,i)),list:e=>(0,dn.D)(n.list(e)),listAll:()=>(0,dn.D)(n.listAll())}}!function $$(n){const e={TaskState:Gs,TaskEvent:a$,StringFormat:na,Storage:aN,Reference:vd};n.INTERNAL.registerComponent(new gh.wA("storage-compat",j$,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(By.Z);const z$=new c.OlP("angularfire2.storageBucket"),q$=new c.OlP("angularfire2.storage.maxUploadRetryTime"),Z$=new c.OlP("angularfire2.storage.maxOperationRetryTime"),W$=new c.OlP("angularfire2.storage.use-emulator");let uN=(()=>{class n{constructor(t,i,r,a,u,f,_,b,I,S){const O=(0,Tr.on)(t,u,i);this.storage=(0,Tr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const L=u.runOutsideAngular(()=>O.storage(r||void 0)),U=I;return U&&L.useEmulator(...U),_&&L.setMaxUploadRetryTime(_),b&&L.setMaxOperationRetryTime(b),L},[_,b])}ref(t){return _T(this.storage.ref(t))}refFromURL(t){return _T(this.storage.refFromURL(t))}upload(t,i,r){return _T(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Tr.Dh),c.LFG(Tr.xv,8),c.LFG(z$,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(qn.HU),c.LFG(q$,8),c.LFG(Z$,8),c.LFG(W$,8),c.LFG(pD,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),K$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Y$=(()=>{class n{constructor(){nR.Z.registerVersion("angularfire",qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uN],imports:[K$]}),n})();function Q$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-card",1)(1,"mat-card-header"),c._UZ(2,"div",2),c.TgZ(3,"mat-card-title"),c._uU(4,"Car Info System"),c.qZA(),c.TgZ(5,"mat-card-subtitle"),c._uU(6,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e23\u0e16"),c.qZA()(),c.TgZ(7,"mat-card-content")(8,"mat-form-field",7)(9,"mat-label"),c._uU(10,"Input Car ID :"),c.qZA(),c.TgZ(11,"input",8),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw().car_id=r}),c.qZA()(),c.TgZ(12,"mat-form-field",7)(13,"mat-label"),c._uU(14,"Select Brand :"),c.qZA(),c.TgZ(15,"mat-select",9),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw().brand=r}),c.TgZ(16,"mat-option",10),c._uU(17,"Mclaren"),c.qZA(),c.TgZ(18,"mat-option",11),c._uU(19,"Lamboghini"),c.qZA(),c.TgZ(20,"mat-option",12),c._uU(21,"Isuzu"),c.qZA(),c.TgZ(22,"mat-option",13),c._uU(23,"Honda"),c.qZA(),c.TgZ(24,"mat-option",14),c._uU(25,"Toyota"),c.qZA(),c.TgZ(26,"mat-option",15),c._uU(27,"BMW"),c.qZA(),c.TgZ(28,"mat-option",16),c._uU(29,"Benz"),c.qZA()()(),c.TgZ(30,"mat-form-field",7)(31,"mat-label"),c._uU(32,"Select Color :"),c.qZA(),c.TgZ(33,"mat-select",9),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw().color=r}),c.TgZ(34,"mat-option",17),c._uU(35,"Red"),c.qZA(),c.TgZ(36,"mat-option",18),c._uU(37,"Orange"),c.qZA(),c.TgZ(38,"mat-option",19),c._uU(39,"White"),c.qZA(),c.TgZ(40,"mat-option",20),c._uU(41,"Black"),c.qZA(),c.TgZ(42,"mat-option",21),c._uU(43,"Gray"),c.qZA(),c.TgZ(44,"mat-option",22),c._uU(45,"Silver"),c.qZA(),c.TgZ(46,"mat-option",23),c._uU(47,"Green"),c.qZA()()(),c.TgZ(48,"mat-form-field",7)(49,"mat-label"),c._uU(50,"Select Type :"),c.qZA(),c.TgZ(51,"mat-select",9),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw().type=r}),c.TgZ(52,"mat-option",24),c._uU(53,"Pickup"),c.qZA(),c.TgZ(54,"mat-option",25),c._uU(55,"Sedan"),c.qZA(),c.TgZ(56,"mat-option",26),c._uU(57,"SUV"),c.qZA(),c.TgZ(58,"mat-option",27),c._uU(59,"Van"),c.qZA(),c.TgZ(60,"mat-option",28),c._uU(61,"Supercar"),c.qZA(),c.TgZ(62,"mat-option",29),c._uU(63,"Sport Car"),c.qZA(),c.TgZ(64,"mat-option",30),c._uU(65,"Hatchback"),c.qZA()()(),c._UZ(66,"br"),c.TgZ(67,"input",31),c.NdJ("change",function(r){return c.CHM(t),c.oxw().select_image(r)}),c.qZA()(),c.TgZ(68,"mat-card-actions")(69,"button",32),c.NdJ("click",function(){return c.CHM(t),c.oxw().submit()}),c._uU(70,"SUBMIT"),c.qZA(),c.TgZ(71,"button",32),c.NdJ("click",function(){return c.CHM(t),c.oxw().reset()}),c._uU(72,"RESET"),c.qZA()()()}if(2&n){const t=c.oxw();c.xp6(11),c.Q6J("ngModel",t.car_id),c.xp6(4),c.Q6J("ngModel",t.brand),c.xp6(18),c.Q6J("ngModel",t.color),c.xp6(18),c.Q6J("ngModel",t.type)}}function X$(n,e){if(1&n&&(c.TgZ(0,"td"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Oqu(t.car_id)}}function J$(n,e){if(1&n&&(c.TgZ(0,"td"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Oqu(t.brand)}}function eG(n,e){if(1&n&&(c.TgZ(0,"td"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Oqu(t.color)}}function tG(n,e){if(1&n&&(c.TgZ(0,"td"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Oqu(t.type)}}function nG(n,e){if(1&n&&(c.TgZ(0,"td"),c._UZ(1,"img",37),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.s9C("src",t.pic,c.LSH)}}function iG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td")(1,"input",9),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw(2).car_id=r}),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngModel",t.car_id)}}function rG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td")(1,"input",9),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw(2).brand=r}),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngModel",t.brand)}}function sG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td")(1,"input",9),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw(2).color=r}),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngModel",t.color)}}function oG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td")(1,"input",9),c.NdJ("ngModelChange",function(r){return c.CHM(t),c.oxw(2).type=r}),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngModel",t.type)}}function aG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",38),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).click_save()}),c._uU(1,"Save"),c.qZA()}}function lG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",38),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).click_cancle()}),c._uU(1,"Cancle"),c.qZA()}}function cG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",39),c.NdJ("click",function(){c.CHM(t);const r=c.oxw().$implicit;return c.oxw().click_delete(r.car_id,r.pic)}),c._uU(1,"Delete"),c.qZA()}}function uG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr"),c.YNc(1,X$,2,1,"td",33),c.YNc(2,J$,2,1,"td",33),c.YNc(3,eG,2,1,"td",33),c.YNc(4,tG,2,1,"td",33),c.YNc(5,nG,2,1,"td",33),c.YNc(6,iG,2,1,"td",33),c.YNc(7,rG,2,1,"td",33),c.YNc(8,sG,2,1,"td",33),c.YNc(9,oG,2,1,"td",33),c.TgZ(10,"td")(11,"button",34),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().click_edit(a)}),c._uU(12,"Edit"),c.qZA(),c.YNc(13,aG,2,0,"button",35),c.YNc(14,lG,2,0,"button",35),c.YNc(15,cG,2,0,"button",36),c.qZA()()}if(2&n){const t=e.$implicit,i=c.oxw();c.xp6(1),c.Q6J("ngIf",i.select_id!=t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id!=t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id!=t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id!=t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id!=t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id==t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id==t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id==t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id==t.car_id),c.xp6(4),c.Q6J("ngIf",i.select_id==t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id==t.car_id),c.xp6(1),c.Q6J("ngIf",i.select_id!=t.car_id)}}const dG=[{path:"",component:TP},{path:"page01",component:TP},{path:"page02",component:l3},{path:"page03",component:(()=>{class n{constructor(t,i){this.fs=t,this.sr=i,this.show=!1}ngOnInit(){this.car=this.fs.collection("car").valueChanges()}submit(){"image/jpeg"===this.pic_type?this.pic_type=".jpg":"image/png"===this.pic_type&&(this.pic_type=".png"),this.sr.upload("car/"+this.car_id+this.pic_type,this.pic[0]),this.fs.collection("car").doc(this.car_id).set({car_id:this.car_id,brand:this.brand,color:this.color,type:this.type,pic:"https://firebasestorage.googleapis.com/v0/b/parichat-angular.appspot.com/o/car%2F"+this.car_id+this.pic_type+"?alt=media"}),this.car_id=null,this.brand=null,this.color=null,this.type=null}reset(){this.car_id=null,this.brand=null,this.color=null,this.type=null}click_edit(t){this.select_id=t.car_id,this.car_id=t.car_id,this.brand=t.brand,this.color=t.color,this.type=t.type}click_cancle(){this.select_id=null,this.car_id=null,this.brand=null,this.color=null,this.type=null}click_save(){this.fs.collection("car").doc(this.car_id).update({car_id:this.car_id,brand:this.brand,color:this.color,type:this.type}),this.select_id=null,this.car_id=null,this.brand=null,this.color=null,this.type=null}click_delete(t,i){confirm("Do you want to delete Data ?")&&(this.fs.collection("car").doc(t).delete(),this.sr.storage.refFromURL(i).delete())}select_image(t){this.pic=t.target.files,this.pic_type=this.pic[0].type}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gD),c.Y36(uN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-page03"]],decls:34,vars:4,consts:[["class","example-card",4,"ngIf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-table",""],[4,"ngFor","ngForOf"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","Mclaren"],["value","Lamboghini"],["value","Isuzu"],["value","Honda"],["value","Toyota"],["value","BMW"],["value","Benz"],["value","Red"],["value","Orange"],["value","White"],["value","Black"],["value","Gray"],["value","silver"],["value","Green"],["value","Pickup"],["value","Sedan"],["value","SUV"],["value","Van"],["value","Supercar"],["value","Sport Car"],["value","Hatchback"],["type","file","accept","image*/",3,"change"],["mat-button","",3,"click"],[4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","accent",3,"click",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],["width","100px",3,"src"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(c._UZ(0,"br"),c.YNc(1,Q$,73,4,"mat-card",0),c._UZ(2,"br")(3,"br"),c.TgZ(4,"mat-card",1)(5,"mat-card-header"),c._UZ(6,"div",2),c.TgZ(7,"mat-card-title"),c._uU(8,"Car Info System"),c.qZA(),c.TgZ(9,"mat-card-subtitle"),c._uU(10,"\u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e23\u0e16"),c.qZA()(),c.TgZ(11,"mat-card-actions")(12,"button",3),c.NdJ("click",function(){return i.show=!0}),c._uU(13,"Add"),c.qZA(),c.TgZ(14,"button",4),c.NdJ("click",function(){return i.show=!1}),c._uU(15,"Cancle"),c.qZA()(),c.TgZ(16,"mat-card-content")(17,"table",5)(18,"thead")(19,"tr")(20,"th"),c._uU(21,"Car_id"),c.qZA(),c.TgZ(22,"th"),c._uU(23,"Brand"),c.qZA(),c.TgZ(24,"th"),c._uU(25,"Color"),c.qZA(),c.TgZ(26,"th"),c._uU(27,"Type"),c.qZA(),c.TgZ(28,"th"),c._uU(29,"Pic"),c.qZA(),c._UZ(30,"th"),c.qZA()(),c.TgZ(31,"tbody"),c.YNc(32,uG,16,12,"tr",6),c.ALo(33,"async"),c.qZA()()()()),2&t&&(c.xp6(1),c.Q6J("ngIf",i.show),c.xp6(31),c.Q6J("ngForOf",c.lcZ(33,2,i.car)))},directives:[En,Rx,Ox,kx,xx,Mx,Ax,$O,ZD,eP,z0,Vx,rT,DP,Sx,VO,oM,ti],pipes:[nu],styles:[".example-card[_ngcontent-%COMP%]{max-width:600px;margin-right:auto;margin-left:auto;background-color:#0fe}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i.imgur.com/8U2iOx8.jpg);background-size:cover}table[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(255,255,255)}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid rgb(255,255,255)}tr[_ngcontent-%COMP%]:hover{background-color:#c7faff}"]}),n})()}];let hG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ww.forRoot(dG)],ww]}),n})(),fG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const dN=new Set;let my,pG=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mG(n){if(!dN.has(n))try{my||(my=document.createElement("style"),my.setAttribute("type","text/css"),document.head.appendChild(my)),my.sheet&&(my.sheet.insertRule(`@media ${n} {body{ }}`,0),dN.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ws))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _G=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new vt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return hN($D(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Ja(hN($D(t)).map(u=>this._registerQuery(u).observable));return a=ao(a.pipe(gn(1)),a.pipe(fO(1),H0(0))),a.pipe((0,tt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new sn.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Pn(i),(0,tt.U)(({matches:u})=>({query:t,matches:u})),wn(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pG),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function vM(n){return(0,tt.U)(()=>n)}const yT=["*"],vG=["content"];function bG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(t),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function wG(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const EG=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],CG=["mat-drawer","mat-drawer-content","*"];function IG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(t),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function DG(n,e){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const TG=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],SG=["mat-sidenav","mat-sidenav-content","*"],fN={transformDrawer:_D("transform",[ny("open, open-instant",Wc({transform:"none",visibility:"visible"})),ny("void",Wc({"box-shadow":"none",visibility:"hidden"})),iy("void => open-instant",P0("0ms")),iy("void <=> open, open-instant => void",P0("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},xG=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function MG(){return!1}}),bM=new c.OlP("MAT_DRAWER_CONTAINER");let vT=(()=>{class n extends J0{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>mN)),c.Y36(c.SBq),c.Y36(aT),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:J0,useExisting:n}]),c.qOj],ngContentSelectors:yT,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),pN=(()=>{class n{constructor(t,i,r,a,u,f,_,b){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=b,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new vt.x,this._animationEnd=new vt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Ft(I=>I),(0,tt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Ft(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),vM(void 0)),this._closedStream=this.openedChange.pipe(Ft(I=>!I),(0,tt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Ft(I=>I.fromState!==I.toState&&"void"===I.toState),vM(void 0)),this._destroyed=new vt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new vt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{vf(this._elementRef.nativeElement,"keydown").pipe(Ft(I=>27===I.keyCode&&!this.disableClose&&!yf(I)),wn(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Ag((I,S)=>I.fromState===S.fromState&&I.toState===S.toState)).subscribe(I=>{const{fromState:S,toState:O}=I;(0===O.indexOf("open")&&"void"===S||"void"===O&&0===S.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Tn(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Tn(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Tn(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null===(t=this._anchor)||void 0===t||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(gn(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(P2),c.Y36(bx),c.Y36(ws),c.Y36(c.R0b),c.Y36(_O),c.Y36(ie,8),c.Y36(bM,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(vG,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:yT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[J0],encapsulation:2,data:{animation:[fN.transformDrawer]},changeDetection:0}),n})(),mN=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new vt.x,this._doCheckSubject=new vt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new vt.x,t&&t.change.pipe(wn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(wn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Tn(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Tn(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Pn(this._allDrawers),wn(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Pn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(H0(10),wn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Ft(i=>i.fromState!==i.toState),wn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(wn(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(wn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(gn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(wn((0,md.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oy,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(lT),c.Y36(xG),c.Y36(_f,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,vT,5),c.Suo(r,pN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&c.Gf(vT,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:bM,useExisting:n}])],ngContentSelectors:CG,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(EG),c.YNc(0,bG,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,wG,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},directives:[vT,En],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),wM=(()=>{class n extends vT{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>_N)),c.Y36(c.SBq),c.Y36(aT),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:J0,useExisting:n}]),c.qOj],ngContentSelectors:yT,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),gN=(()=>{class n extends pN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Tn(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=j0(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=j0(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:yT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},directives:[J0],encapsulation:2,data:{animation:[fN.transformDrawer]},changeDetection:0}),n})(),_N=(()=>{class n extends mN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,wM,5),c.Suo(r,gN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:bM,useExisting:n}]),c.qOj],ngContentSelectors:SG,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(TG),c.YNc(0,IG,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,DG,2,0,"mat-sidenav-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},directives:[wM,En],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),kG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[To,Qn,ew],ew,Qn]}),n})();const RG=["*",[["mat-toolbar-row"]]],OG=["*","mat-toolbar-row"],PG=zD(class{constructor(n){this._elementRef=n}});let NG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),FG=(()=>{class n extends PG{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ws),c.Y36(ie))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,NG,5),2&t){let a;c.iGM(a=c.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:OG,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(RG),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),LG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn],Qn]}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn],Qn]}),n})();const yN=["*"],UG=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],HG=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],qG=Ex(cy(class{})),ZG=cy(class{}),WG=new c.OlP("MatList"),vN=new c.OlP("MatNavList");let KG=(()=>{class n extends qG{constructor(){super(...arguments),this._stateChanges=new vt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[c._Bn([{provide:vN,useExisting:n}]),c.qOj,c.TTD],ngContentSelectors:yN,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),bN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),wN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),YG=(()=>{class n extends ZG{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new vt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(wn(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Tn(t)}ngAfterContentInit(){!function AO(n,e,t="mat"){n.changes.pipe(Pn(n)).subscribe(({length:i})=>{$0(e,`${t}-2-line`,!1),$0(e,`${t}-3-line`,!1),$0(e,`${t}-multi-line`,!1),2===i||3===i?$0(e,`${t}-${i}-line`,!0):i>3&&$0(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(vN,8),c.Y36(WG,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,bN,5),c.Suo(r,wN,5),c.Suo(r,SO,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._avatar=a.first),c.iGM(a=c.CRH())&&(i._icon=a.first),c.iGM(a=c.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&c.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:HG,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(c.F$t(UG),c.TgZ(0,"span",0),c._UZ(1,"span",1),c.Hsn(2),c.TgZ(3,"span",2),c.Hsn(4,1),c.qZA(),c.Hsn(5,2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[G0],encapsulation:2,changeDetection:0}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[xO,Dx,Qn,Tx,To],xO,Qn,Tx,VG]}),n})();class iz{}class Cf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rz{encodeKey(e){return CN(e)}encodeValue(e){return CN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const oz=/%(\d[a-f0-9])/gi,az={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function CN(n){return encodeURIComponent(n).replace(oz,(e,t)=>{var i;return null!==(i=az[t])&&void 0!==i?i:e})}function IN(n){return`${n}`}class If{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rz,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sz(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new If({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(IN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(IN(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lz{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function DN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function TN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function SN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ow{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Cf),this.context||(this.context=new lz),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new If,this.urlWithParams=t}serializeBody(){return null===this.body?null:DN(this.body)||TN(this.body)||SN(this.body)||function uz(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof If?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SN(this.body)?null:TN(this.body)?this.body.type||null:DN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof If?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,I=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((O,L)=>O.set(L,e.setHeaders[L]),b)),e.setParams&&(I=Object.keys(e.setParams).reduce((O,L)=>O.set(L,e.setParams[L]),I)),new ow(i,r,u,{params:I,headers:b,context:S,reportProgress:_,responseType:a,withCredentials:f})}}var qr=(()=>((qr=qr||{})[qr.Sent=0]="Sent",qr[qr.UploadProgress=1]="UploadProgress",qr[qr.ResponseHeader=2]="ResponseHeader",qr[qr.DownloadProgress=3]="DownloadProgress",qr[qr.Response=4]="Response",qr[qr.User=5]="User",qr))();class EM extends class dz{constructor(e,t=200,i="OK"){this.headers=e.headers||new Cf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=qr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new EM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function CM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xN=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof ow)a=t;else{let _,b;_=r.headers instanceof Cf?r.headers:new Cf(r.headers),r.params&&(b=r.params instanceof If?r.params:new If({fromObject:r.params})),a=new ow(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=et(a).pipe(Vr(_=>this.handler.handle(_)));if(t instanceof ow||"events"===r.observe)return u;const f=u.pipe(Ft(_=>_ instanceof EM));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,tt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,tt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,tt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,tt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new If).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,CM(r,i))}post(t,i,r={}){return this.request("POST",t,CM(r,i))}put(t,i,r={}){return this.request("PUT",t,CM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(iz))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fz=["*"];let bT;function aw(n){var e;return(null===(e=function pz(){if(void 0===bT&&(bT=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(bT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return bT}())||void 0===e?void 0:e.createHTML(n))||n}function MN(n){return Error(`Unable to find icon with the name "${n}"`)}function kN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function RN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Um{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let wT=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Um(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw RN(r);const f=aw(u);return this._addSvgIconConfig(t,i,new Um("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Um(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw RN(i);const u=aw(a);return this._addSvgIconSetConfig(t,new Um("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw kN(t);const r=this._cachedIconsByUrl.get(i);return r?et(ET(r)):this._loadSvgIconFromConfig(new Um(t,null)).pipe((0,vi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,tt.U)(a=>ET(a)))}getNamedSvgIcon(t,i=""){const r=ON(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):oo(MN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?et(ET(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,tt.U)(i=>ET(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?et(r):GO(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ki(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),et(null)})))).pipe((0,tt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw MN(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,vi.b)(i=>t.svgText=i),(0,tt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?et(null):this._fetchIcon(t).pipe((0,vi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(aw("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(aw("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:a}=t,u=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function mz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!f)throw kN(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const b=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,tt.U)(I=>aw(I)),Of(()=>this._inProgressUrlFetches.delete(f)),(0,kk.B)());return this._inProgressUrlFetches.set(f,b),b}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(ON(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return _z(a)?new Um(a.url,null,a.options):new Um(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xN,8),c.LFG(_u),c.LFG(ie,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ET(n){return n.cloneNode(!0)}function ON(n,e){return n+":"+e}function _z(n){return!(!n.url||!n.options)}const yz=zD(class{constructor(n){this._elementRef=n}}),vz=new c.OlP("mat-icon-location",{providedIn:"root",factory:function bz(){const n=(0,c.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),PN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wz=PN.map(n=>`[${n}]`).join(", "),Ez=/^url\(['"]?#(.*?)['"]?\)$/;let Cz=(()=>{class n extends yz{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=yi.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Tn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(wz),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)PN.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(Ez):null;if(b){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(gn(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(wT),c.$8M("aria-hidden"),c.Y36(vz),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:fz,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qn],Qn]}),n})();function Dz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw(),c.MAs(2).toggle()}),c.TgZ(1,"mat-icon",7),c._uU(2,"menu"),c.qZA()()}}const Tz=function(){return["/page01"]},Sz=function(){return["/page02"]},Az=function(){return["/page03"]},xz=["*"];let Mz=(()=>{class n{constructor(t){this.breakpointObserver=t,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,tt.U)(i=>i.matches),CA())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_G))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-menu"]],ngContentSelectors:xz,decls:22,vars:18,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLinkActive","router-link-active",3,"routerLink"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),c.ALo(3,"async"),c.ALo(4,"async"),c.ALo(5,"async"),c.TgZ(6,"mat-toolbar"),c._uU(7,"Menu"),c.qZA(),c.TgZ(8,"mat-nav-list")(9,"a",3),c._uU(10,"page01"),c.qZA(),c.TgZ(11,"a",3),c._uU(12,"page02"),c.qZA(),c.TgZ(13,"a",3),c._uU(14,"page03"),c.qZA()()(),c.TgZ(15,"mat-sidenav-content")(16,"mat-toolbar",4),c.YNc(17,Dz,3,0,"button",5),c.ALo(18,"async"),c.TgZ(19,"span"),c._uU(20,"Car Info System"),c.qZA()(),c.Hsn(21),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("mode",c.lcZ(4,9,i.isHandset$)?"over":"side")("opened",!1===c.lcZ(5,11,i.isHandset$)),c.uIk("role",c.lcZ(3,7,i.isHandset$)?"dialog":"navigation"),c.xp6(8),c.Q6J("routerLink",c.DdM(15,Tz)),c.xp6(2),c.Q6J("routerLink",c.DdM(16,Sz)),c.xp6(2),c.Q6J("routerLink",c.DdM(17,Az)),c.xp6(4),c.Q6J("ngIf",c.lcZ(18,13,i.isHandset$)))},directives:[_N,gN,FG,KG,YG,mc,mw,wM,En,oM,Cz],pipes:[nu],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px;background-color:#00fff7}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background-color:#00eaf2}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;background-color:#00a19e}"]}),n})(),kz=(()=>{class n{constructor(){this.title="firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&(c.TgZ(0,"app-menu"),c._UZ(1,"router-outlet"),c.qZA())},directives:[Mz,Su],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#0fe}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']}),n})();const Df=new sn.y(vx.Z),Oz={connector:()=>new vt.x};function NN(n,e=Oz){const{connector:t}=e;return(0,vn.e)((i,r)=>{const a=t();(0,Os.Xf)(n(function Rz(n){return new sn.y(e=>n.subscribe(e))}(a))).subscribe(r),r.add(i.subscribe(a))})}function FN(n,e){return e?t=>ao(e.pipe(gn(1),function Fz(){return(0,vn.e)((n,e)=>{n.subscribe((0,Sn.x)(e,vx.Z))})}()),t.pipe(FN(n))):(0,$n.z)((t,i)=>n(t,i).pipe(gn(1),vM(t)))}const lw="Service workers are disabled or not supported by this browser";class CT{constructor(e){if(this.serviceWorker=e,e){const i=vf(e,"controllerchange").pipe((0,tt.U)(()=>e.controller)),a=ao(lo(()=>et(e.controller)),i);this.worker=a.pipe(Ft(I=>!!I)),this.registration=this.worker.pipe(on(()=>e.getRegistration()));const b=vf(e,"message").pipe((0,tt.U)(I=>I.data)).pipe(Ft(I=>I&&I.type)).pipe(function Nz(n){return n?e=>NN(n)(e):e=>function Pz(n,e){const t=(0,ci.m)(n)?n:()=>n;return(0,ci.m)(e)?NN(e,{connector:t}):i=>new Mi(i,t)}(new vt.x)(e)}());b.connect(),this.events=b}else this.worker=this.events=this.registration=function Vz(n){return lo(()=>oo(new Error(n)))}(lw)}postMessage(e,t){return this.worker.pipe(gn(1),(0,vi.b)(i=>{i.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),a=this.postMessage(e,t);return Promise.all([a,r]).then(([,u])=>u)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Ft(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(gn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ft(t=>t.nonce===e),gn(1),(0,tt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Bz=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new vt.x,!t.isEnabled)return this.messages=Df,this.notificationClicks=Df,void(this.subscription=Df);this.messages=this.sw.eventsOfType("PUSH").pipe((0,tt.U)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,tt.U)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,tt.U)(r=>r.pushManager));const i=this.pushManager.pipe(on(r=>r.getSubscription()));this.subscription=(0,md.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(lw));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(r.length));for(let u=0;u<r.length;u++)a[u]=r.charCodeAt(u);return i.applicationServerKey=a,this.pushManager.pipe(on(u=>u.subscribe(i)),gn(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(gn(1),on(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(lw))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Uz=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Df,this.available=Df,this.activated=Df,void(this.unrecoverable=Df);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Ft(i=>"VERSION_READY"===i.type),(0,tt.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(lw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(lw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class IM{}const LN=new c.OlP("NGSW_REGISTER_SCRIPT");function Hz(n,e,t,i){return()=>{if(!ai(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let a;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)a=t.registrationStrategy();else{const[f,..._]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":a=et(null);break;case"registerWithDelay":a=VN(+_[0]||0);break;case"registerWhenStable":a=_[0]?(0,md.T)(BN(n),VN(+_[0])):BN(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(c.R0b).runOutsideAngular(()=>a.pipe(gn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(f=>console.error("Service worker registration failed with:",f))))}}function VN(n){return et(null).pipe(function Lz(n,e=ul.z){const t=rP(n,e);return FN(()=>t)}(n))}function BN(n){return n.get(c.z2F).isStable.pipe(Ft(t=>t))}function jz(n,e){return new CT(ai(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let $z=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:LN,useValue:t},{provide:IM,useValue:i},{provide:CT,useFactory:jz,deps:[IM,c.Lbi]},{provide:c.ip1,useFactory:Hz,deps:[c.zs3,LN,IM,c.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Bz,Uz]}),n})();const DM_firebase_config={apiKey:"AIzaSyCZqNIX5uMEl6Tx7GSQ9spFiVyKP3F7Pm4",authDomain:"parichat-angular.firebaseapp.com",databaseURL:"https://parichat-angular-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"parichat-angular",storageBucket:"parichat-angular.appspot.com",messagingSenderId:"214056214486",appId:"1:214056214486:web:3344b87a73c122cf6ace77"};let Gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[kz]}),n.\u0275inj=c.cJS({providers:[],imports:[[ma,hG,XB,$z.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),fG,LG,zH,o3,kG,Iz,nz,dU,WD,QH,e3,Tr.hO.initializeApp(DM_firebase_config),XL,Y$]]}),n})();(0,c.G48)(),$l().bootstrapModule(Gz).catch(n=>console.error(n))},5867:(it,Ee,P)=>{P.d(Ee,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=P(9681);(0,c.registerVersion)("firebase","9.9.4","app")},127:(it,Ee,P)=>{P.d(Ee,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(it,Ee,P)=>{P.r(Ee);var c=P(5861),ee=P(3942),N=P(2090),ue=P(9681),ae=P(655),me=P(1877),ie=P(4859);const Re=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new me.Yd("@firebase/auth");function nt(y,...p){Ke.logLevel<=me.in.ERROR&&Ke.error(`Auth (${ue.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw je(y,...p)}function ye(y,...p){return je(y,...p)}function De(y,p,m){const w=Object.assign(Object.assign({},He()),{[p]:m});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Be(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return fe.create(y,...p)}function W(y,p,...m){if(!y)throw je(p,...m)}function Ce(y){const p="INTERNAL ASSERTION FAILED: "+y;throw nt(p),new Error(p)}function Y(y,p){y||Ce(p)}const re=new Map;function te(y){Y(y instanceof Function,"Expected a class definition");let p=re.get(y);return p?(Y(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,re.set(y,p),p)}function Pe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===qt()||"https:"===qt()}function qt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,Y(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xn(y,p){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ln{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Li=new tn(3e4,6e4);function Kt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ut(y,p,m,w){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(y,p,m,w,A={}){return pr(y,A,(0,c.Z)(function*(){let R={},K={};w&&("GET"===p?K=w:R={body:JSON.stringify(w)});const ce=(0,N.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),ln.fetch()(qs(y,y.config.apiHost,m,ce),Object.assign({method:p,headers:Fe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function pr(y,p,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Jt),p);try{const A=new tr(y),R=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw Wr(y,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const ce=R.ok?K.errorMessage:K.error.message,[Fe,rt]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw Wr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Fe)throw Wr(y,"email-already-in-use",K);if("USER_DISABLED"===Fe)throw Wr(y,"user-disabled",K);const _t=w[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw De(y,_t,rt);Ae(y,_t)}}catch(A){if(A instanceof N.ZR)throw A;Ae(y,"network-request-failed")}})).apply(this,arguments)}function er(y,p,m,w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,p,m,w,A={}){const R=yield Ut(y,p,m,w,A);return"mfaPendingCredential"in R&&Ae(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function qs(y,p,m,w){const A=`${p}${m}?${w}`;return y.config.emulator?xn(y.config,A):`${y.config.apiScheme}://${A}`}class tr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ye(this.auth,"network-request-failed")),Li.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wr(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=ye(y,p,w);return A.customData._tokenResponse=m,A}function nr(){return(nr=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mn(y,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Kr(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function kn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function sa(){return(sa=(0,c.Z)(function*(y,p=!1){const m=(0,N.m9)(y),w=yield m.getIdToken(p),A=ct(w);W(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,K=null==R?void 0:R.sign_in_provider;return{claims:A,token:w,authTime:kn(Zt(A.auth_time)),issuedAtTime:kn(Zt(A.iat)),expirationTime:kn(Zt(A.exp)),signInProvider:K||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function ct(y){var p;const[m,w,A]=y.split(".");if(void 0===m||void 0===w||void 0===A)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,N.tV)(w);return R?JSON.parse(R):(nt("Failed to decode base64 JWT payload"),null)}catch(R){return nt("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function Ii(y,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&$t(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function $t({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Zs{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Di{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(y){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),A=yield Ii(y,Kr(m,{idToken:w}));W(null==A?void 0:A.users.length,m,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const K=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?H(R.providerUserInfo):[],ce=Z(y.providerData,K),_t=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==ce?void 0:ce.length)),gt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new Di(R.createdAt,R.lastLoginAt),isAnonymous:_t};Object.assign(y,gt)})).apply(this,arguments)}function j(){return(j=(0,c.Z)(function*(y){const p=(0,N.m9)(y);yield Vi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Z(y,p){return[...y.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function H(y){return y.map(p=>{var{providerId:m}=p,w=(0,ae._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function q(){return(q=(0,c.Z)(function*(y,p){const m=yield pr(y,{},(0,c.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,K=qs(y,A,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(K,{method:"POST",headers:ce,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){W(p.idToken,"internal-error"),W(void 0!==p.idToken,"internal-error"),W(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Dt(y){const p=ct(y);return W(p,"internal-error"),W(void 0!==p.exp,"internal-error"),W(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,c.Z)(function*(){return W(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:K}=yield function G(y,p){return q.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(A,R,Number(K))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:A,expirationTime:R}=m,K=new xe;return w&&(W("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),A&&(W("string"==typeof A,"internal-error",{appName:p}),K.accessToken=A),R&&(W("number"==typeof R,"internal-error",{appName:p}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function Ve(y,p){W("string"==typeof y||void 0===y,"internal-error",{appName:p})}class ht{constructor(p){var{uid:m,auth:w,stsTokenManager:A}=p,R=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Di(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const w=yield Ii(m,m.stsTokenManager.getToken(m.auth,p));return W(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Or(y){return sa.apply(this,arguments)}(this,p)}reload(){return function Ws(y){return j.apply(this,arguments)}(this)}_assign(p){this!==p&&(W(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ht(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield Vi(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Ii(p,function wt(y,p){return nr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,A,R,K,ce,Fe,rt,_t;const gt=null!==(w=m.displayName)&&void 0!==w?w:void 0,Ln=null!==(A=m.email)&&void 0!==A?A:void 0,Dr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,pc=null!==(K=m.photoURL)&&void 0!==K?K:void 0,Jf=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,bg=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,cl=null!==(rt=m.createdAt)&&void 0!==rt?rt:void 0,Ou=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:ph,emailVerified:wg,isAnonymous:Gi,providerData:ep,stsTokenManager:tp}=m;W(ph&&tp,p,"internal-error");const np=xe.fromJSON(this.name,tp);W("string"==typeof ph,p,"internal-error"),Ve(gt,p.name),Ve(Ln,p.name),W("boolean"==typeof wg,p,"internal-error"),W("boolean"==typeof Gi,p,"internal-error"),Ve(Dr,p.name),Ve(pc,p.name),Ve(Jf,p.name),Ve(bg,p.name),Ve(cl,p.name),Ve(Ou,p.name);const mc=new ht({uid:ph,auth:p,email:Ln,emailVerified:wg,displayName:gt,isAnonymous:Gi,photoURL:pc,phoneNumber:Dr,tenantId:Jf,stsTokenManager:np,createdAt:cl,lastLoginAt:Ou});return ep&&Array.isArray(ep)&&(mc.providerData=ep.map(gc=>Object.assign({},gc))),bg&&(mc._redirectEventId=bg),mc}static _fromIdTokenResponse(p,m,w=!1){return(0,c.Z)(function*(){const A=new xe;A.updateFromServerResponse(m);const R=new ht({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield Vi(R),R})()}}const Wt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,c.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function oi(y,p,m){return`firebase:${y}:${p}:${m}`}class Vt{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=oi(this.userKey,A.apiKey,R),this.fullPersistenceKey=oi("persistence",A.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ht._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Vt(te(Wt),p,w);const A=(yield Promise.all(m.map(function(){var rt=(0,c.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let R=A[0]||te(Wt);const K=oi(w,p.config.apiKey,p.name);let ce=null;for(const rt of m)try{const _t=yield rt._get(K);if(_t){const gt=ht._fromJSON(p,_t);rt!==R&&(ce=gt),R=rt;break}}catch(_t){}const Fe=A.filter(rt=>rt._shouldAllowMigration);return R._shouldAllowMigration&&Fe.length?(R=Fe[0],ce&&(yield R._set(K,ce.toJSON())),yield Promise.all(m.map(function(){var rt=(0,c.Z)(function*(_t){if(_t!==R)try{yield _t._remove(K)}catch(gt){}});return function(_t){return rt.apply(this,arguments)}}())),new Vt(R,p,w)):new Vt(R,p,w)})()}}function gr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Jn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Yr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ts(p))return"Blackberry";if(ei(p))return"Webos";if(oa(p))return"Safari";if((p.includes("chrome/")||Va(p))&&!p.includes("edge/"))return"Chrome";if(Bi(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Yr(y=(0,N.z$)()){return/firefox\//i.test(y)}function oa(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Va(y=(0,N.z$)()){return/crios\//i.test(y)}function Jn(y=(0,N.z$)()){return/iemobile/i.test(y)}function Bi(y=(0,N.z$)()){return/android/i.test(y)}function Ts(y=(0,N.z$)()){return/blackberry/i.test(y)}function ei(y=(0,N.z$)()){return/webos/i.test(y)}function ir(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ks(y=(0,N.z$)()){return ir(y)||Bi(y)||ei(y)||Ts(y)||/windows phone/i.test(y)||Jn(y)}function aa(y,p=[]){let m;switch(y){case"Browser":m=gr((0,N.z$)());break;case"Worker":m=`${gr((0,N.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${w}`}class rr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=R=>new Promise((K,ce)=>{try{K(p(R))}catch(Fe){ce(Fe)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){var w;if(m.auth.currentUser===p)return;const A=[];try{for(const R of m.queue)yield R(p),R.onAbort&&A.push(R.onAbort)}catch(R){A.reverse();for(const K of A)try{K()}catch(ce){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Qe{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rn(this),this.idTokenSubscription=new rn(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=te(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield Vt.create(w,p),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(K){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let R=A,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Fe=null==R?void 0:R._redirectEventId,rt=yield m.tryRedirectSignIn(p);(!ce||ce===Fe)&&(null==rt?void 0:rt.user)&&(R=rt.user,K=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ce){R=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return W(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){var w;try{yield Vi(p)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Xe(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&W(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return p&&W(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(te(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&te(p)||m._popupRedirectResolver;W(w,m,"argument-error"),m.redirectPersistenceManager=yield Vt.create(m,[te(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,A){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return W(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function ft(y){return(0,N.m9)(y)}class rn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Xr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Pr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ce("not implemented")}_getIdTokenResponse(p){return Ce("not implemented")}_linkToIdToken(p,m){return Ce("not implemented")}_getReauthenticationResolver(p){return Ce("not implemented")}}function Rn(y,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:resetPassword",Kt(y,p))})).apply(this,arguments)}function Ua(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pl(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",Kt(y,p))})).apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithPassword",Kt(y,p))})).apply(this,arguments)}function Qs(y,p){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendOobCode",Kt(y,p))})).apply(this,arguments)}function cn(y,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function Ha(y,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function _r(y,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function Ed(y,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(y,p){return Qs(y,p)})).apply(this,arguments)}function tu(){return(tu=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}class Si extends Pr{constructor(p,m,w,A=null){super("password",w),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Si(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Si(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function ti(y,p){return Io.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function es(y,p){return tu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Ua(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Gm(y,p){return Cd.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xs(y,p){return Id.apply(this,arguments)}function Id(){return(Id=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithIdp",Kt(y,p))})).apply(this,arguments)}class As extends Pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new As(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=m,R=(0,ae._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const K=new As(w,A);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(p){return Xs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Xs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function nu(y,p){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,p))})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p))})).apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(y,p){const m=yield er(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p));if(m.temporaryProof)throw Wr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Zm={USER_NOT_FOUND:"user-not-found"};function Sd(){return(Sd=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Zm)})).apply(this,arguments)}class la extends Pr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new la({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new la({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function iu(y,p){return Js.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function qm(y,p){return Td.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Wm(y,p){return Sd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}=p;return w||m||A||R?new la({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class Fl{constructor(p){var m,w,A,R,K,ce;const Fe=(0,N.zd)((0,N.pd)(p)),rt=null!==(m=Fe.apiKey)&&void 0!==m?m:null,_t=null!==(w=Fe.oobCode)&&void 0!==w?w:null,gt=function Af(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Fe.mode)&&void 0!==A?A:null);W(rt&&_t&&gt,"argument-error"),this.apiKey=rt,this.operation=gt,this.code=_t,this.continueUrl=null!==(R=Fe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=Fe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ce=Fe.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const m=function $a(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||p||y}(p);try{return new Fl(m)}catch(w){return null}}}let xd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Si._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=Fl.parseLink(w);return W(A,"argument-error"),Si._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ai{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Do extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ts extends Do{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return W("providerId"in m&&"signInMethod"in m,"argument-error"),As._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return W(p.idToken||p.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ts.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ts.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:K,providerId:ce}=p;if(!w&&!A&&!m&&!R||!ce)return null;try{return new ts(ce)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:R})}catch(Fe){return null}}}let ca=(()=>{class y extends Do{constructor(){super("facebook.com")}static credential(m){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Md=(()=>{class y extends Do{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return y.credential(w,A)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),xf=(()=>{class y extends Do{constructor(){super("github.com")}static credential(m){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class So extends Pr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Xs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Xs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:R}=m;return w&&A&&R&&w===A?new So(w,R):null}static _create(p,m){return new So(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends Ai{constructor(p){W(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ui.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ui.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=So.fromJSON(p);return W(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return So._create(w,m)}catch(A){return null}}}let kd=(()=>{class y extends Do{constructor(){super("twitter.com")}static credential(m,w){return As._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return y.credential(w,A)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ai(y,p){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signUp",Kt(y,p))})).apply(this,arguments)}class yr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,A=!1){return(0,c.Z)(function*(){const R=yield ht._fromIdTokenResponse(p,w,A),K=ru(w);return new yr({user:R,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=ru(w);return new yr({user:p,providerId:A,_tokenResponse:w,operationType:m})})()}}function ru(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function su(){return(su=(0,c.Z)(function*(y){var p;const m=ft(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new yr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield ai(m,{returnSecureToken:!0}),A=yield yr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class ha extends N.ZR{constructor(p,m,w,A){var R;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ha.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,A){return new ha(p,m,w,A)}}function ou(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ha._fromErrorAndOperation(y,R,p,w):R})}function ns(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function un(){return(un=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y);yield en(!0,m,p);const{providerUserInfo:w}=yield Mn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=ns(w||[]);return m.providerData=m.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ga(y,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(y,p,m=!1){const w=yield Ii(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return yr._forOperation(y,"link",w)})).apply(this,arguments)}function en(y,p,m){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(y,p,m){yield Vi(p);const A=!1===y?"provider-already-linked":"no-such-provider";W(ns(p.providerData).has(m)===y,p.auth,A)})).apply(this,arguments)}function Ll(y,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(y,p,m=!1){var w;const{auth:A}=y,R="reauthenticate";try{const K=yield Ii(y,ou(A,R,p,y),m);W(K.idToken,A,"internal-error");const ce=ct(K.idToken);W(ce,A,"internal-error");const{sub:Fe}=ce;return W(y.uid===Fe,A,"user-mismatch"),yr._forOperation(y,R,K)}catch(K){throw"auth/user-not-found"===(null===(w=K)||void 0===w?void 0:w.code)&&Ae(A,"user-mismatch"),K}})).apply(this,arguments)}function gi(y,p){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(y,p,m=!1){const w="signIn",A=yield ou(y,w,p),R=yield yr._fromIdTokenResponse(y,w,A);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Cn(y,p){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(y,p){return gi(ft(y),p)})).apply(this,arguments)}function _i(y,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y);return yield en(!1,m,p.providerId),Ga(m,p)})).apply(this,arguments)}function xs(y,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(y,p){return Ll((0,N.m9)(y),p)})).apply(this,arguments)}function Nr(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y,p){return er(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,p))})).apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(y,p){const m=ft(y),w=yield Nr(m,{token:p,returnSecureToken:!0}),A=yield yr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class to{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?lu._fromServerResponse(p,m):Ae(p,"internal-error")}}class lu extends to{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new lu(m)}}function Za(y,p,m){var w;W((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),W(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(W(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(W(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Vl(){return(Vl=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),A={requestType:"PASSWORD_RESET",email:p};m&&Za(w,A,m),yield Ha(w,A)})).apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(y,p,m){yield Rn((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(y,p){yield Pl((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ht(y,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y),w=yield Rn(m,{oobCode:p}),A=w.requestType;switch(W(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(w.mfaInfo,m,"internal-error");default:W(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=to._fromServerResponse(ft(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(y,p){const{data:m}=yield Ht((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(y,p,m){const w=ft(y),A=yield ai(w,{returnSecureToken:!0,email:p,password:m}),R=yield yr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};W(m.handleCodeInApp,w,"argument-error"),m&&Za(w,A,m),yield _r(w,A)})).apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),A=xd.credentialWithLink(p,m||Pe());return W(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Cn(w,A)})).apply(this,arguments)}function xi(y,p){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:createAuthUri",Kt(y,p))})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(y,p){const w={identifier:p,continueUri:pt()?Pe():"http://localhost"},{signinMethods:A}=yield xi((0,N.m9)(y),w);return A||[]})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Za(m.auth,A,p);const{email:R}=yield cn(m.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Za(w.auth,R,m);const{email:K}=yield Ed(w.auth,R);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function mu(y,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,N.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield Ii(w,mu(w.auth,R));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const ce=w.providerData.find(({providerId:Fe})=>"password"===Fe);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function ql(y,p,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(y,p,m){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const K=yield Ii(y,Ua(w,R));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ga{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Ld extends ga{constructor(p,m,w,A){super(p,m,w),this.username=A}}class Zl extends ga{constructor(p,m){super(p,"facebook.com",m)}}class or extends Ld{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class kf extends ga{constructor(p,m){super(p,"google.com",m)}}class gu extends Ld{constructor(p,m,w){super(p,"twitter.com",m,w)}}function li(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Fd(y){var p,m;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const K=null===(m=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new ga(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new Zl(R,A);case"github.com":return new or(R,A);case"google.com":return new kf(R,A);case"twitter.com":return new gu(R,A,y.screenName||null);case"custom":case"anonymous":return new ga(R,null);default:return new ga(R,w,A)}}(m)}class ks{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ks("enroll",p)}static _fromMfaPendingCredential(p){return new ks("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ks._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return ks._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Po{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=ft(p),A=m.customData._serverResponse,R=(A.mfaInfo||[]).map(ce=>to._fromServerResponse(w,ce));W(A.mfaPendingCredential,w,"internal-error");const K=ks._fromMfaPendingCredential(A.mfaPendingCredential);return new Po(K,R,function(){var ce=(0,c.Z)(function*(Fe){const rt=yield Fe._process(w,K);delete A.mfaInfo,delete A.mfaPendingCredential;const _t=Object.assign(Object.assign({},A),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(m.operationType){case"signIn":const gt=yield yr._fromIdTokenResponse(w,m.operationType,_t);return yield w._updateCurrentUser(gt.user),gt;case"reauthenticate":return W(m.user,w,"internal-error"),yr._forOperation(m.user,m.operationType,_t);default:Ae(w,"internal-error")}});return function(Fe){return ce.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function Bd(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,p))}class _a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>to._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new _a(p)}getSession(){var p=this;return(0,c.Z)(function*(){return ks._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,c.Z)(function*(){const A=p,R=yield w.getSession(),K=yield Ii(w.user,A._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){var w;const A="string"==typeof p?p:p.uid,R=yield m.user.getIdToken(),K=yield Ii(m.user,function No(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,p))}(m.user.auth,{idToken:R,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ce})=>ce!==A),yield m.user._updateTokensIfNecessary(K);try{yield m.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(w=ce)||void 0===w?void 0:w.code))throw ce}})()}}const Wl=new WeakMap,ss="__sak";class Ka{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ss,"1"),this.storage.removeItem(ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const vt=(()=>{class y extends Ka{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xm(){const y=(0,N.z$)();return oa(y)||ir(y)}()&&function mi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ks(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&m(w,R,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ce,Fe,rt)=>{this.notifyListeners(ce,rt)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const R=()=>{const ce=this.storage.getItem(A);!w&&this.localCache[A]===ce||this.notifyListeners(A,ce)},K=this.storage.getItem(A);!function Ba(){return(0,N.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,R=this;return(0,c.Z)(function*(){yield A().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,c.Z)(function*(){const R=yield w().call(A,m);return A.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,A=this;return(0,c.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),sn=(()=>{class y extends Ka{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Ud=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const A=m,{eventId:R,eventType:K,data:ce}=A.data,Fe=w.handlersMap[K];if(!(null==Fe?void 0:Fe.size))return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const rt=Array.from(Fe).map(function(){var gt=(0,c.Z)(function*(Ln){return Ln(A.origin,ce)});return function(Ln){return gt.apply(this,arguments)}}()),_t=yield function Qa(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(rt);A.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:_t})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ya(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class io{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var A=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,ce;return new Promise((Fe,rt)=>{const _t=ya("",20);R.port1.start();const gt=setTimeout(()=>{rt(new Error("unsupported_event"))},w);ce={messageChannel:R,onMessage(Ln){const Dr=Ln;if(Dr.data.eventId===_t)switch(Dr.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Fe(Dr.data.response);break;default:clearTimeout(gt),clearTimeout(K),rt(new Error("invalid_response"))}}},A.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:p,eventId:_t,data:m},[R.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function On(){return window}function os(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Hd(){return(Hd=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Xa="firebaseLocalStorageDb",as="firebaseLocalStorage",Ja="fbase_key";class Rs{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function so(y,p){return y.transaction([as],p?"readwrite":"readonly").objectStore(as)}function oo(){const y=indexedDB.open(Xa,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(as,{keyPath:Ja})}catch(A){m(A)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(as)?p(w):(w.close(),yield function ci(){const y=indexedDB.deleteDatabase(Xa);return new Rs(y).toPromise()}(),p(yield oo()))}))})}function el(y,p,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(y,p,m){const w=so(y,!0).put({[Ja]:p,value:m});return new Rs(w).toPromise()})).apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(y,p){const m=so(y,!1).get(p),w=yield new Rs(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ao(y,p){const m=so(y,!0).delete(p);return new Rs(m).toPromise()}const yi=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield oo()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return os()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Ud._getInstance(function Kl(){return os()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(A,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function tt(){return Hd.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new io(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function jd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield oo();return yield el(m,ss,"1"),yield ao(m,ss),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(R=>el(R,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const A=yield w._withRetries(R=>function Lo(y,p){return va.apply(this,arguments)}(R,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(A=>ao(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(K=>{const ce=so(K,!1).getAll();return new Rs(ce).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:K,value:ce}of w)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(ce)&&(m.notifyListeners(K,ce),A.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),A.push(K));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function vn(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,p))}function on(){return(on=(0,c.Z)(function*(y){return(yield Ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=A=>{const R=ye("internal-error");R.customData=A,m(R)},w.type="text/javascript",w.charset="UTF-8",function gn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function co(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ki=1e12;class $n{constructor(p){this.auth=p,this.counter=ki,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Vr(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||ki;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ki))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(p||ki))||void 0===w||w.execute(),""})()}}class Vr{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;W(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $d(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vu=co("rcb"),In=new tn(3e4,6e4);class zd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=On().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return W(function tl(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(On().grecaptcha):new Promise((w,A)=>{const R=On().setTimeout(()=>{A(ye(p,"network-request-failed"))},In.get());On()[vu]=()=>{On().clearTimeout(R),delete On()[vu];const ce=On().grecaptcha;if(!ce)return void A(ye(p,"internal-error"));const Fe=ce.render;ce.render=(rt,_t)=>{const gt=Fe(rt,_t);return this.counter++,gt},this.hostLanguage=m,w(ce)},Pn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:vu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),A(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=On().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vi{load(p){return(0,c.Z)(function*(){return new $n(p)})()}clearedOneInstance(){}}const Of="recaptcha",Vo={theme:"light",type:"image"};class Pf{constructor(p,m=Object.assign({},Vo),w){this.parameters=m,this.type=Of,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(w),this.isInvisible="invisible"===this.parameters.size,W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;W(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vi:new zd,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const K=ce=>{!ce||(p.tokenChangeListeners.delete(K),R(ce))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=On()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){W(pt()&&!os(),p.auth,"internal-error"),yield function Ps(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Mi(y){return on.apply(this,arguments)}(p.auth);W(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qd{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=la._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ba(){return(ba=(0,c.Z)(function*(y,p,m){const w=ft(y),A=yield ji(w,p,(0,N.m9)(m));return new qd(A,R=>Cn(w,R))})).apply(this,arguments)}function Zd(){return(Zd=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);yield en(!1,w,"phone");const A=yield ji(w.auth,p,(0,N.m9)(m));return new qd(A,R=>_i(w,R))})).apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),A=yield ji(w.auth,p,(0,N.m9)(m));return new qd(A,R=>xs(w,R))})).apply(this,arguments)}function ji(y,p,m){return il.apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(y,p,m){var w;const A=yield m.verify();try{let R;if(W("string"==typeof A,y,"argument-error"),W(m.type===Of,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const K=R.session;if("phoneNumber"in R)return W("enroll"===K.type,y,"internal-error"),(yield Bd(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{W("signin"===K.type,y,"internal-error");const ce=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return W(ce,y,"missing-multi-factor-info"),(yield vn(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield nu(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return K}}finally{m._reset()}})).apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(y,p){yield Ga((0,N.m9)(y),p)})).apply(this,arguments)}let wa=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=ft(m)}verifyPhoneNumber(m,w){return ji(this.auth,m,(0,N.m9)(w))}static credential(m,w){return la._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?la._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function uo(y,p){return p?te(p):(W(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Yl extends Pr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Xs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Xs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Bt(y){return gi(y.auth,new Yl(y),y.bypassAuthState)}function Wd(y){const{auth:p,user:m}=y;return W(m,p,"internal-error"),Ll(m,new Yl(y),y.bypassAuthState)}function Ns(y){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return W(m,p,"internal-error"),Ga(m,new Yl(y),y.bypassAuthState)})).apply(this,arguments)}class ho{constructor(p,m,w,A,R=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:K,error:ce,type:Fe}=p;if(ce)return void m.reject(ce);const rt={auth:m.auth,requestUri:w,sessionId:A,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(rt))}catch(_t){m.reject(_t)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return Ns;case"reauthViaPopup":case"reauthViaRedirect":return Wd;default:Ae(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fo=new tn(2e3,1e4);function Ea(){return(Ea=(0,c.Z)(function*(y,p,m){const w=ft(y);Be(y,p,Ai);const A=uo(w,m);return new Yd(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);return new Yd(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);return new Yd(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let Yd=(()=>{class y extends ho{constructor(m,w,A,R,K){super(m,w,R,K),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return W(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const w=ya();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,fo.get())};m()}}return y.currentPopupAction=null,y})();const ui=new Map;class Xl extends ho{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=ui.get(m.auth._key());if(!w){try{const R=(yield function Jm(y,p){return $i.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}ui.set(m.auth._key(),w)}return m.bypassAuthState||ui.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function $i(){return($i=(0,c.Z)(function*(y,p){const m=ec(p),w=Jl(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function Ca(y,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,p){return Jl(y)._set(ec(p),"true")})).apply(this,arguments)}function Xd(y,p){ui.set(y._key(),p)}function Jl(y){return te(y._redirectPersistence)}function ec(y){return oi("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,c.Z)(function*(y,p,m){const w=ft(y);Be(y,p,Ai);const A=uo(w,m);return yield Ca(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);yield Ca(A,w.auth);const R=yield lt(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,Ai);const A=uo(w.auth,m);yield en(!1,w,p.providerId),yield Ca(A,w.auth);const R=yield lt(w);return A._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(y,p){return yield ft(y)._initializationPromise,It(y,p,!1)})).apply(this,arguments)}function It(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(y,p,m=!1){const w=ft(y),A=uo(w,p),K=yield new Xl(w,A,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function lt(y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(y){const p=ya(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class po{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function nc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!cs(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mo(p))}saveEventToCache(p){this.cachedEventUids.add(mo(p)),this.lastProcessedEventTime=Date.now()}}function mo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function cs({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function rl(y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(y,p={}){return Ut(y,"GET","/v1/projects",p)})).apply(this,arguments)}const us=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Br=/^https?/;function Lf(){return(Lf=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield rl(y);for(const m of p)try{if(dw(m))return}catch(w){}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function dw(y){const p=Pe(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!Br.test(m))return!1;if(us.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const eg=new tn(3e4,6e4);function Vf(){const y=On().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ic=null;function Ho(y){return ic=ic||function tg(y){return new Promise((p,m)=>{var w,A,R;function K(){Vf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Vf(),m(ye(y,"network-request-failed"))},timeout:eg.get()})}if(null===(A=null===(w=On().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=On().gapi)||void 0===R?void 0:R.load)){const ce=co("iframefcb");return On()[ce]=()=>{gapi.load?K():m(ye(y,"network-request-failed"))},Pn(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Fe=>m(Fe))}K()}}).catch(p=>{throw ic=null,p})}(y),ic}const rc=new tn(5e3,15e3),sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ng(y){const p=y.config;W(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?xn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ue.SDK_VERSION},A=oc.get(y.config.apiHost);A&&(w.eid=A);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function jo(){return jo=(0,c.Z)(function*(y){const p=yield Ho(y),m=On().gapi;return W(m,y,"internal-error"),p.open({where:document.body,url:ng(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sc,dontclear:!0},w=>new Promise(function(){var A=(0,c.Z)(function*(R,K){yield w.restyle({setHideOnLeave:!1});const ce=ye(y,"network-request-failed"),Fe=On().setTimeout(()=>{K(ce)},rc.get());function rt(){On().clearTimeout(Fe),R(w)}w.ping(rt).then(rt,()=>{K(ce)})});return function(R,K){return A.apply(this,arguments)}}()))}),jo.apply(this,arguments)}const eh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ig{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Cr(y,p,m,w,A,R){W(y.config.authDomain,y,"auth-domain-config-required"),W(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ue.SDK_VERSION,eventId:A};if(p instanceof Ai){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Fe,rt]of Object.entries(R||{}))K[Fe]=rt}if(p instanceof Do){const Fe=p.getScopes().filter(rt=>""!==rt);Fe.length>0&&(K.scopes=Fe.join(","))}y.tenantId&&(K.tid=y.tenantId);const ce=K;for(const Fe of Object.keys(ce))void 0===ce[Fe]&&delete ce[Fe];return`${function go({config:y}){return y.emulator?xn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ce).slice(1)}`}const ac="webStorageSupport";class Iu extends class wy{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Iu(p)}_finalizeEnroll(p,m,w){return function Qm(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function yu(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ey=(()=>{class y{constructor(){}static assertion(m){return Iu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Hf="@firebase/auth";class og{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sl(){return window}function ds(){return(ds=(0,c.Z)(function*(y,p,m){var w;const{BuildInfo:A}=sl();Y(p.sessionId,"AuthEvent did not contain a session ID");const R=yield fw(p.sessionId),K={};return ir()?K.ibi=A.packageName:Bi()?K.apn=A.packageName:Ae(y,"operation-not-supported-in-this-environment"),A.displayName&&(K.appDisplayName=A.displayName),K.sessionId=R,Cr(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function rh(){return(rh=(0,c.Z)(function*(y){const{BuildInfo:p}=sl(),m={};ir()?m.iosBundleId=p.packageName:Bi()?m.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield rl(y,m)})).apply(this,arguments)}function ag(){return(ag=(0,c.Z)(function*(y,p,m){const{cordova:w}=sl();let A=()=>{};try{yield new Promise((R,K)=>{let ce=null;function Fe(){var gt;R();const Ln=null===(gt=w.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof Ln&&Ln(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function rt(){ce||(ce=window.setTimeout(()=>{K(ye(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}p.addPassiveListener(Fe),document.addEventListener("resume",rt,!1),Bi()&&document.addEventListener("visibilitychange",_t,!1),A=()=>{p.removePassiveListener(Fe),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",_t,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function fw(y){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(y){const p=$f(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $f(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function Cy(y){(0,ue._registerComponent)(new ie.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:R,authDomain:K}=w.options;return((ce,Fe)=>{W(R&&!R.includes(":"),"invalid-api-key",{appName:ce.name}),W(!(null==K?void 0:K.includes(":")),"argument-error",{appName:ce.name});const rt={apiKey:R,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aa(y)},_t=new Qe(ce,Fe,rt);return function le(y,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(te);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(_t,m),_t})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ie.wA("auth-internal",p=>{const m=ft(p.getProvider("auth").getImmediate());return new og(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Hf,"0.20.6",function ih(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(Hf,"0.20.6","esm2017")}("Browser");class oh extends po{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function uc(y){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(y){const p=yield Au()._get(dc(y));return p&&(yield Au()._remove(dc(y))),p})).apply(this,arguments)}function cg(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Au(){return te(vt)}function dc(y){return oi("authEvent",y.config.apiKey,y.name)}function lr(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}function ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function Da(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function pg(y=(0,N.z$)()){return!("file:"!==Da()&&"ionic:"!==Da()&&"capacitor:"!==Da()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function qf(){try{const y=self.localStorage,p=ya();if(y)return y.setItem(p,"1"),y.removeItem(p),!function ch(y=(0,N.z$)()){return function hc(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function di(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return uh()&&(0,N.hl)()}return!1}function uh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bi(){return(function fg(){return"http:"===Da()||"https:"===Da()}()||(0,N.ru)()||pg())&&!function zf(){return(0,N.b$)()||(0,N.UG)()}()&&qf()&&!uh()}function fc(){return pg()&&"undefined"!=typeof document}function Mu(){return(Mu=(0,c.Z)(function*(){return!!fc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const cr={LOCAL:"local",NONE:"none",SESSION:"session"},Ta=W,Wf="persistence";function al(y){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,c.Z)(function*(y){yield y._initializationPromise;const p=dh(),m=oi(Wf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function dh(){var y;try{return(null===(y=function xy(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const ky=W;class hs{constructor(){this.browserResolver=te(class rg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sn,this._completeRedirectFn=It,this._overrideRedirectResult=Xd}_openPopup(p,m,w,A){var R=this;return(0,c.Z)(function*(){var K;Y(null===(K=R.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ce=Cr(p,m,w,Pe(),A);return function Cu(y,p,m,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Fe=Object.assign(Object.assign({},eh),{width:w.toString(),height:A.toString(),top:R,left:K}),rt=(0,N.z$)().toLowerCase();m&&(ce=Va(rt)?"_blank":m),Yr(rt)&&(p=p||"http://localhost",Fe.scrollbars="yes");const _t=Object.entries(Fe).reduce((Ln,[Dr,pc])=>`${Ln}${Dr}=${pc},`,"");if(function Co(y=(0,N.z$)()){var p;return ir(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(rt)&&"_self"!==ce)return function yy(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ce),new ig(null);const gt=window.open(p||"",ce,_t);W(gt,y,"popup-blocked");try{gt.focus()}catch(Ln){}return new ig(gt)}(p,ce,ya())})()}_openRedirect(p,m,w,A){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(p),function ro(y){On().location.href=y}(Cr(p,m,w,Pe(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:R}=this.eventManagers[m];return A?Promise.resolve(A):(Y(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const w=yield function hw(y){return jo.apply(this,arguments)}(p),A=new po(p);return w.register("authEvent",R=>(W(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ac,{type:ac},A=>{var R;const K=null===(R=null==A?void 0:A[0])||void 0===R?void 0:R[ac];void 0!==K&&m(!!K),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ia(y){return Lf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ks()||oa()||ir()}}),this.cordovaResolver=te(class dg{constructor(){this._redirectPersistence=sn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=It,this._overrideRedirectResult=Xd}_initialize(p){var m=this;return(0,c.Z)(function*(){const w=p._key();let A=m.eventManagers.get(w);return A||(A=new oh(p),m.eventManagers.set(w,A),m.attachCallbackListeners(p,A)),A})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,A){var R=this;return(0,c.Z)(function*(){!function cc(y){var p,m,w,A,R,K,ce,Fe,rt,_t;const gt=sl();W("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W("function"==typeof(null===(R=null===(A=null===(w=null==gt?void 0:gt.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(Fe=null===(ce=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Fe?void 0:Fe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(_t=null===(rt=null==gt?void 0:gt.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield R._initialize(p);yield K.initialized(),K.resetRedirect(),function Qd(){ui.clear()}(),yield R._originValidation(p);const ce=function ah(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:cg(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(p,w,A);yield function lg(y,p){return Au()._set(dc(y),p)}(p,ce);const Fe=yield function jf(y,p,m){return ds.apply(this,arguments)}(p,ce,m),rt=yield function sh(y){const{cordova:p}=sl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let A=null;w?p.plugins.browsertab.openUrl(y):A=p.InAppBrowser.open(y,function wd(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(Fe);return function Go(y,p,m){return ag.apply(this,arguments)}(p,K,rt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Du(y){return rh.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=sl(),K=setTimeout((0,c.Z)(function*(){yield uc(p),m.onEvent(ol())}),500),ce=function(){var _t=(0,c.Z)(function*(gt){clearTimeout(K);const Ln=yield uc(p);let Dr=null;Ln&&(null==gt?void 0:gt.url)&&(Dr=function Dy(y,p){var m,w;const A=function xu(y){const p=lr(y),m=p.link?decodeURIComponent(p.link):void 0,w=lr(m).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return lr(A).link||A||w||m||y}(p);if(A.includes("/__/auth/callback")){const R=lr(A),K=R.firebaseError?function ug(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(w=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Fe=ce?ye(ce):null;return Fe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Ln,gt.url)),m.onEvent(Dr||ol())});return function(Ln){return _t.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Fe=A,rt=`${R.packageName.toLowerCase()}://`;sl().handleOpenURL=function(){var _t=(0,c.Z)(function*(gt){if(gt.toLowerCase().startsWith(rt)&&ce({url:gt}),"function"==typeof Fe)try{Fe(gt)}catch(Ln){console.error(Ln)}});return function(gt){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=sn,this._completeRedirectFn=It,this._overrideRedirectResult=Xd}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,A){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,w,A)})()}_openRedirect(p,m,w,A){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,w,A)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return fc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ky(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Zf(){return Mu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function hh(y){return y.unwrap()}function Oy(y){return mg(y)}function mg(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return wa.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Md;break;case"facebook.com":w=ca;break;case"github.com":w=xf;break;case"twitter.com":w=kd;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:K,pendingToken:ce,nonce:Fe}=p;return R||K||A||ce?ce?m.startsWith("saml.")?So._create(m,ce):As._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:A,accessToken:R}):new ts(m).credential({idToken:A,accessToken:R,rawNonce:Fe}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Ir(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function fh(y,p){var m,w;const A=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new Py(y,function ni(y,p){var m;const w=(0,N.m9)(y),A=p;return W(p.customData.operationType,w,"argument-error"),W(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Po._fromError(w,A)}(y,p));else if(A){const R=mg(p),K=p;R&&(K.credential=R,K.tenantId=A.tenantId||void 0,K.email=A.email||void 0,K.phoneNumber=A.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Oy(m),additionalUserInfo:li(m),user:Ls.getOrCreate(A)}})}function Yf(y,p){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Ir(y,m.confirm(w))}})).apply(this,arguments)}class Py{constructor(p,m){this.resolver=m,this.auth=function Ry(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ir(hh(this.auth),this.resolver.resolveSignIn(p))}}class Ls{constructor(p){this._delegate=p,this.multiFactor=function _u(y){const p=(0,N.m9)(y);return Wl.has(p)||Wl.set(p,_a._fromUser(p)),Wl.get(p)}(p)}static getOrCreate(p){return Ls.USER_MAP.has(p)||Ls.USER_MAP.set(p,new Ls(p)),Ls.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ir(m.auth,_i(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,c.Z)(function*(){return Yf(w.auth,function nl(y,p,m){return Zd.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return Ir(m.auth,function Ff(y,p,m){return Ql.apply(this,arguments)}(m._delegate,p,hs))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield al(ft(m.auth)),function Q(y,p,m){return function oe(y,p,m){return Te.apply(this,arguments)}(y,p,m)}(m._delegate,p,hs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ir(m.auth,xs(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Yf(this.auth,function Nf(y,p,m){return Hi.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ir(this.auth,function Fs(y,p,m){return wu.apply(this,arguments)}(this._delegate,p,hs))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield al(ft(m.auth)),function T(y,p,m){return function M(y,p,m){return V.apply(this,arguments)}(y,p,m)}(m._delegate,p,hs)})()}sendEmailVerification(p){return function Fr(y,p){return pu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function Mf(y,p){return un.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Pd(y,p){return ql((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Nd(y,p){return ql((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function bu(y,p){return Bo.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Gl(y,p){return zl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function jl(y,p,m){return $l.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;const Ru=W;let gg=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;Ru(A,"invalid-api-key",{appName:m.name}),Ru(A,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?hs:void 0;this._delegate=w.initialize({options:{persistence:Ny(A,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function sr(y,p,m){const w=ft(y);W(w._canInitEmulator,w,"emulator-config-failed"),W(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),R=Qr(p),{host:K,port:ce}=function Hn(y){const p=Qr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:Xr(w.substr(R.length+1))}}{const[R,K]=w.split(":");return{host:R,port:Xr(K)}}}(p);w.config.emulator={url:`${R}//${K}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function mn(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function pa(y,p){return Me.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ht(this._delegate,m)}confirmPasswordReset(m,w){return function Bl(y,p,m){return uu.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,c.Z)(function*(){return Ir(A._delegate,function ko(y,p,m){return vr.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Hl(y,p){return no.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Od(y,p){const m=Fl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Ru(bi(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function qe(y,p){return ut.apply(this,arguments)}(m._delegate,hs);return w?Ir(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function hg(y,p){ft(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:R,error:K,complete:ce}=_g(m,w,A);return this._delegate.onAuthStateChanged(R,K,ce)}onIdTokenChanged(m,w,A){const{next:R,error:K,complete:ce}=_g(m,w,A);return this._delegate.onIdTokenChanged(R,K,ce)}sendSignInLinkToEmail(m,w){return function hu(y,p,m){return fu.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function cu(y,p,m){return Vl.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,c.Z)(function*(){let A;switch(function My(y,p){Ta(Object.values(cr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Ta(p!==cr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Ta(p===cr.NONE,y,"unsupported-persistence-type"):uh()?Ta(p===cr.NONE||p===cr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Ta(p===cr.NONE||qf(),y,"unsupported-persistence-type")}(w._delegate,m),m){case cr.SESSION:A=sn;break;case cr.LOCAL:A=(yield te(yi)._isAvailable())?yi:vt;break;case cr.NONE:A=Wt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ir(this._delegate,function Rd(y){return su.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ir(this._delegate,Cn(this._delegate,m))}signInWithCustomToken(m){return Ir(this._delegate,function fa(y,p){return Et.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Ir(this._delegate,function du(y,p,m){return Cn((0,N.m9)(y),xd.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Ir(this._delegate,function Km(y,p,m){return Ms.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Yf(this._delegate,function Nn(y,p,m){return ba.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,c.Z)(function*(){return Ru(bi(),w._delegate,"operation-not-supported-in-this-environment"),Ir(w._delegate,function Kd(y,p,m){return Ea.apply(this,arguments)}(w._delegate,m,hs))})()}signInWithRedirect(m){var w=this;return(0,c.Z)(function*(){return Ru(bi(),w._delegate,"operation-not-supported-in-this-environment"),yield al(w._delegate),function tc(y,p,m){return function ls(y,p,m){return C.apply(this,arguments)}(y,p,m)}(w._delegate,m,hs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function yn(y,p){return Ul.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=cr,y})();function _g(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const A=w;return{next:K=>A(K&&Ls.getOrCreate(K)),error:p,complete:m}}function Ny(y,p){const m=function ku(y,p){const m=dh();if(!m)return[];const w=oi(Wf,y,p);switch(m.getItem(w)){case cr.NONE:return[Wt];case cr.LOCAL:return[yi,sn];case cr.SESSION:return[sn];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(yi)&&m.push(yi),"undefined"!=typeof window)for(const w of[vt,sn])m.includes(w)||m.push(w);return m.includes(Wt)||m.push(Wt),m}class Xf{constructor(){this.providerId="phone",this._delegate=new wa(hh(ee.Z.auth()))}static credential(p,m){return wa.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Xf.PHONE_SIGN_IN_METHOD=wa.PHONE_SIGN_IN_METHOD,Xf.PROVIDER_ID=wa.PROVIDER_ID;const yg=W;class pw{constructor(p,m,w=ee.Z.app()){var A;yg(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Pf(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ll(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new gg(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:xd,FacebookAuthProvider:ca,GithubAuthProvider:xf,GoogleAuthProvider:Md,OAuthProvider:ts,SAMLAuthProvider:Ui,PhoneAuthProvider:Xf,PhoneMultiFactorGenerator:Ey,RecaptchaVerifier:pw,TwitterAuthProvider:kd,Auth:gg,AuthCredential:Pr,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.19")}(ee.Z)},8306:(it,Ee,P)=>{P.d(Ee,{y:()=>$});var c=P(930),ee=P(727),N=P(8822),ue=P(4671);var ie=P(2416),de=P(576),ge=P(2806);let $=(()=>{class Se{constructor(He){He&&(this._subscribe=He)}lift(He){const fe=new Se;return fe.source=this,fe.operator=He,fe}subscribe(He,fe,Ie){const Ke=function $e(Se){return Se&&Se instanceof c.Lv||function ne(Se){return Se&&(0,de.m)(Se.next)&&(0,de.m)(Se.error)&&(0,de.m)(Se.complete)}(Se)&&(0,ee.Nn)(Se)}(He)?He:new c.Hp(He,fe,Ie);return(0,ge.x)(()=>{const{operator:nt,source:Ae}=this;Ke.add(nt?nt.call(Ke,Ae):Ae?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(He){try{return this._subscribe(He)}catch(fe){He.error(fe)}}forEach(He,fe){return new(fe=z(fe))((Ie,Ke)=>{const nt=new c.Hp({next:Ae=>{try{He(Ae)}catch(ye){Ke(ye),nt.unsubscribe()}},error:Ke,complete:Ie});this.subscribe(nt)})}_subscribe(He){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(He)}[N.L](){return this}pipe(...He){return function me(Se){return 0===Se.length?ue.y:1===Se.length?Se[0]:function(He){return Se.reduce((fe,Ie)=>Ie(fe),He)}}(He)(this)}toPromise(He){return new(He=z(He))((fe,Ie)=>{let Ke;this.subscribe(nt=>Ke=nt,nt=>Ie(nt),()=>fe(Ke))})}}return Se.create=Re=>new Se(Re),Se})();function z(Se){var Re;return null!==(Re=null!=Se?Se:ie.v.Promise)&&void 0!==Re?Re:Promise}},7579:(it,Ee,P)=>{P.d(Ee,{x:()=>ie});var c=P(8306),ee=P(727);const ue=(0,P(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=P(8737),me=P(2806);let ie=(()=>{class ge extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ne=new de(this,this);return ne.operator=z,ne}_throwIfClosed(){if(this.closed)throw new ue}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ne}=this;for(;ne.length;)ne.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ne,isStopped:$e,observers:Se}=this;return ne||$e?ee.Lc:(this.currentObservers=null,Se.push(z),new ee.w0(()=>{this.currentObservers=null,(0,ae.P)(Se,z)}))}_checkFinalizedStatuses(z){const{hasError:ne,thrownError:$e,isStopped:Se}=this;ne?z.error($e):Se&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return ge.create=($,z)=>new de($,z),ge})();class de extends ie{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ne||ne.call(z,$)}error($){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ne||ne.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,ne;return null!==(ne=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==ne?ne:ee.Lc}}},930:(it,Ee,P)=>{P.d(Ee,{Hp:()=>He,Lv:()=>ne});var c=P(576),ee=P(727),N=P(2416),ue=P(7849),ae=P(5032);const me=ge("C",void 0,void 0);function ge(Ae,ye,De){return{kind:Ae,value:ye,error:De}}var $=P(3410),z=P(2806);class ne extends ee.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,ee.Nn)(ye)&&ye.add(this)):this.destination=nt}static create(ye,De,Be){return new He(ye,De,Be)}next(ye){this.isStopped?Ke(function de(Ae){return ge("N",Ae,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ke(function ie(Ae){return ge("E",void 0,Ae)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ke(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Se(Ae,ye){return $e.call(Ae,ye)}class Re{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:De}=this;if(De.next)try{De.next(ye)}catch(Be){fe(Be)}}error(ye){const{partialObserver:De}=this;if(De.error)try{De.error(ye)}catch(Be){fe(Be)}else fe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(De){fe(De)}}}class He extends ne{constructor(ye,De,Be){let je;if(super(),(0,c.m)(ye)||!ye)je={next:null!=ye?ye:void 0,error:null!=De?De:void 0,complete:null!=Be?Be:void 0};else{let W;this&&N.v.useDeprecatedNextContext?(W=Object.create(ye),W.unsubscribe=()=>this.unsubscribe(),je={next:ye.next&&Se(ye.next,W),error:ye.error&&Se(ye.error,W),complete:ye.complete&&Se(ye.complete,W)}):je=ye}this.destination=new Re(je)}}function fe(Ae){N.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ae):(0,ue.h)(Ae)}function Ke(Ae,ye){const{onStoppedNotification:De}=N.v;De&&$.z.setTimeout(()=>De(Ae,ye))}const nt={closed:!0,next:ae.Z,error:function Ie(Ae){throw Ae},complete:ae.Z}},727:(it,Ee,P)=>{P.d(Ee,{Lc:()=>me,w0:()=>ae,Nn:()=>ie});var c=P(576);const N=(0,P(3888).d)(ge=>function(z){ge(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ne,$e)=>`${$e+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ue=P(8737);class ae{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Se of z)Se.remove(this);else z.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(Se){$=Se instanceof N?Se.errors:[Se]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Se of $e)try{de(Se)}catch(Re){$=null!=$?$:[],Re instanceof N?$=[...$,...Re.errors]:$.push(Re)}}if($)throw new N($)}}add($){var z;if($&&$!==this)if(this.closed)de($);else{if($ instanceof ae){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,ue.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,ue.P)(z,$),$ instanceof ae&&$._removeParent(this)}}ae.EMPTY=(()=>{const ge=new ae;return ge.closed=!0,ge})();const me=ae.EMPTY;function ie(ge){return ge instanceof ae||ge&&"closed"in ge&&(0,c.m)(ge.remove)&&(0,c.m)(ge.add)&&(0,c.m)(ge.unsubscribe)}function de(ge){(0,c.m)(ge)?ge():ge.unsubscribe()}},2416:(it,Ee,P)=>{P.d(Ee,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,Ee,P)=>{P.d(Ee,{E:()=>ee});const ee=new(P(8306).y)(ae=>ae.complete())},8996:(it,Ee,P)=>{P.d(Ee,{D:()=>ye});var c=P(8421),ee=P(5363),N=P(9468),me=P(8306),de=P(2202),ge=P(576),$=P(9672);function ne(De,Be){if(!De)throw new Error("Iterable cannot be null");return new me.y(je=>{(0,$.f)(je,Be,()=>{const W=De[Symbol.asyncIterator]();(0,$.f)(je,Be,()=>{W.next().then(Ce=>{Ce.done?je.complete():je.next(Ce.value)})},0,!0)})})}var $e=P(3670),Se=P(8239),Re=P(1144),He=P(6495),fe=P(2206),Ie=P(4532),Ke=P(3260);function ye(De,Be){return Be?function Ae(De,Be){if(null!=De){if((0,$e.c)(De))return function ue(De,Be){return(0,c.Xf)(De).pipe((0,N.R)(Be),(0,ee.Q)(Be))}(De,Be);if((0,Re.z)(De))return function ie(De,Be){return new me.y(je=>{let W=0;return Be.schedule(function(){W===De.length?je.complete():(je.next(De[W++]),je.closed||this.schedule())})})}(De,Be);if((0,Se.t)(De))return function ae(De,Be){return(0,c.Xf)(De).pipe((0,N.R)(Be),(0,ee.Q)(Be))}(De,Be);if((0,fe.D)(De))return ne(De,Be);if((0,He.T)(De))return function z(De,Be){return new me.y(je=>{let W;return(0,$.f)(je,Be,()=>{W=De[de.h](),(0,$.f)(je,Be,()=>{let Ce,Y;try{({value:Ce,done:Y}=W.next())}catch(re){return void je.error(re)}Y?je.complete():je.next(Ce)},0,!0)}),()=>(0,ge.m)(null==W?void 0:W.return)&&W.return()})}(De,Be);if((0,Ke.L)(De))return function nt(De,Be){return ne((0,Ke.Q)(De),Be)}(De,Be)}throw(0,Ie.z)(De)}(De,Be):(0,c.Xf)(De)}},8421:(it,Ee,P)=>{P.d(Ee,{Xf:()=>$e});var c=P(655),ee=P(1144),N=P(8239),ue=P(8306),ae=P(3670),me=P(2206),ie=P(4532),de=P(6495),ge=P(3260),$=P(576),z=P(7849),ne=P(8822);function $e(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,ae.c)(Ae))return function Se(Ae){return new ue.y(ye=>{const De=Ae[ne.L]();if((0,$.m)(De.subscribe))return De.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ee.z)(Ae))return function Re(Ae){return new ue.y(ye=>{for(let De=0;De<Ae.length&&!ye.closed;De++)ye.next(Ae[De]);ye.complete()})}(Ae);if((0,N.t)(Ae))return function He(Ae){return new ue.y(ye=>{Ae.then(De=>{ye.closed||(ye.next(De),ye.complete())},De=>ye.error(De)).then(null,z.h)})}(Ae);if((0,me.D)(Ae))return Ie(Ae);if((0,de.T)(Ae))return function fe(Ae){return new ue.y(ye=>{for(const De of Ae)if(ye.next(De),ye.closed)return;ye.complete()})}(Ae);if((0,ge.L)(Ae))return function Ke(Ae){return Ie((0,ge.Q)(Ae))}(Ae)}throw(0,ie.z)(Ae)}function Ie(Ae){return new ue.y(ye=>{(function nt(Ae,ye){var De,Be,je,W;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(Ae);!(Be=yield De.next()).done;)if(ye.next(Be.value),ye.closed)return}catch(Ce){je={error:Ce}}finally{try{Be&&!Be.done&&(W=De.return)&&(yield W.call(De))}finally{if(je)throw je.error}}ye.complete()})})(Ae,ye).catch(De=>ye.error(De))})}},6451:(it,Ee,P)=>{P.d(Ee,{T:()=>me});var c=P(8189),ee=P(8421),N=P(515),ue=P(3269),ae=P(8996);function me(...ie){const de=(0,ue.yG)(ie),ge=(0,ue._6)(ie,1/0),$=ie;return $.length?1===$.length?(0,ee.Xf)($[0]):(0,c.J)(ge)((0,ae.D)($,de)):N.E}},5403:(it,Ee,P)=>{P.d(Ee,{x:()=>ee});var c=P(930);function ee(ue,ae,me,ie,de){return new N(ue,ae,me,ie,de)}class N extends c.Lv{constructor(ae,me,ie,de,ge,$){super(ae),this.onFinalize=ge,this.shouldUnsubscribe=$,this._next=me?function(z){try{me(z)}catch(ne){ae.error(ne)}}:super._next,this._error=de?function(z){try{de(z)}catch(ne){ae.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(z){ae.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(it,Ee,P)=>{P.d(Ee,{U:()=>N});var c=P(4482),ee=P(5403);function N(ue,ae){return(0,c.e)((me,ie)=>{let de=0;me.subscribe((0,ee.x)(ie,ge=>{ie.next(ue.call(ae,ge,de++))}))})}},8189:(it,Ee,P)=>{P.d(Ee,{J:()=>N});var c=P(5577),ee=P(4671);function N(ue=1/0){return(0,c.z)(ee.y,ue)}},5577:(it,Ee,P)=>{P.d(Ee,{z:()=>de});var c=P(4004),ee=P(8421),N=P(4482),ue=P(9672),ae=P(5403),ie=P(576);function de(ge,$,z=1/0){return(0,ie.m)($)?de((ne,$e)=>(0,c.U)((Se,Re)=>$(ne,Se,$e,Re))((0,ee.Xf)(ge(ne,$e))),z):("number"==typeof $&&(z=$),(0,N.e)((ne,$e)=>function me(ge,$,z,ne,$e,Se,Re,He){const fe=[];let Ie=0,Ke=0,nt=!1;const Ae=()=>{nt&&!fe.length&&!Ie&&$.complete()},ye=Be=>Ie<ne?De(Be):fe.push(Be),De=Be=>{Se&&$.next(Be),Ie++;let je=!1;(0,ee.Xf)(z(Be,Ke++)).subscribe((0,ae.x)($,W=>{null==$e||$e(W),Se?ye(W):$.next(W)},()=>{je=!0},void 0,()=>{if(je)try{for(Ie--;fe.length&&Ie<ne;){const W=fe.shift();Re?(0,ue.f)($,Re,()=>De(W)):De(W)}Ae()}catch(W){$.error(W)}}))};return ge.subscribe((0,ae.x)($,ye,()=>{nt=!0,Ae()})),()=>{null==He||He()}}(ne,$e,ge,z)))}},5363:(it,Ee,P)=>{P.d(Ee,{Q:()=>ue});var c=P(9672),ee=P(4482),N=P(5403);function ue(ae,me=0){return(0,ee.e)((ie,de)=>{ie.subscribe((0,N.x)(de,ge=>(0,c.f)(de,ae,()=>de.next(ge),me),()=>(0,c.f)(de,ae,()=>de.complete(),me),ge=>(0,c.f)(de,ae,()=>de.error(ge),me)))})}},3099:(it,Ee,P)=>{P.d(Ee,{B:()=>ae});var c=P(8421),ee=P(7579),N=P(930),ue=P(4482);function ae(ie={}){const{connector:de=(()=>new ee.x),resetOnError:ge=!0,resetOnComplete:$=!0,resetOnRefCountZero:z=!0}=ie;return ne=>{let $e,Se,Re,He=0,fe=!1,Ie=!1;const Ke=()=>{null==Se||Se.unsubscribe(),Se=void 0},nt=()=>{Ke(),$e=Re=void 0,fe=Ie=!1},Ae=()=>{const ye=$e;nt(),null==ye||ye.unsubscribe()};return(0,ue.e)((ye,De)=>{He++,!Ie&&!fe&&Ke();const Be=Re=null!=Re?Re:de();De.add(()=>{He--,0===He&&!Ie&&!fe&&(Se=me(Ae,z))}),Be.subscribe(De),!$e&&He>0&&($e=new N.Hp({next:je=>Be.next(je),error:je=>{Ie=!0,Ke(),Se=me(nt,ge,je),Be.error(je)},complete:()=>{fe=!0,Ke(),Se=me(nt,$),Be.complete()}}),(0,c.Xf)(ye).subscribe($e))})(ne)}}function me(ie,de,...ge){if(!0===de)return void ie();if(!1===de)return;const $=new N.Hp({next:()=>{$.unsubscribe(),ie()}});return de(...ge).subscribe($)}},9468:(it,Ee,P)=>{P.d(Ee,{R:()=>ee});var c=P(4482);function ee(N,ue=0){return(0,c.e)((ae,me)=>{me.add(N.schedule(()=>ae.subscribe(me),ue))})}},8505:(it,Ee,P)=>{P.d(Ee,{b:()=>ae});var c=P(576),ee=P(4482),N=P(5403),ue=P(4671);function ae(me,ie,de){const ge=(0,c.m)(me)||ie||de?{next:me,error:ie,complete:de}:me;return ge?(0,ee.e)(($,z)=>{var ne;null===(ne=ge.subscribe)||void 0===ne||ne.call(ge);let $e=!0;$.subscribe((0,N.x)(z,Se=>{var Re;null===(Re=ge.next)||void 0===Re||Re.call(ge,Se),z.next(Se)},()=>{var Se;$e=!1,null===(Se=ge.complete)||void 0===Se||Se.call(ge),z.complete()},Se=>{var Re;$e=!1,null===(Re=ge.error)||void 0===Re||Re.call(ge,Se),z.error(Se)},()=>{var Se,Re;$e&&(null===(Se=ge.unsubscribe)||void 0===Se||Se.call(ge)),null===(Re=ge.finalize)||void 0===Re||Re.call(ge)}))}):ue.y}},4408:(it,Ee,P)=>{P.d(Ee,{o:()=>ae});var c=P(727);class ee extends c.w0{constructor(ie,de){super()}schedule(ie,de=0){return this}}const N={setInterval(me,ie,...de){const{delegate:ge}=N;return(null==ge?void 0:ge.setInterval)?ge.setInterval(me,ie,...de):setInterval(me,ie,...de)},clearInterval(me){const{delegate:ie}=N;return((null==ie?void 0:ie.clearInterval)||clearInterval)(me)},delegate:void 0};var ue=P(8737);class ae extends ee{constructor(ie,de){super(ie,de),this.scheduler=ie,this.work=de,this.pending=!1}schedule(ie,de=0){if(this.closed)return this;this.state=ie;const ge=this.id,$=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId($,ge,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId($,this.id,de),this}requestAsyncId(ie,de,ge=0){return N.setInterval(ie.flush.bind(ie,this),ge)}recycleAsyncId(ie,de,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return de;N.clearInterval(de)}execute(ie,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ie,de);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,de){let $,ge=!1;try{this.work(ie)}catch(z){ge=!0,$=z||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ie,scheduler:de}=this,{actions:ge}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ge,this),null!=ie&&(this.id=this.recycleAsyncId(de,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,Ee,P)=>{P.d(Ee,{v:()=>N});var c=P(6063);class ee{constructor(ae,me=ee.now){this.schedulerActionCtor=ae,this.now=me}schedule(ae,me=0,ie){return new this.schedulerActionCtor(this,ae).schedule(ie,me)}}ee.now=c.l.now;class N extends ee{constructor(ae,me=ee.now){super(ae,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:me}=this;if(this._active)return void me.push(ae);let ie;this._active=!0;do{if(ie=ae.execute(ae.state,ae.delay))break}while(ae=me.shift());if(this._active=!1,ie){for(;ae=me.shift();)ae.unsubscribe();throw ie}}}},4986:(it,Ee,P)=>{P.d(Ee,{P:()=>ue,z:()=>N});var c=P(4408);const N=new(P(7565).v)(c.o),ue=N},6063:(it,Ee,P)=>{P.d(Ee,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(it,Ee,P)=>{P.d(Ee,{z:()=>c});const c={setTimeout(ee,N,...ue){const{delegate:ae}=c;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(ee,N,...ue):setTimeout(ee,N,...ue)},clearTimeout(ee){const{delegate:N}=c;return((null==N?void 0:N.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(it,Ee,P)=>{P.d(Ee,{h:()=>ee});const ee=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,Ee,P)=>{P.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,Ee,P)=>{P.d(Ee,{_6:()=>me,jO:()=>ue,yG:()=>ae});var c=P(576),ee=P(3532);function N(ie){return ie[ie.length-1]}function ue(ie){return(0,c.m)(N(ie))?ie.pop():void 0}function ae(ie){return(0,ee.K)(N(ie))?ie.pop():void 0}function me(ie,de){return"number"==typeof N(ie)?ie.pop():de}},8737:(it,Ee,P)=>{function c(ee,N){if(ee){const ue=ee.indexOf(N);0<=ue&&ee.splice(ue,1)}}P.d(Ee,{P:()=>c})},3888:(it,Ee,P)=>{function c(ee){const ue=ee(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(Ee,{d:()=>c})},2806:(it,Ee,P)=>{P.d(Ee,{O:()=>ue,x:()=>N});var c=P(2416);let ee=null;function N(ae){if(c.v.useDeprecatedSynchronousErrorHandling){const me=!ee;if(me&&(ee={errorThrown:!1,error:null}),ae(),me){const{errorThrown:ie,error:de}=ee;if(ee=null,ie)throw de}}else ae()}function ue(ae){c.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ae)}},9672:(it,Ee,P)=>{function c(ee,N,ue,ae=0,me=!1){const ie=N.schedule(function(){ue(),me?ee.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(ee.add(ie),!me)return ie}P.d(Ee,{f:()=>c})},4671:(it,Ee,P)=>{function c(ee){return ee}P.d(Ee,{y:()=>c})},1144:(it,Ee,P)=>{P.d(Ee,{z:()=>c});const c=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(it,Ee,P)=>{P.d(Ee,{D:()=>ee});var c=P(576);function ee(N){return Symbol.asyncIterator&&(0,c.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(it,Ee,P)=>{function c(ee){return"function"==typeof ee}P.d(Ee,{m:()=>c})},3670:(it,Ee,P)=>{P.d(Ee,{c:()=>N});var c=P(8822),ee=P(576);function N(ue){return(0,ee.m)(ue[c.L])}},6495:(it,Ee,P)=>{P.d(Ee,{T:()=>N});var c=P(2202),ee=P(576);function N(ue){return(0,ee.m)(null==ue?void 0:ue[c.h])}},8239:(it,Ee,P)=>{P.d(Ee,{t:()=>ee});var c=P(576);function ee(N){return(0,c.m)(null==N?void 0:N.then)}},3260:(it,Ee,P)=>{P.d(Ee,{L:()=>ue,Q:()=>N});var c=P(655),ee=P(576);function N(ae){return(0,c.FC)(this,arguments,function*(){const ie=ae.getReader();try{for(;;){const{value:de,done:ge}=yield(0,c.qq)(ie.read());if(ge)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(de)}}finally{ie.releaseLock()}})}function ue(ae){return(0,ee.m)(null==ae?void 0:ae.getReader)}},3532:(it,Ee,P)=>{P.d(Ee,{K:()=>ee});var c=P(576);function ee(N){return N&&(0,c.m)(N.schedule)}},4482:(it,Ee,P)=>{P.d(Ee,{A:()=>ee,e:()=>N});var c=P(576);function ee(ue){return(0,c.m)(null==ue?void 0:ue.lift)}function N(ue){return ae=>{if(ee(ae))return ae.lift(function(me){try{return ue(me,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,Ee,P)=>{function c(){}P.d(Ee,{Z:()=>c})},7849:(it,Ee,P)=>{P.d(Ee,{h:()=>N});var c=P(2416),ee=P(3410);function N(ue){ee.z.setTimeout(()=>{const{onUnhandledError:ae}=c.v;if(!ae)throw ue;ae(ue)})}},4532:(it,Ee,P)=>{function c(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>c})},655:(it,Ee,P)=>{function ue(Y,re){var te={};for(var _e in Y)Object.prototype.hasOwnProperty.call(Y,_e)&&re.indexOf(_e)<0&&(te[_e]=Y[_e]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(_e=Object.getOwnPropertySymbols(Y);le<_e.length;le++)re.indexOf(_e[le])<0&&Object.prototype.propertyIsEnumerable.call(Y,_e[le])&&(te[_e[le]]=Y[_e[le]])}return te}function de(Y,re,te,_e){return new(te||(te=Promise))(function(Pe,pt){function qt(tn){try{Xe(_e.next(tn))}catch(xn){pt(xn)}}function jt(tn){try{Xe(_e.throw(tn))}catch(xn){pt(xn)}}function Xe(tn){tn.done?Pe(tn.value):function le(Pe){return Pe instanceof te?Pe:new te(function(pt){pt(Pe)})}(tn.value).then(qt,jt)}Xe((_e=_e.apply(Y,re||[])).next())})}function fe(Y){return this instanceof fe?(this.v=Y,this):new fe(Y)}function Ie(Y,re,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,_e=te.apply(Y,re||[]),Pe=[];return le={},pt("next"),pt("throw"),pt("return"),le[Symbol.asyncIterator]=function(){return this},le;function pt(ln){_e[ln]&&(le[ln]=function(Jt){return new Promise(function(Li,Kt){Pe.push([ln,Jt,Li,Kt])>1||qt(ln,Jt)})})}function qt(ln,Jt){try{!function jt(ln){ln.value instanceof fe?Promise.resolve(ln.value.v).then(Xe,tn):xn(Pe[0][2],ln)}(_e[ln](Jt))}catch(Li){xn(Pe[0][3],Li)}}function Xe(ln){qt("next",ln)}function tn(ln){qt("throw",ln)}function xn(ln,Jt){ln(Jt),Pe.shift(),Pe.length&&qt(Pe[0][0],Pe[0][1])}}function nt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,re=Y[Symbol.asyncIterator];return re?re.call(Y):(Y=function ne(Y){var re="function"==typeof Symbol&&Symbol.iterator,te=re&&Y[re],_e=0;if(te)return te.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&_e>=Y.length&&(Y=void 0),{value:Y&&Y[_e++],done:!Y}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),te={},_e("next"),_e("throw"),_e("return"),te[Symbol.asyncIterator]=function(){return this},te);function _e(Pe){te[Pe]=Y[Pe]&&function(pt){return new Promise(function(qt,jt){!function le(Pe,pt,qt,jt){Promise.resolve(jt).then(function(Xe){Pe({value:Xe,done:qt})},pt)}(qt,jt,(pt=Y[Pe](pt)).done,pt.value)})}}}P.d(Ee,{FC:()=>Ie,KL:()=>nt,_T:()=>ue,mG:()=>de,qq:()=>fe})},5e3:(it,Ee,P)=>{P.d(Ee,{$8M:()=>Pn,$Z:()=>TE,AFp:()=>bI,ALo:()=>Al,AaK:()=>de,BQk:()=>se,CHM:()=>Mo,CRH:()=>iI,CZH:()=>qb,CqO:()=>vl,DdM:()=>Jp,EJc:()=>wI,EiD:()=>ug,EpF:()=>vo,F$t:()=>kc,F4k:()=>Lh,FYo:()=>Bc,FiY:()=>lt,G48:()=>u0,Gf:()=>xb,GfV:()=>w_,Gpc:()=>z,Gre:()=>XE,Hsn:()=>Fv,Ikx:()=>Pc,JOm:()=>R,JVY:()=>rg,L6k:()=>Uf,LAX:()=>Iu,LFG:()=>M,LSH:()=>ol,Lbi:()=>WS,MAs:()=>vE,NdJ:()=>Pv,OlP:()=>In,Oqu:()=>Bv,PXZ:()=>tA,Q6J:()=>Wu,QGY:()=>Ov,Qsj:()=>id,R0b:()=>Jo,RDi:()=>ou,Rgc:()=>xl,SBq:()=>qp,Sil:()=>$c,Suo:()=>M_,TTD:()=>ts,TgZ:()=>xr,Udp:()=>Cl,VLi:()=>XS,WFA:()=>bl,X6Q:()=>iA,XFs:()=>wt,Xpm:()=>Ve,Y36:()=>xc,YKP:()=>Uc,YNc:()=>yE,Yjl:()=>Va,Yz7:()=>Jt,ZZ4:()=>g0,_Bn:()=>db,_UZ:()=>l_,_Vd:()=>Xh,_c5:()=>X_,_uU:()=>Qi,aQg:()=>vm,c2e:()=>Kb,cJS:()=>Kt,cg1:()=>f_,d8E:()=>Tl,dDg:()=>B_,deG:()=>Gd,dqk:()=>$t,eBb:()=>wy,eFA:()=>H_,ekj:()=>kp,f3M:()=>Q,g9A:()=>F_,h0i:()=>ka,hGG:()=>v0,hij:()=>d_,iGM:()=>Ab,ifc:()=>Zt,ip1:()=>N_,kL8:()=>cC,lG2:()=>oa,lcZ:()=>YC,mCW:()=>lc,n5z:()=>on,n_E:()=>Pa,oAB:()=>Vt,oxw:()=>$r,pB0:()=>Ey,q3G:()=>Fn,q4F:()=>E_,qLn:()=>fh,qOj:()=>t_,qZA:()=>Nh,qzn:()=>go,s9C:()=>Bn,sBO:()=>PI,sIi:()=>Ah,s_b:()=>A_,soG:()=>hm,tBr:()=>xt,tb:()=>L_,tp0:()=>zn,uIk:()=>r_,vHH:()=>Re,vpe:()=>Oa,wAp:()=>bt,xp6:()=>zi,yhl:()=>ac,ynx:()=>Fh,z2F:()=>l0,z3N:()=>Cr,zSh:()=>Wo,zs3:()=>Ko});var c=P(7579),ee=P(727),N=P(8306),ue=P(6451),ae=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=me({__forward_ref__:me});function z(s){return s.__forward_ref__=z,s.toString=function(){return de(this())},s}function ne(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Re extends Error{constructor(o,l){super(function He(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function Ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function ye(s,o){const l=o?` in ${o}`:"";throw new Re(-201,`No provider for ${Ie(s)} found${l}`)}function jt(s,o){null==s&&function Xe(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Jt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Kt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ut(s){return Is(s,Zr)||Is(s,tr)}function Is(s,o){return s.hasOwnProperty(o)?s[o]:null}function er(s){return s&&(s.hasOwnProperty(qs)||s.hasOwnProperty(Wr))?s[qs]:null}const Zr=me({\u0275prov:me}),qs=me({\u0275inj:me}),tr=me({ngInjectableDef:me}),Wr=me({ngInjectorDef:me});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let nr;function Xn(s){const o=nr;return nr=s,o}function Kr(s,o,l){const d=Ut(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&wt.Optional?null:void 0!==o?o:void ye(de(s),"Injector")}function kn(s){return{toString:s}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const ct="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,Ii="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=ct||"undefined"!=typeof global&&global||Dt||Ii,Vi={},mt=[],Ws=me({\u0275cmp:me}),j=me({\u0275dir:me}),Z=me({\u0275pipe:me}),H=me({\u0275mod:me}),G=me({\u0275fac:me}),q=me({__NG_ELEMENT_ID__:me});let xe=0;function Ve(s){return kn(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||mt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c",styles:s.styles||mt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return d.id+=xe++,d.inputs=Yr(s.inputs,l),d.outputs=Yr(s.outputs),g&&g.forEach(E=>E(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(nn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Wt):null,d})}function nn(s){return Jn(s)||function Bi(s){return s[j]||null}(s)}function Wt(s){return function Ts(s){return s[Z]||null}(s)}const oi={};function Vt(s){return kn(()=>{const o={type:s.type,bootstrap:s.bootstrap||mt,declarations:s.declarations||mt,imports:s.imports||mt,exports:s.exports||mt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(oi[s.id]=s.type),o})}function Yr(s,o){if(null==s)return Vi;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const oa=Ve;function Va(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jn(s){return s[Ws]||null}function ei(s,o){const l=s[H]||null;if(!l&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return l}function Ti(s){return Array.isArray(s)&&"object"==typeof s[1]}function _r(s){return Array.isArray(s)&&!0===s[1]}function ja(s){return 0!=(8&s.flags)}function Ed(s){return 2==(2&s.flags)}function Jr(s){return 1==(1&s.flags)}function es(s){return null!==s.template}function tu(s){return 0!=(512&s[2])}function Ai(s,o){return s.hasOwnProperty(G)?s[G]:null}class Do{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function ts(){return ca}function ca(s){return s.type.prototype.ngOnChanges&&(s.setInput=xf),Md}function Md(){const s=So(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Vi)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function xf(s,o,l,d){const h=So(s)||function ua(s,o){return s[To]=o}(s,{previous:Vi,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],D=v[E];g[E]=new Do(D&&D.currentValue,o,v===Vi),s[d]=o}ts.ngInherit=!0;const To="__ngSimpleChanges__";function So(s){return s[To]||null}let ha;function ou(s){ha=s}function un(s){return!!s.listen}const Ga={createRenderer:(s,o)=>function ns(){return void 0!==ha?ha:"undefined"!=typeof document?document:void 0}()};function en(s){for(;Array.isArray(s);)s=s[0];return s}function eo(s,o){return en(o[s])}function gi(s,o){return en(o[s.index])}function Cn(s,o){return s.data[o]}function is(s,o){return s[o]}function _i(s,o){const l=o[s];return Ti(l)?l:l[0]}function xo(s){return 4==(4&s[2])}function xs(s){return 128==(128&s[2])}function Nr(s,o){return null==o?null:s[o]}function rs(s){s[18]=0}function fa(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Et={lFrame:ga(null),bindingsEnabled:!0};function Bl(){return Et.bindingsEnabled}function Me(){return Et.lFrame.lView}function Ht(){return Et.lFrame.tView}function Mo(s){return Et.lFrame.contextLView=s,s[8]}function yn(){let s=Ul();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ul(){return Et.lFrame.currentTNode}function vr(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function du(){return Et.lFrame.isParent}function hu(){Et.lFrame.isParent=!1}function xi(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function no(){return Et.lFrame.bindingIndex++}function Fr(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function $l(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,ma(o)}function ma(s){Et.lFrame.currentDirectiveIndex=s}function Gl(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function zl(){return Et.lFrame.currentQueryIndex}function Pd(s){Et.lFrame.currentQueryIndex=s}function Nd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ql(s,o,l){if(l&wt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&wt.Host||(h=Nd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Et.lFrame=Fd();return d.currentTNode=o,d.lView=s,!0}function Ro(s){const o=Fd(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Fd(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?ga(s):o}function ga(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ld(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Zl=Ld;function or(){const s=Ld();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function li(){return Et.lFrame.selectedIndex}function Oo(s){Et.lFrame.selectedIndex=s}function jn(){const s=Et.lFrame;return Cn(s.tView,s.selectedIndex)}function Wa(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),x&&((s.viewHooks||(s.viewHooks=[])).push(l,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,x)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function ks(s,o,l){Bd(s,o,3,l)}function Po(s,o,l,d){(3&s[2])===l&&Bd(s,o,l,d)}function ni(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Bd(s,o,l,d){const g=null!=d?d:-1,v=o.length-1;let E=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=d&&E>=d)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Qm(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Qm(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class _a{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function vt(s,o,l){const d=un(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],E=l[h++],D=l[h++];d?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=l[++h];sn(v)?d&&s.setProperty(o,v,E):d?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function wr(s){return 3===s||4===s||6===s}function sn(s){return 64===s.charCodeAt(0)}function Qa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Ud(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Ud(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function ya(s){return-1!==s}function io(s){return 32767&s}function ro(s,o){let l=function On(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let os=!0;function tt(s){const o=os;return os=s,o}let Xa=0;function as(s,o){const l=Rs(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ja(d.data,s),Ja(o,null),Ja(d.blueprint,null));const h=so(s,o),g=s.injectorIndex;if(ya(h)){const v=io(h),E=ro(h,o),D=E[1].data;for(let x=0;x<8;x++)o[g+x]=E[v+x]|D[v+x]}return o[g+8]=h,g}function Ja(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Rs(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function so(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(d=2===v?g.declTNode:1===v?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function ci(s,o,l){!function Sn(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(q)&&(d=l[q]),null==d&&(d=l[q]=Xa++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function el(s,o,l){if(l&wt.Optional)return s;ye(o,"NodeInjector")}function Fo(s,o,l,d){if(l&wt.Optional&&void 0===d&&(d=null),0==(l&(wt.Self|wt.Host))){const h=s[9],g=Xn(void 0);try{return h?h.get(o,d,l&wt.Optional):Kr(o,d,l&wt.Optional)}finally{Xn(g)}}return el(d,o,l)}function Lo(s,o,l,d=wt.Default,h){if(null!==s){const g=function yi(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(q)?s[q]:void 0;return"number"==typeof o?o>=0?255&o:ao:o}(l);if("function"==typeof g){if(!ql(o,s,d))return d&wt.Host?el(h,l,d):Fo(o,l,d,h);try{const v=g(d);if(null!=v||d&wt.Optional)return v;ye(l)}finally{Zl()}}else if("number"==typeof g){let v=null,E=Rs(s,o),D=-1,x=d&wt.Host?o[16][6]:null;for((-1===E||d&wt.SkipSelf)&&(D=-1===E?so(s,o):o[E+8],-1!==D&&yu(d,!1)?(v=o[1],E=io(D),o=ro(D,o)):E=-1);-1!==E;){const k=o[1];if(vn(g,E,k.data)){const F=Os(E,o,l,v,d,x);if(F!==va)return F}D=o[E+8],-1!==D&&yu(d,o[1].data[E+8]===x)&&vn(g,E,o)?(v=k,E=io(D),o=ro(D,o)):E=-1}}}return Fo(o,l,d,h)}const va={};function ao(){return new Mi(yn(),Me())}function Os(s,o,l,d,h,g){const v=o[1],E=v.data[s+8],k=lo(E,v,l,null==d?Ed(E)&&os:d!=v&&0!=(3&E.type),h&wt.Host&&g===E);return null!==k?ar(o,v,k,E):va}function lo(s,o,l,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,k=g>>20,B=h?E+k:s.directiveEnd;for(let X=d?E:E+k;X<B;X++){const be=v[X];if(X<D&&l===be||X>=D&&be.type===l)return X}if(h){const X=v[D];if(X&&es(X)&&X.type===l)return D}return null}function ar(s,o,l,d){let h=s[l];const g=o.data;if(function Wl(s){return s instanceof _a}(h)){const v=h;v.resolving&&function Ke(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${l}`)}(Ie(g[l]));const E=tt(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Xn(v.injectImpl):null;ql(s,d,wt.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function _y(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=ca(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&Xn(D),tt(E),v.resolving=!1,Zl()}}return h}function vn(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function yu(s,o){return!(s&wt.Self||s&wt.Host&&o)}class Mi{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Lo(this._tNode,this._lView,o,d,l)}}function on(s){return kn(()=>{const o=s.prototype.constructor,l=o[G]||gn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[G]||gn(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function gn(s){return $e(s)?()=>{const o=gn(ne(s));return o&&o()}:Ai(s)}function Pn(s){return function oo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(wr(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(yn(),s)}const Lr="__parameters__";function Vr(s,o,l){return kn(()=>{const d=function $n(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,x,k){const F=D.hasOwnProperty(Lr)?D[Lr]:Object.defineProperty(D,Lr,{value:[]})[Lr];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class In{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Jt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gd=new In("AnalyzeForEntryComponents");function Hi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Hi(d,o)):o!==s&&o.push(d)}return o}function ji(s,o){s.forEach(l=>Array.isArray(l)?ji(l,o):o(l))}function il(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function bu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Bo(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function ii(s,o,l){let d=fo(s,o);return d>=0?s[1|d]=l:(d=~d,function Yl(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function ho(s,o){const l=fo(s,o);if(l>=0)return s[1|l]}function fo(s,o){return function Ea(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const $i={},Ca="__NG_DI_FLAG__",Er="ngTempTokenPath",Xd=/\n/gm,ec="__source",tc=me({provide:String,useValue:me});let ls;function C(s){const o=ls;return ls=s,o}function T(s,o=wt.Default){if(void 0===ls)throw new Re(203,"");return null===ls?Kr(s,void 0,o):ls.get(s,o&wt.Optional?null:void 0,o)}function M(s,o=wt.Default){return(function Mn(){return nr}()||T)(ne(s),o)}const Q=M;function oe(s){const o=[];for(let l=0;l<s.length;l++){const d=ne(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let h,g=wt.Default;for(let v=0;v<d.length;v++){const E=d[v],D=qe(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(M(h,g))}else o.push(M(d))}return o}function Te(s,o){return s[Ca]=o,s.prototype[Ca]=o,s}function qe(s){return s[Ca]}const xt=Te(Vr("Inject",s=>({token:s})),-1),lt=Te(Vr("Optional"),8),zn=Te(Vr("SkipSelf"),4);let Eu;function sc(s){var o;return(null===(o=function Jd(){if(void 0===Eu&&(Eu=null,$t.trustedTypes))try{Eu=$t.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Eu}())||void 0===o?void 0:o.createHTML(s))||s}class $o{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ig extends $o{getTypeName(){return"HTML"}}class Cu extends $o{getTypeName(){return"Style"}}class yy extends $o{getTypeName(){return"Script"}}class vy extends $o{getTypeName(){return"URL"}}class by extends $o{getTypeName(){return"ResourceURL"}}function Cr(s){return s instanceof $o?s.changingThisBreaksApplicationSecurity:s}function go(s,o){const l=ac(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function ac(s){return s instanceof $o&&s.getTypeName()||null}function rg(s){return new ig(s)}function Uf(s){return new Cu(s)}function wy(s){return new yy(s)}function Iu(s){return new vy(s)}function Ey(s){return new by(s)}class sg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(sc(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class og{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=sc(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=sc(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Cy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lc(s){return(s=String(s)).match(Cy)||s.match(sl)?s:"unsafe:"+s}function ds(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Du(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const rh=ds("area,br,col,hr,img,wbr"),sh=ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Go=ds("rp,rt"),Tu=Du(rh,Du(sh,ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Du(Go,ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Du(Go,sh)),$f=ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gf=ds("srcset"),lg=Du($f,Gf,ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uc=ds("script,style,template");class Su{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Tu.hasOwnProperty(l))return this.sanitizedSomething=!0,!uc.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!lg.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;$f[E]&&(D=lc(D)),Gf[E]&&(s=D,D=(s=String(s)).split(",").map(o=>lc(o.trim())).join(", ")),this.buf.push(" ",v,'="',Au(D),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Tu.hasOwnProperty(l)&&!rh.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Au(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Dy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cg=/([^\#-~ |!])/g;function Au(s){return s.replace(/&/g,"&amp;").replace(Dy,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(cg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dc;function ug(s,o){let l=null;try{dc=dc||function Hf(s){const o=new og(s);return function ih(){try{return!!(new window.DOMParser).parseFromString(sc(""),"text/html")}catch(s){return!1}}()?new sg(o):o}(s);let d=o?String(o):"";l=dc.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=dc.getInertBodyElement(d)}while(d!==g);return sc((new Su).sanitizeChildren(xu(l)||l))}finally{if(l){const d=xu(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function xu(s){return"content"in s&&function lr(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function ol(s){const o=function hc(){const s=Me();return s&&s[12]}();return o?o.sanitize(Fn.URL,s)||"":go(s,"URL")?Cr(s):lc(fe(s))}const uh="__ngContext__";function bi(s,o){s[uh]=o}function Zf(s){const o=function fc(s){return s[uh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function hh(s){return s.ngOriginalError}function Oy(s,...o){s.error(...o)}class fh{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function Ry(s){return s&&s.ngErrorLogger||Oy}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&hh(o);for(;l&&hh(l);)l=hh(l);return l||null}}const Xf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function y(s){return s instanceof Function?s():s}var R=(()=>((R=R||{})[R.Important=1]="Important",R[R.DashCase=2]="DashCase",R))();function ce(s,o){return undefined(s,o)}function _t(s){const o=s[3];return _r(o)?o[3]:o}function Dr(s){return Jf(s[13])}function pc(s){return Jf(s[4])}function Jf(s){for(;null!==s&&!_r(s);)s=s[4];return s}function cl(s,o,l,d,h){if(null!=d){let g,v=!1;_r(d)?g=d:Ti(d)&&(v=!0,d=d[0]);const E=en(d);0===s&&null!==l?null==h?vw(o,l,E):yc(o,l,E,h||null,!0):1===s&&null!==l?yc(o,l,E,h||null,!0):2===s?function Tw(s,o,l){const d=Ig(s,o);d&&function ww(s,o,l,d){un(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function Ag(s,o,l,d,h){const g=l[7];g!==en(l)&&cl(o,s,d,g,h);for(let E=10;E<l.length;E++){const D=l[E];ul(D[1],D,s,o,d,g)}}(o,s,g,l,h)}}function Gi(s,o,l){if(un(s))return s.createElement(o,l);{const d=null!==l?function su(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function gw(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,fa(h,-1)),l.splice(d,1)}function Eg(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&gw(h,d),o>0&&(s[l-1][4]=d[4]);const g=bu(s,10+o);!function ep(s,o){ul(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function _w(s,o){if(!(256&o[2])){const l=o[11];un(l)&&l.destroyNode&&ul(s,o,l,3,null,null),function mc(s){let o=s[13];if(!o)return Cg(s[1],s);for(;o;){let l=null;if(Ti(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Ti(o)&&Cg(o[1],o),o=o[3];null===o&&(o=s),Ti(o)&&Cg(o[1],o),l=o&&o[4]}o=l}}(o)}}function Cg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Fy(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof _a)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function yw(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):en(o[v]),D=d[h=l[g+2]],x=l[g+3];"boolean"==typeof x?E.removeEventListener(l[g],D,x):x>=0?d[h=x]():d[h=-x].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&un(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&_r(o[3])){l!==o[3]&&gw(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function IT(s,o,l){return function _c(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Zt.None||h===Zt.Emulated)return null}return gi(d,l)}(s,o.parent,l)}function yc(s,o,l,d,h){un(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function vw(s,o,l){un(s)?s.appendChild(o,l):o.appendChild(l)}function bw(s,o,l,d,h){null!==d?yc(s,o,l,d,h):vw(s,o,l)}function Ig(s,o){return un(s)?s.parentNode(o):o.parentNode}function Ew(s,o,l){return Cw(s,o,l)}let Cw=function Ly(s,o,l){return 40&s.type?gi(s,l):null};function mh(s,o,l,d){const h=IT(s,d,o),g=o[11],E=Ew(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)bw(g,h,l[D],E,!1);else bw(g,h,l,E,!1)}function Dg(s,o){if(null!==o){const l=o.type;if(3&l)return gi(o,s);if(4&l)return Tg(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Dg(s,d);{const h=s[o.index];return _r(h)?Tg(-1,h):en(h)}}if(32&l)return ce(o,s)()||en(s[o.index]);{const d=Dw(s,o);return null!==d?Array.isArray(d)?d[0]:Dg(_t(s[16]),d):Dg(s,o.next)}}return null}function Dw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Tg(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Dg(d,h)}return o[7]}function Sw(s,o,l,d,h,g,v){for(;null!=l;){const E=d[l.index],D=l.type;if(v&&0===o&&(E&&bi(en(E),d),l.flags|=4),64!=(64&l.flags))if(8&D)Sw(s,o,l.child,d,h,g,!1),cl(o,s,h,E,g);else if(32&D){const x=ce(l,d);let k;for(;k=x();)cl(o,s,h,k,g);cl(o,s,h,E,g)}else 16&D?Sg(s,o,d,l,h,g):cl(o,s,h,E,g);l=v?l.projectionNext:l.next}}function ul(s,o,l,d,h,g){Sw(l,d,s.firstChild,o,h,g,!1)}function Sg(s,o,l,d,h,g){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)cl(o,s,h,D[x],g);else Sw(s,o,D,v[3],h,g,!0)}function Tr(s,o,l){un(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Aw(s,o,l){un(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function By(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const _o="ng-template";function gh(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==By(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function dl(s){return 4===s.type&&s.value!==_o}function Mt(s,o,l){return o===(4!==s.type||l?s.value:_o)}function ST(s,o,l){let d=4;const h=s.attrs||[],g=function Mg(s){for(let o=0;o<s.length;o++)if(wr(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!Mt(s,D,l)||""===D&&1===o.length){if(Ri(d))return!1;v=!0}}else{const x=8&d?D:o[++E];if(8&d&&null!==s.attrs){if(!gh(s.attrs,x,l)){if(Ri(d))return!1;v=!0}continue}const F=ot(8&d?"class":D,h,dl(s),l);if(-1===F){if(Ri(d))return!1;v=!0;continue}if(""!==x){let B;B=F>g?"":h[F+1].toLowerCase();const X=8&d?B:null;if(X&&-1!==By(X,x,0)||2&d&&x!==B){if(Ri(d))return!1;v=!0}}}}else{if(!v&&!Ri(d)&&!Ri(D))return!1;if(v&&Ri(D))continue;v=!1,d=D|1&d}}return Ri(d)||v}function Ri(s){return 0==(1&s)}function ot(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Uy(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function xg(s,o,l=!1){for(let d=0;d<o.length;d++)if(ST(s,o[d],l))return!0;return!1}function ip(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function xw(s,o){return s?":not("+o.trim()+")":o}function Hy(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ri(v)&&(o+=xw(g,h),h=""),d=v,g=g||!Ri(d);l++}return""!==h&&(o+=xw(g,h)),o}const Lt={};function zi(s){rp(Ht(),Me(),li()+s,!1)}function rp(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ks(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Po(o,g,0,l)}Oo(l)}function zo(s,o){return s<<17|o<<2}function qo(s){return s>>17&32767}function kg(s){return 2|s}function hl(s){return(131068&s)>>2}function Rg(s,o){return-131069&s|o<<2}function _h(s){return 1|s}function qy(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];Pd(h),v.contentQueries(2,o[g],g)}}}function vh(s,o,l,d,h,g,v,E,D,x){const k=o.blueprint.slice();return k[0]=h,k[2]=140|d,rs(k),k[3]=k[15]=s,k[8]=l,k[10]=v||s&&s[10],k[11]=E||s&&s[11],k[12]=D||s&&s[12]||null,k[9]=x||s&&s[9]||null,k[6]=g,k[16]=2==o.type?s[16]:k,k}function bh(s,o,l,d,h){let g=s.data[o];if(null===g)g=function up(s,o,l,d,h){const g=Ul(),v=du(),D=s.data[o]=function $w(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,l,d,h),function pu(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=function ko(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return vr(g,!0),g}function bc(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Fu(s,o,l){Ro(o);try{const d=s.viewQuery;null!==d&&lv(1,d,l);const h=s.template;null!==h&&dp(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&qy(s,o),s.staticViewQueries&&lv(2,s.viewQuery,l);const g=s.components;null!==g&&function Zy(s,o){for(let l=0;l<o.length;l++)Zg(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,or()}}function Zn(s,o,l,d){const h=o[2];if(256!=(256&h)){Ro(o);try{rs(o),function Hl(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&dp(s,o,l,2,d);const v=3==(3&h);if(v){const x=s.preOrderCheckHooks;null!==x&&ks(o,x,null)}else{const x=s.preOrderHooks;null!==x&&Po(o,x,0,null),ni(o,0)}if(function iv(s){for(let o=Dr(s);null!==o;o=pc(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(1024&h[2])&&fa(g,1),h[2]|=1024}}}(o),function pp(s){for(let o=Dr(s);null!==o;o=pc(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];xs(d)&&Zn(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&qy(s,o),v){const x=s.contentCheckHooks;null!==x&&ks(o,x)}else{const x=s.contentHooks;null!==x&&Po(o,x,1),ni(o,1)}!function VT(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Oo(~h);else{const g=h,v=l[++d],E=l[++d];$l(v,g),E(2,o[g])}}}finally{Oo(-1)}}(s,o);const E=s.components;null!==E&&function Uw(s,o){for(let l=0;l<o.length;l++)rv(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&lv(2,D,d),v){const x=s.viewCheckHooks;null!==x&&ks(o,x)}else{const x=s.viewHooks;null!==x&&Po(o,x,2),ni(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,fa(o[3],-1))}finally{or()}}}function ur(s,o,l,d){const h=o[10],v=xo(o);try{!v&&h.begin&&h.begin(),v&&Fu(s,o,d),Zn(s,o,l,d)}finally{!v&&h.end&&h.end()}}function dp(s,o,l,d,h){const g=li(),v=2&d;try{Oo(-1),v&&o.length>20&&rp(s,o,20,!1),l(d,h)}finally{Oo(g)}}function Ug(s,o,l){if(ja(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Wy(s,o,l){!Bl()||(function $T(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||as(l,o),bi(d,o);const v=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],x=es(D);x&&Kw(o,l,D);const k=ar(o,s,E,l);bi(k,o),null!==v&&Yw(0,E-h,k,D,0,v),x&&(_i(l.index,o)[8]=k)}}(s,o,l,gi(l,o)),128==(128&l.flags)&&function GT(s,o,l){const d=l.directiveStart,h=l.directiveEnd,v=l.index,E=function mu(){return Et.lFrame.currentDirectiveIndex}();try{Oo(v);for(let D=d;D<h;D++){const x=s.data[D],k=o[D];ma(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&wc(x,k)}}finally{Oo(-1),ma(E)}}(s,o,l))}function Ky(s,o,l=gi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Yy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Hg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Hg(s,o,l,d,h,g,v,E,D,x){const k=20+d,F=k+h,B=function BT(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Lt);return l}(k,F),X="function"==typeof x?x():x;return B[1]={type:s,blueprint:B,template:l,queries:null,viewQuery:E,declTNode:o,data:B.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:X,incompleteFirstPass:!1}}function $g(s,o,l,d){const h=vp(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&Ih(s).push(d,h.length-1))}function Gw(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function Hr(s,o,l,d,h,g,v,E){const D=gi(o,l);let k,x=o.inputs;!E&&null!=x&&(k=x[d])?(Xw(s,l,k,d,h),Ed(o)&&function zw(s,o){const l=_i(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function Qy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,un(g)?g.setProperty(D,d,h):sn(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function Jy(s,o,l,d){let h=!1;if(Bl()){const g=function Zw(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];xg(l,v.selectors,!1)&&(h||(h=[]),ci(as(l,o),s,v.type),es(v)?(hp(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==g){h=!0,ev(l,s.data.length,g.length);for(let k=0;k<g.length;k++){const F=g[k];F.providersResolver&&F.providersResolver(F)}let E=!1,D=!1,x=bc(s,o,g.length,null);for(let k=0;k<g.length;k++){const F=g[k];l.mergedAttrs=Qa(l.mergedAttrs,F.hostAttrs),Ar(s,l,o,x,F),fp(x,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const B=F.type.prototype;!E&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),x++}!function Gg(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let x=o.directiveStart;x<d;x++){const k=h[x],F=k.inputs,B=null===g||dl(o)?null:tv(F,g);v.push(B),E=Gw(F,x,E),D=Gw(k.outputs,x,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,l)}v&&function Ww(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Re(-301,!1);d.push(o[h],g)}}}(l,d,v)}return l.mergedAttrs=Qa(l.mergedAttrs,l.attrs),h}function qw(s,o,l,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function wh(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(d,h,v)}}function wc(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function hp(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function fp(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;es(o)&&(l[""]=s)}}function ev(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Ar(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=Ai(h.type)),v=new _a(g,es(h),null);s.blueprint[d]=v,l[d]=v,qw(s,o,0,d,bc(s,l,h.hostVars,Lt),h)}function Kw(s,o,l){const d=gi(o,s),h=Yy(l),g=s[10],v=_p(s,vh(s,h,null,l.onPush?64:16,d,o,g,g.createRenderer(d,l),null,null));s[o.index]=v}function fs(s,o,l,d,h,g){const v=gi(s,o);!function Eh(s,o,l,d,h,g,v){if(null==g)un(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?fe(g):v(g,d||"",h);un(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}(o[11],v,g,s.value,l,d,h)}function Yw(s,o,l,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let D=0;D<v.length;){const x=v[D++],k=v[D++],F=v[D++];null!==E?d.setInput(l,F,x,k):l[k]=F}}}function tv(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function nv(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function rv(s,o){const l=_i(o,s);if(xs(l)){const d=l[1];80&l[2]?Zn(d,l,d.template,l[8]):l[5]>0&&mp(l)}}function mp(s){for(let d=Dr(s);null!==d;d=pc(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const v=g[1];Zn(v,g,v.template,g[8])}else g[5]>0&&mp(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=_i(l[d],s);xs(h)&&h[5]>0&&mp(h)}}function Zg(s,o){const l=_i(o,s),d=l[1];(function gp(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Fu(d,l,l[8])}function _p(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function sv(s){for(;s;){s[2]|=64;const o=_t(s);if(tu(s)&&!o)return s;s=o}return null}function av(s){!function Ch(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=Zf(l),h=d[1];ur(h,d,h.template,l)}}(s[8])}function lv(s,o,l){Pd(0),o(s,l)}const Qw=(()=>Promise.resolve(null))();function vp(s){return s[7]||(s[7]=[])}function Ih(s){return s.cleanup||(s.cleanup=[])}function Ec(s,o,l){return(null===s||es(s))&&(l=function za(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Kg(s,o){const l=s[9],d=l?l.get(fh,null):null;d&&d.handleError(o)}function Xw(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],D=o[v],x=s.data[v];null!==x.setInput?x.setInput(D,h,d,E):D[E]=h}}function Zo(s,o,l){const d=eo(o,s);!function ph(s,o,l){un(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function fl(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=ge(h,E):2==g&&(d=ge(d,E+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const uv=new In("INJECTOR",-1);class Cc{get(o,l=$i){if(l===$i){const d=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw d.name="NullInjectorError",d}return l}}const Wo=new In("Set Injector scope."),Ic={},Yg={};let Dh;function dv(){return void 0===Dh&&(Dh=new Cc),Dh}function An(s,o=null,l=null,d){const h=bp(s,o,l,d);return h._resolveInjectorDefTypes(),h}function bp(s,o=null,l=null,d){return new KT(s,l,o||dv(),d)}class KT{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&ji(l,E=>this.processProvider(E,o,l)),ji([o],E=>this.processInjectorType(E,[],g)),this.records.set(uv,Vu(void 0,this));const v=this.records.get(Wo);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:de(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=$i,d=wt.Default){this.assertNotDestroyed();const h=C(this),g=Xn(void 0);try{if(!(d&wt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function nE(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(o)&&Ut(o);E=D&&this.injectableDefInScope(D)?Vu(hv(o),Ic):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&wt.Self?dv():this.parent).get(o,l=d&wt.Optional&&l===$i?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Er]=v[Er]||[]).unshift(de(o)),h)throw v;return function ut(s,o,l,d){const h=s[Er];throw o[ec]&&h.unshift(o[ec]),s.message=function It(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=de(o);if(Array.isArray(o))h=o.map(de).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):de(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Xd,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[Er]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Xn(g),C(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(de(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,l,d){if(!(o=ne(o)))return!1;let h=er(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==d.indexOf(v);if(void 0!==g&&(h=er(g)),null==h)return!1;if(null!=h.imports&&!E){let k;d.push(v);try{ji(h.imports,F=>{this.processInjectorType(F,l,d)&&(void 0===k&&(k=[]),k.push(F))})}finally{}if(void 0!==k)for(let F=0;F<k.length;F++){const{ngModule:B,providers:X}=k[F];ji(X,be=>this.processProvider(be,B,X||mt))}}this.injectorDefTypes.add(v);const D=Ai(v)||(()=>new v);this.records.set(v,Vu(D,Ic));const x=h.providers;if(null!=x&&!E){const k=o;ji(x,F=>this.processProvider(F,k,x))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,d){let h=Th(o=ne(o))?o:ne(o&&o.provide);const g=function Ep(s,o,l){return eE(s)?Vu(void 0,s.useValue):Vu(Jw(s),Ic)}(o);if(Th(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Vu(void 0,Ic,!0),v.factory=()=>oe(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===Ic&&(l.value=Yg,l.value=l.factory()),"object"==typeof l.value&&l.value&&function tE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ne(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function hv(s){const o=Ut(s),l=null!==o?o.factory:Ai(s);if(null!==l)return l;if(s instanceof In)throw new Re(204,!1);if(s instanceof Function)return function wp(s){const o=s.length;if(o>0)throw Bo(o,"?"),new Re(204,!1);const l=function pr(s){const o=s&&(s[Zr]||s[tr]);if(o){const l=function Ci(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Re(204,!1)}function Jw(s,o,l){let d;if(Th(s)){const h=ne(s);return Ai(h)||hv(h)}if(eE(s))d=()=>ne(s.useValue);else if(function QT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...oe(s.deps||[]));else if(function YT(s){return!(!s||!s.useExisting)}(s))d=()=>M(ne(s.useExisting));else{const h=ne(s&&(s.useClass||s.provide));if(!function Dc(s){return!!s.deps}(s))return Ai(h)||hv(h);d=()=>new h(...oe(s.deps))}return d}function Vu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function eE(s){return null!==s&&"object"==typeof s&&tc in s}function Th(s){return"function"==typeof s}let Ko=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return An({name:""},d,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return An({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=$i,s.NULL=new Cc,s.\u0275prov=Jt({token:s,providedIn:"any",factory:()=>M(uv)}),s.__NG_ELEMENT_ID__=-1,s})();function tS(s,o){Wa(Zf(s)[1],yn())}function t_(s){let o=function bv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(es(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Sh(s.inputs),v.declaredInputs=Sh(s.declaredInputs),v.outputs=Sh(s.outputs);const E=h.hostBindings;E&&hE(s,E);const D=h.viewQuery,x=h.contentQueries;if(D&&dE(s,D),x&&pl(s,x),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),es(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===t_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function uE(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Qa(h.hostAttrs,l=Qa(l,h.hostAttrs))}}(d)}function Sh(s){return s===Vi?{}:s===mt?[]:s}function dE(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function pl(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function hE(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Dp=null;function Sc(){if(!Dp){const s=$t.Symbol;if(s&&s.iterator)Dp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Dp=d)}}}return Dp}function Ah(s){return!!Cv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Sc()in s)}function Cv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Yo(s,o,l){return s[o]=l}function dr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function r_(s,o,l,d){const h=Me();return dr(h,no(),o)&&(Ht(),fs(jn(),h,s,o,l,d)),r_}function Uu(s,o,l,d){return dr(s,no(),l)?o+fe(l)+d:Lt}function yE(s,o,l,d,h,g,v,E){const D=Me(),x=Ht(),k=s+20,F=x.firstCreatePass?function _E(s,o,l,d,h,g,v,E,D){const x=o.consts,k=bh(o,s,4,v||null,Nr(x,E));Jy(o,l,k,Nr(x,D)),Wa(o,k);const F=k.tViews=Hg(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,k),F.queries=o.queries.embeddedTView(k)),k}(k,x,D,o,l,d,h,g,v):x.data[k];vr(F,!1);const B=D[11].createComment("");mh(x,D,B,F),bi(B,D),_p(D,D[k]=nv(B,D,B,F)),Jr(F)&&Wy(x,D,F),null!=v&&Ky(D,F,E)}function vE(s){return is(function Od(){return Et.lFrame.contextLView}(),20+s)}function xc(s,o=wt.Default){const l=Me();return null===l?M(s,o):Lo(yn(),l,ne(s),o)}function TE(){throw new Error("invalid")}function Wu(s,o,l){const d=Me();return dr(d,no(),o)&&Hr(Ht(),jn(),d,s,o,d[11],l,!1),Wu}function a_(s,o,l,d,h){const v=h?"class":"style";Xw(s,l,o.inputs[v],v,d)}function xr(s,o,l,d){const h=Me(),g=Ht(),v=20+s,E=h[11],D=h[v]=Gi(E,o,function Ym(){return Et.lFrame.currentNamespace}()),x=g.firstCreatePass?function SE(s,o,l,d,h,g,v){const E=o.consts,x=bh(o,s,2,h,Nr(E,g));return Jy(o,l,x,Nr(E,v)),null!==x.attrs&&fl(x,x.attrs,!1),null!==x.mergedAttrs&&fl(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,g,h,0,o,l,d):g.data[v];vr(x,!0);const k=x.mergedAttrs;null!==k&&vt(E,D,k);const F=x.classes;null!==F&&Aw(E,D,F);const B=x.styles;return null!==B&&Tr(E,D,B),64!=(64&x.flags)&&mh(g,h,D,x),0===function Za(){return Et.lFrame.elementDepthCount}()&&bi(D,h),function cu(){Et.lFrame.elementDepthCount++}(),Jr(x)&&(Wy(g,h,x),Ug(g,x,h)),null!==d&&Ky(h,x),xr}function Nh(){let s=yn();du()?hu():(s=s.parent,vr(s,!1));const o=s;!function Vl(){Et.lFrame.elementDepthCount--}();const l=Ht();return l.firstCreatePass&&(Wa(l,s),ja(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Xm(s){return 0!=(16&s.flags)}(o)&&a_(l,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dn(s){return 0!=(32&s.flags)}(o)&&a_(l,o,Me(),o.stylesWithoutHost,!1),Nh}function l_(s,o,l,d){return xr(s,o,l,d),Nh(),l_}function Fh(s,o,l){const d=Me(),h=Ht(),g=s+20,v=h.firstCreatePass?function Mc(s,o,l,d,h){const g=o.consts,v=Nr(g,d),E=bh(o,s,8,"ng-container",v);return null!==v&&fl(E,v,!0),Jy(o,l,E,Nr(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,l):h.data[g];vr(v,!0);const E=d[g]=d[11].createComment("");return mh(h,d,E,v),bi(E,d),Jr(v)&&(Wy(h,d,v),Ug(h,v,d)),null!=l&&Ky(d,v),Fh}function se(){let s=yn();const o=Ht();return du()?hu():(s=s.parent,vr(s,!1)),o.firstCreatePass&&(Wa(o,s),ja(s)&&o.queries.elementEnd(s)),se}function vo(){return Me()}function Ov(s){return!!s&&"function"==typeof s.then}function Lh(s){return!!s&&"function"==typeof s.subscribe}const vl=Lh;function Pv(s,o,l,d){const h=Me(),g=Ht(),v=yn();return c_(g,h,h[11],v,s,o,!!l,d),Pv}function bl(s,o){const l=yn(),d=Me(),h=Ht();return c_(h,d,Ec(Gl(h.data),l,d),l,s,o,!1),bl}function c_(s,o,l,d,h,g,v,E){const D=Jr(d),k=s.firstCreatePass&&Ih(s),F=o[8],B=vp(o);let X=!0;if(3&d.type||E){const Ze=gi(d,o),Le=E?E(Ze):Ze,we=B.length,at=E?Gt=>E(en(Gt[d.index])):d.index;if(un(l)){let Gt=null;if(!E&&D&&(Gt=function AE(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=g,Gt.__ngLastListenerFn__=g,X=!1;else{g=Nv(d,o,F,g,!1);const fn=l.listen(Le,h,g);B.push(g,fn),k&&k.push(h,at,we,we+1)}}else g=Nv(d,o,F,g,!0),Le.addEventListener(h,g,v),B.push(g),k&&k.push(h,at,we,v)}else g=Nv(d,o,F,g,!1);const be=d.outputs;let Ne;if(X&&null!==be&&(Ne=be[h])){const Ze=Ne.length;if(Ze)for(let Le=0;Le<Ze;Le+=2){const Mr=o[Ne[Le]][Ne[Le+1]].subscribe(g),qc=B.length;B.push(g,Mr),k&&k.push(h,d.index,qc,-(qc+1))}}}function xE(s,o,l,d){try{return!1!==l(d)}catch(h){return Kg(s,h),!1}}function Nv(s,o,l,d,h){return function g(v){if(v===Function)return d;const E=2&s.flags?_i(s.index,o):o;0==(32&o[2])&&sv(E);let D=xE(o,0,d,v),x=g.__ngNextListenerFn__;for(;x;)D=xE(o,0,x,v)&&D,x=x.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function $r(s=1){return function kf(s){return(Et.lFrame.contextLView=function gu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function ME(s,o){let l=null;const d=function Pt(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?xg(s,g,!0):ip(d,g))return h}else l=h}return l}function kc(s){const o=Me()[16][6];if(!o.projection){const d=o.projection=Bo(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?ME(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Fv(s,o=0,l){const d=Me(),h=Ht(),g=bh(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),hu(),64!=(64&g.flags)&&function qn(s,o,l){Sg(o[11],0,o,l,IT(s,l,o),Ew(l.parent||o[6],l,o))}(h,d,g)}function Bn(s,o,l){return Vh(s,"",o,"",l),Bn}function Vh(s,o,l,d,h){const g=Me(),v=Uu(g,o,l,d);return v!==Lt&&Hr(Ht(),jn(),g,s,v,g[11],h,!1),Vh}function u_(s,o,l,d,h){const g=s[l+1],v=null===o;let E=d?qo(g):hl(g),D=!1;for(;0!==E&&(!1===D||v);){const k=s[E+1];OE(s[E],o)&&(D=!0,s[E+1]=d?_h(k):kg(k)),E=d?qo(k):hl(k)}D&&(s[l+1]=d?kg(g):_h(g))}function OE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&fo(s,o)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PE(s){return s.substring(Kn.key,Kn.keyEnd)}function Bh(s,o){const l=Kn.textEnd;return l===o?-1:(o=Kn.keyEnd=function Aa(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Kn.key=o,l),bo(s,o,l))}function bo(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Cl(s,o,l){return Gr(s,o,l,!1),Cl}function kp(s,o){return Gr(s,o,null,!0),kp}function Vs(s,o){for(let l=function Ap(s){return function xp(s){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=s.length}(s),Bh(s,bo(s,0,Kn.textEnd))}(o);l>=0;l=Bh(o,l))ii(s,PE(o),!0)}function Gr(s,o,l,d){const h=Me(),g=Ht(),v=Fr(2);g.firstUpdatePass&&HE(g,s,v,d),o!==Lt&&dr(h,v,o)&&Uh(g,g.data[li()],h,h[11],s,h[v+1]=function qE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(Cr(s)))),s}(o,l),d,v)}function UE(s,o){return o>=s.expandoStartIndex}function HE(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[li()],v=UE(s,l);Vv(g,d)&&null===o&&!v&&(o=!1),o=function jE(s,o,l,d){const h=Gl(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Rp(l=_n(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=_n(h,s,o,l,d),null===g){let D=function $E(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==hl(d))return s[qo(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=_n(null,s,o,D[1],d),D=Rp(D,o.attrs,d),function hr(s,o,l,d){s[qo(l?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function GE(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Rp(d,s[g].hostAttrs,l);return Rp(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function ri(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,E=qo(v),D=hl(v);s[d]=l;let k,x=!1;if(Array.isArray(l)){const F=l;k=F[1],(null===k||fo(F,k)>0)&&(x=!0)}else k=l;if(h)if(0!==D){const B=qo(s[E+1]);s[d+1]=zo(B,E),0!==B&&(s[B+1]=Rg(s[B+1],d)),s[E+1]=function kw(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=zo(E,0),0!==E&&(s[E+1]=Rg(s[E+1],d)),E=d;else s[d+1]=zo(D,0),0===E?E=d:s[D+1]=Rg(s[D+1],d),D=d;x&&(s[d+1]=kg(s[d+1])),u_(s,k,d,!0),u_(s,k,d,!1),function Qu(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&fo(g,o)>=0&&(l[d+1]=_h(l[d+1]))}(o,k,s,d,g),v=zo(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}function _n(s,o,l,d,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],d=Rp(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function Rp(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ii(s,v,!!l||o[++g]))}return void 0===s?null:s}function Uh(s,o,l,d,h,g,v,E){if(!(3&o.type))return;const D=s.data,x=D[E+1];Ju(function Og(s){return 1==(1&s)}(x)?Op(D,o,l,h,hl(x),v):void 0)||(Ju(g)||function Mw(s){return 2==(2&s)}(x)&&(g=Op(D,null,l,h,E,v)),function TT(s,o,l,d,h){const g=un(s);if(o)h?g?s.addClass(l,d):l.classList.add(d):g?s.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:R.DashCase;if(null==h)g?s.removeStyle(l,d,v):l.style.removeProperty(d);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=R.Important),g?s.setStyle(l,d,h,v):l.style.setProperty(d,h,E?"important":"")}}}(d,v,eo(li(),l),h,g))}function Op(s,o,l,d,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],x=Array.isArray(D),k=x?D[1]:D,F=null===k;let B=l[h+1];B===Lt&&(B=F?mt:void 0);let X=F?ho(B,d):k===d?B:void 0;if(x&&!Ju(X)&&(X=ho(D,d)),Ju(X)&&(E=X,v))return E;const be=s[h+1];h=v?qo(be):hl(be)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=ho(D,d))}return E}function Ju(s){return void 0!==s}function Vv(s,o){return 0!=(s.flags&(o?16:32))}function Qi(s,o=""){const l=Me(),d=Ht(),h=s+20,g=d.firstCreatePass?bh(d,h,1,o,null):d.data[h],v=l[h]=function Ou(s,o){return un(s)?s.createText(o):s.createTextNode(o)}(l[11],o);mh(d,l,v,g),vr(g,!1)}function Bv(s){return d_("",s,""),Bv}function d_(s,o,l){const d=Me(),h=Uu(d,s,o,l);return h!==Lt&&Zo(d,li(),h),d_}function XE(s,o,l){!function wo(s,o,l,d){const h=Ht(),g=Fr(2);h.firstUpdatePass&&HE(h,null,g,d);const v=Me();if(l!==Lt&&dr(v,g,l)){const E=h.data[li()];if(Vv(E,d)&&!UE(h,g)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(l=ge(D,l||"")),a_(h,E,v,l,d)}else!function lS(s,o,l,d,h,g,v,E){h===Lt&&(h=mt);let D=0,x=0,k=0<h.length?h[0]:null,F=0<g.length?g[0]:null;for(;null!==k||null!==F;){const B=D<h.length?h[D+1]:void 0,X=x<g.length?g[x+1]:void 0;let Ne,be=null;k===F?(D+=2,x+=2,B!==X&&(be=F,Ne=X)):null===F||null!==k&&k<F?(D+=2,be=k):(x+=2,be=F,Ne=X),null!==be&&Uh(s,o,l,d,be,Ne,v,E),k=D<h.length?h[D]:null,F=x<g.length?g[x]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function zE(s,o,l){if(null==l||""===l)return mt;const d=[],h=Cr(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}(ii,Vs,Uu(Me(),s,o,l),!0)}function Pc(s,o,l){const d=Me();return dr(d,no(),o)&&Hr(Ht(),jn(),d,s,o,d[11],l,!0),Pc}function Tl(s,o,l){const d=Me();if(dr(d,no(),o)){const g=Ht(),v=jn();Hr(g,v,d,s,o,Ec(Gl(g.data),v,d),l,!0)}return Tl}const Nc=void 0;var lC=["en",[["a","p"],["AM","PM"],Nc],[["AM","PM"],Nc,Nc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nc,"{1} 'at' {0}",Nc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function td(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Qo={};function f_(s){const o=function m_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=uC(o);if(l)return l;const d=o.split("-")[0];if(l=uC(d),l)return l;if("en"===d)return lC;throw new Error(`Missing locale data for the locale "${s}".`)}function cC(s){return f_(s)[bt.PluralCase]}function uC(s){return s in Qo||(Qo[s]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[s]),Qo[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Fc="en-US";let Qv=Fc;function lb(s,o,l,d,h){if(s=ne(s),Array.isArray(s))for(let g=0;g<s.length;g++)lb(s[g],o,l,d,h);else{const g=Ht(),v=Me();let E=Th(s)?s:ne(s.provide),D=Jw(s);const x=yn(),k=1048575&x.providerIndexes,F=x.directiveStart,B=x.providerIndexes>>20;if(Th(s)||!s.multi){const X=new _a(D,h,xc),be=ub(E,o,h?k:k+B,F);-1===be?(ci(as(x,v),g,E),cb(g,s,o.length),o.push(E),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),l.push(X),v.push(X)):(l[be]=X,v[be]=X)}else{const X=ub(E,o,k+B,F),be=ub(E,o,k,k+B),Ne=X>=0&&l[X],Ze=be>=0&&l[be];if(h&&!Ze||!h&&!Ne){ci(as(x,v),g,E);const Le=function MS(s,o,l,d,h){const g=new _a(s,l,xc);return g.multi=[],g.index=o,g.componentProviders=0,PC(g,h,d&&!l),g}(h?xS:AS,l.length,h,d,D);!h&&Ze&&(l[be].providerFactory=Le),cb(g,s,o.length,0),o.push(E),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),l.push(Le),v.push(Le)}else cb(g,s,X>-1?X:be,PC(l[h?be:X],D,!h&&d));!h&&d&&Ze&&l[be].componentProviders++}}}function cb(s,o,l,d){const h=Th(o),g=function Cp(s){return!!s.useClass}(o);if(h||g){const D=(g?ne(o.useClass):o).prototype.ngOnDestroy;if(D){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=x.indexOf(l);-1===k?x.push(l,[d,D]):x[k+1].push(d,D)}else x.push(l,D)}}}function PC(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function ub(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function AS(s,o,l,d){return b_(this.multi,[])}function xS(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=ar(l,l[1],this.providerFactory.index,d);g=E.slice(0,v),b_(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],b_(h,g);return g}function b_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function db(s,o=[]){return l=>{l.providersResolver=(d,h)=>function SS(s,o,l){const d=Ht();if(d.firstCreatePass){const h=es(s);lb(l,d.data,d.blueprint,h,!0),lb(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class FC{}class fb{resolveComponentFactory(o){throw function hb(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Xh=(()=>{class s{}return s.NULL=new fb,s})();function Vc(){return nd(yn(),Me())}function nd(s,o){return new qp(gi(s,o))}let qp=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Vc,s})();function VC(s){return s instanceof qp?s.nativeElement:s}class Bc{}let id=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Zp(){const s=Me(),l=_i(yn().index,s);return function rd(s){return s[11]}(Ti(l)?l:s)}(),s})(),BC=(()=>{class s{}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:()=>null}),s})();class w_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const E_=new w_("13.3.11"),C_={};function Wp(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(en(g)),_r(g))for(let E=10;E<g.length;E++){const D=g[E],x=D[1].firstChild;null!==x&&Wp(D[1],D,x,d)}const v=l.type;if(8&v)Wp(s,o,l.child,d);else if(32&v){const E=ce(l,o);let D;for(;D=E();)d.push(D)}else if(16&v){const E=Dw(o,l);if(Array.isArray(E))d.push(...E);else{const D=_t(o[16]);Wp(D[1],D,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class Kp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Wp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(_r(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Eg(o,d),bu(l,d))}this._attachedToViewContainer=!1}_w(this._lView[1],this._lView)}onDestroy(o){$g(this._lView[1],this._lView,null,o)}markForCheck(){sv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function yp(s,o,l){const d=o[10];d.begin&&d.begin();try{Zn(s,o,s.template,l)}catch(h){throw Kg(o,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function np(s,o){ul(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class UC extends Kp{constructor(o){super(o),this._view=o}detectChanges(){av(this._view)}checkNoChanges(){}get context(){return null}}class mb extends Xh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Jn(o);return new gb(l,this.ngModule)}}function Yp(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class gb extends FC{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function AT(s){return s.map(Hy).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Yp(this.componentDef.inputs)}get outputs(){return Yp(this.componentDef.outputs)}create(o,l,d,h){const g=(h=h||this.ngModule)?function sd(s,o){return{get:(l,d,h)=>{const g=s.get(l,C_,h);return g!==C_||d===C_?g:o.get(l,d,h)}}}(o,h.injector):o,v=g.get(Bc,Ga),E=g.get(BC,null),D=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=d?function jw(s,o,l){if(un(s))return s.selectRootElement(o,l===Zt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(D,d,this.componentDef.encapsulation):Gi(v.createRenderer(null,this.componentDef),x,function Qp(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),F=this.componentDef.onPush?576:528,B=function cE(s,o){return{components:[],scheduler:s||Xf,clean:Qw,playerHandler:o||null,flags:0}}(),X=Hg(0,null,null,1,0,null,null,null,null,null),be=vh(null,X,B,F,null,null,v,D,E,g);let Ne,Ze;Ro(be);try{const Le=function vv(s,o,l,d,h,g){const v=l[1];l[20]=s;const D=bh(v,20,2,"#host",null),x=D.mergedAttrs=o.hostAttrs;null!==x&&(fl(D,x,!0),null!==s&&(vt(h,s,x),null!==D.classes&&Aw(h,s,D.classes),null!==D.styles&&Tr(h,s,D.styles)));const k=d.createRenderer(s,o),F=vh(l,Yy(o),null,o.onPush?64:16,l[20],D,d,k,g||null,null);return v.firstCreatePass&&(ci(as(D,l),v,o.type),hp(v,D),ev(D,l.length,1)),_p(l,F),l[20]=F}(k,this.componentDef,be,v,D);if(k)if(d)vt(D,k,["ng-version",E_.full]);else{const{attrs:we,classes:at}=function xT(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!Ri(h))break;h=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);we&&vt(D,k,we),at&&at.length>0&&Aw(D,k,at.join(" "))}if(Ze=Cn(X,20),void 0!==l){const we=Ze.projection=[];for(let at=0;at<this.ngContentSelectors.length;at++){const Gt=l[at];we.push(null!=Gt?Array.from(Gt):null)}}Ne=function lE(s,o,l,d,h){const g=l[1],v=function qg(s,o,l){const d=yn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Ar(s,d,o,bc(s,o,1,null),l));const h=ar(o,s,d.directiveStart,d);bi(h,o);const g=gi(d,o);return g&&bi(g,o),h}(g,l,o);if(d.components.push(v),s[8]=v,h&&h.forEach(D=>D(v,o)),o.contentQueries){const D=yn();o.contentQueries(1,v,D.directiveStart)}const E=yn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Oo(E.index),qw(l[1],E,0,E.directiveStart,E.directiveEnd,o),wc(o,v)),v}(Le,this.componentDef,be,B,[tS]),Fu(X,be,null)}finally{or()}return new kS(this.componentType,Ne,nd(Ze,be),be,Ze)}}class kS extends class NC{}{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new UC(h),this.componentType=o}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class ka{}class Uc{}const Eo=new Map;class _b extends ka{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mb(this);const d=ei(o);this._bootstrapComponents=y(d.bootstrap),this._r3Injector=bp(o,l,[{provide:ka,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],de(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ko.THROW_IF_NOT_FOUND,d=wt.Default){return o===Ko||o===ka||o===uv?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class od extends Uc{constructor(o){super(),this.moduleType=o,null!==ei(o)&&function PS(s){const o=new Set;!function l(d){const h=ei(d,!0),g=h.id;null!==g&&(function jC(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${de(o)} vs ${de(o.name)}`)}(g,Eo.get(g),d),Eo.set(g,d));const v=y(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new _b(this.moduleType,o)}}function Jp(s,o,l){const d=xi()+s,h=Me();return h[d]===Lt?Yo(h,d,l?o.call(l):o()):function ml(s,o){return s[o]}(h,d)}function yb(s,o,l,d,h,g){const v=o+l;return dr(s,v,h)?Yo(s,v+1,g?d.call(g,h):d(h)):function Ra(s,o){const l=s[o];return l===Lt?void 0:l}(s,v+1)}function Al(s,o){const l=Ht();let d;const h=s+20;l.firstCreatePass?(d=function KC(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=Ai(d.type)),v=Xn(xc);try{const E=tt(!1),D=g();return tt(E),function o_(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Me(),h,D),D}finally{Xn(v)}}function YC(s,o,l){const d=s+20,h=Me(),g=is(h,d);return function Jh(s,o){return s[1].data[o].pure}(h,d)?yb(h,xi(),o,g.transform,l,g):g.transform(l)}function S_(s){return o=>{setTimeout(s,void 0,o)}}const Oa=class VS extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,g,v;let E=o,D=l||(()=>null),x=d;if(o&&"object"==typeof o){const F=o;E=null===(h=F.next)||void 0===h?void 0:h.bind(F),D=null===(g=F.error)||void 0===g?void 0:g.bind(F),x=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(D=S_(D),E&&(E=S_(E)),x&&(x=S_(x)));const k=super.subscribe({next:E,error:D,complete:x});return o instanceof ee.w0&&o.add(k),k}};function QC(){return this._results[Sc()]()}class Pa{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Sc(),d=Pa.prototype;d[l]||(d[l]=QC)}get changes(){return this._changes||(this._changes=new Oa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Hi(o);(this._changesDetected=!function Nf(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xl=(()=>{class s{}return s.__NG_ELEMENT_ID__=BS,s})();const XC=xl,JC=class extends XC{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=vh(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),Fu(l,d,o),new Kp(d)}};function BS(){return tm(yn(),Me())}function tm(s,o){return 4&s.type?new JC(o,s,nd(s,o)):null}let A_=(()=>{class s{}return s.__NG_ELEMENT_ID__=US,s})();function US(){return tI(yn(),Me())}const bb=A_,Ni=class extends bb{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return nd(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){const o=so(this._hostTNode,this._hostLView);if(ya(o)){const l=ro(o,this._hostLView),d=io(o);return new Mi(l[1].data[d+8],l)}return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=eI(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,g){const v=o&&!function nl(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const F=l||{};E=F.index,d=F.injector,h=F.projectableNodes,g=F.ngModuleRef}const D=v?o:new gb(Jn(o)),x=d||this.parentInjector;if(!g&&null==D.ngModule){const B=(v?x:this.parentInjector).get(ka,null);B&&(g=B)}const k=D.create(x,h,void 0,g);return this.insert(k.hostView,E),k}insert(o,l){const d=o._lView,h=d[1];if(function qa(s){return _r(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const F=d[3],B=new Ni(F,F[6],F[3]);B.detach(B.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function gc(s,o,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=o),d<g-10?(o[4]=l[h],il(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function mw(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,d,v,g);const E=Tg(g,v),D=d[11],x=Ig(D,v[7]);return null!==x&&function tp(s,o,l,d,h,g){d[0]=h,d[6]=o,ul(s,d,l,1,h,g)}(h,v[6],D,d,x,E),o.attachToViewContainerRef(),il(wb(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=eI(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Eg(this._lContainer,l);d&&(bu(wb(this._lContainer),l),_w(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Eg(this._lContainer,l);return d&&null!=bu(wb(this._lContainer),l)?new Kp(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function eI(s){return s[8]}function wb(s){return s[8]||(s[8]=[])}function tI(s,o){let l;const d=o[s.index];if(_r(d))l=d;else{let h;if(8&s.type)h=en(d);else{const g=o[11];h=g.createComment("");const v=gi(s,o);yc(g,Ig(g,v),h,function DT(s,o){return un(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=nv(d,o,h,s),_p(o,l)}return new Ni(l,s,o)}class ef{constructor(o){this.queryList=o,this.matches=null}clone(){return new ef(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Eb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==ld(o,l).matches&&this.queries[l].setDirty()}}class Cb{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class nm{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new nm(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class im{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new im(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,rm(l,g)),this.matchTNodeWithReadOption(o,l,lo(l,o,g,!1,!1))}else d===xl?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,lo(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===qp||h===A_||h===xl&&4&l.type)this.addMatch(l.index,-2);else{const g=lo(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function rm(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Ib(s,o,l,d){return-1===l?function x_(s,o){return 11&s.type?nd(s,o):4&s.type?tm(s,o):null}(o,s):-2===l?function Db(s,o,l){return l===qp?nd(o,s):l===xl?tm(o,s):l===A_?tI(o,s):void 0}(s,o,d):ar(s,s[1],l,o)}function Tb(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const x=v[D];E.push(x<0?null:Ib(o,g[x],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function Sb(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=Tb(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)d.push(v[E/2]);else{const x=g[E+1],k=o[-D];for(let F=10;F<k.length;F++){const B=k[F];B[17]===B[3]&&Sb(B[1],B,x,d)}if(null!==k[9]){const F=k[9];for(let B=0;B<F.length;B++){const X=F[B];Sb(X[1],X,x,d)}}}}}return d}function Ab(s){const o=Me(),l=Ht(),d=zl();Pd(d+1);const h=ld(l,d);if(s.dirty&&xo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Sb(l,o,d,[]):Tb(l,o,h,d);s.reset(g,VC),s.notifyOnChanges()}return!0}return!1}function xb(s,o,l){const d=Ht();d.firstCreatePass&&(Mb(d,new Cb(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),sI(d,Me(),o)}function M_(s,o,l,d){const h=Ht();if(h.firstCreatePass){const g=yn();Mb(h,new Cb(o,l,d),g.index),function jS(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}sI(h,Me(),l)}function iI(){return function rI(s,o){return s[19].queries[o].queryList}(Me(),zl())}function sI(s,o,l){const d=new Pa(4==(4&l));$g(s,o,d,d.destroy),null===o[19]&&(o[19]=new Eb),o[19].queries.push(new ef(d))}function Mb(s,o,l){null===s.queries&&(s.queries=new nm),s.queries.track(new im(o,l))}function ld(s,o){return s.queries.getByIndex(o)}function um(...s){}const N_=new In("Application Initializer");let qb=(()=>{class s{constructor(l){this.appInits=l,this.resolve=um,this.reject=um,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Ov(g))l.push(g);else if(vl(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(M(N_,8))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bI=new In("AppId",{providedIn:"root",factory:function Zb(){return`${Wb()}${Wb()}${Wb()}`}});function Wb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const F_=new In("Platform Initializer"),WS=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),L_=new In("appBootstrapListener");let Kb=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const hm=new In("LocaleId",{providedIn:"root",factory:()=>Q(hm,wt.Optional|wt.SkipSelf)||function KS(){return"undefined"!=typeof $localize&&$localize.locale||Fc}()}),wI=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class cf{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let $c=(()=>{class s{compileModuleSync(l){return new od(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=y(ei(l).declarations).reduce((v,E)=>{const D=Jn(E);return D&&v.push(new gb(D)),v},[]);return new cf(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uf=(()=>Promise.resolve(0))();function V_(s){"undefined"==typeof Zone?uf.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Jo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function df(){let s=$t.requestAnimationFrame,o=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Xb(s){const o=()=>{!function Qb(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call($t,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,mm(s),s.isCheckStableRunning=!0,pm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),mm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,E)=>{try{return DI(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),TI(s)}},onInvoke:(l,d,h,g,v,E,D)=>{try{return DI(s),l.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),TI(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,mm(s),pm(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Jo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,YS,um,um);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const YS={};function pm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function mm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function DI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function TI(s){s._nesting--,pm(s)}class Jb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let B_=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jo.assertNotInAngularZone(),V_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())V_(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(M(Jo))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})(),QS=(()=>{class s{constructor(){this._applications=new Map,U_.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return U_.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class SI{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function XS(s){U_=s}let U_=new SI,Gc=null;const e0=new In("AllowMultipleToken"),t0=new In("PlatformOnDestroy");class tA{constructor(o,l){this.name=o,this.token=l}}function H_(s,o,l=[]){const d=`Platform: ${o}`,h=new In(d);return(g=[])=>{let v=s0();if(!v||v.injector.get(e0,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function n0(s){if(Gc&&!Gc.get(e0,!1))throw new Re(400,"");Gc=s;const o=s.get(j_),l=s.get(F_,null);l&&l.forEach(d=>d())}(function nA(s=[],o){return Ko.create({name:o,providers:[{provide:Wo,useValue:"platform"},{provide:t0,useValue:()=>Gc=null},...s]})}(E,d))}return function r0(s){const o=s0();if(!o)throw new Re(401,"");return o}()}}function s0(){var s;return null!==(s=null==Gc?void 0:Gc.get(j_))&&void 0!==s?s:null}let j_=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const E=function xI(s,o){let l;return l="noop"===s?new Jb:("zone.js"===s?void 0:s)||new Jo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Jo,useValue:E}];return E.run(()=>{const x=Ko.create({providers:D,parent:this.injector,name:l.moduleType.name}),k=l.create(x),F=k.injector.get(fh,null);if(!F)throw new Re(402,"");return E.runOutsideAngular(()=>{const B=E.onError.subscribe({next:X=>{F.handleError(X)}});k.onDestroy(()=>{gm(this._modules,k),B.unsubscribe()})}),function o0(s,o,l){try{const d=l();return Ov(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(F,E,()=>{const B=k.injector.get(qb);return B.runInitializers(),B.donePromise.then(()=>(function hC(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(Qv=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(hm,Fc)||Fc),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,d=[]){const h=a0({},d);return function JS(s,o,l){const d=new od(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(l0);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Re(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(t0,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(M(Ko))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function a0(s,o){return Array.isArray(o)?o.reduce(a0,s):Object.assign(Object.assign({},s),o)}let l0=(()=>{class s{constructor(l,d,h,g){this._zone=l,this._injector=d,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),E=new N.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Jo.assertNotInAngularZone(),V_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ue.T)(v,E.pipe((0,ae.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Re(405,"");let h;h=l instanceof FC?l:this._injector.get(Xh).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function eA(s){return s.isBoundToModule}(h)?void 0:this._injector.get(ka),E=h.create(Ko.NULL,[],d||h.selector,g),D=E.location.nativeElement,x=E.injector.get(B_,null),k=x&&E.injector.get(QS);return x&&k&&k.registerApplication(D,x),E.onDestroy(()=>{this.detachView(E.hostView),gm(this.components,E),k&&k.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;gm(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(L_,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(M(Jo),M(Ko),M(fh),M(qb))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function gm(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let kI=!0,$_=!1;function iA(){return $_=!0,kI}function u0(){if($_)throw new Error("Cannot enable prod mode after platform setup.");kI=!1}let PI=(()=>{class s{}return s.__NG_ELEMENT_ID__=d0,s})();function d0(s){return function rA(s,o,l){if(Ed(s)&&!l){const d=_i(s.index,o);return new Kp(d,d)}return 47&s.type?new Kp(o[16],o):null}(yn(),Me(),16==(16&s))}class K_{constructor(){}supports(o){return Ah(o)}create(o){return new aA(o)}}const p0=(s,o)=>o;class aA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||p0}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<Y_(d,h,g)?l:d,E=Y_(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const x=E-h,k=D-h;if(x!=k){for(let B=0;B<x;B++){const X=B<g.length?g[B]:g[B]=0,be=X+B;k<=be&&be<x&&(g[B]=X+1)}g[v.previousIndex]=k-x}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ah(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),d=!0),l=l._next}else h=0,function i_(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Sc()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new HI(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new $I),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $I),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class HI{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class $I{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new jI,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Y_(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class m0{constructor(){}supports(o){return o instanceof Map||Cv(o)}create(){return new Q_}}class Q_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Cv(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new lA(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class lA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GI(){return new g0([new K_])}let g0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||GI()),deps:[[s,new zn,new lt]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Re(901,"")}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:GI}),s})();function _0(){return new vm([new m0])}let vm=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||_0()),deps:[[s,new zn,new lt]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new Re(901,"")}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:_0}),s})();const X_=H_(null,"core",[]);let v0=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(M(l0))},s.\u0275mod=Vt({type:s}),s.\u0275inj=Kt({}),s})()},3942:(it,Ee,P)=>{P.d(Ee,{Z:()=>Re});var c=P(2090),ee=P(4859),N=P(9681),ue=P(1877);class ae{constructor(fe,Ie){this._delegate=fe,this.firebase=Ie,(0,N._addComponent)(fe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,Ie=N._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(fe);return!nt.isInitialized()&&"EXPLICIT"===(null===(Ke=nt.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:Ie})}_removeServiceInstance(fe,Ie=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Ie)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ge(){const He=function de(He){const fe={},Ie={__esModule:!0,initializeApp:function Ae(je,W={}){const Ce=N.initializeApp(je,W);if((0,c.r3)(fe,Ce.name))return fe[Ce.name];const Y=new He(Ce,Ie);return fe[Ce.name]=Y,Y},app:nt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function De(je){const W=je.name,Ce=W.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const Y=(re=nt())=>{if("function"!=typeof re[Ce])throw ie.create("invalid-app-argument",{appName:W});return re[Ce]()};void 0!==je.serviceProps&&(0,c.ZB)(Y,je.serviceProps),Ie[Ce]=Y,He.prototype[Ce]=function(...re){return this._getService.bind(this,W).apply(this,je.multipleInstances?re:[])}}return"PUBLIC"===je.type?Ie[Ce]:null},removeApp:function Ke(je){delete fe[je]},useAsService:function Be(je,W){return"serverAuth"===W?null:W},modularAPIs:N}};function nt(je){if(!(0,c.r3)(fe,je=je||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:je});return fe[je]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function ye(){return Object.keys(fe).map(je=>fe[je])}}),nt.App=He,Ie}(ae);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function fe(Ie){(0,c.ZB)(He,Ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),He}(),z=new ue.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=$;!function Se(He){(0,N.registerVersion)("@firebase/app-compat","0.1.33",He)}()},9681:(it,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>Jt,_apps:()=>tn,_clearComponents:()=>Is,_components:()=>xn,_getProvider:()=>Kt,_registerComponent:()=>Li,_removeServiceInstance:()=>Ut,deleteApp:()=>wt,getApp:()=>tr,getApps:()=>Wr,initializeApp:()=>qs,onLog:()=>Xn,registerVersion:()=>Mn,setLogLevel:()=>Kr});var c=P(5861),ee=P(4859),N=P(1877),ue=P(2090),ae=P(8766);class me{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function ie(H){const G=H.getComponent();return"VERSION"===(null==G?void 0:G.type)}(q)){const xe=q.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(q=>q).join(" ")}}const de="@firebase/app",$=new N.Yd("@firebase/app"),jt="[DEFAULT]",Xe={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,xn=new Map;function ln(H,G){try{H.container.addComponent(G)}catch(q){$.debug(`Component ${G.name} failed to register with FirebaseApp ${H.name}`,q)}}function Jt(H,G){H.container.addOrOverwriteComponent(G)}function Li(H){const G=H.name;if(xn.has(G))return $.debug(`There were multiple attempts to register component ${G}.`),!1;xn.set(G,H);for(const q of tn.values())ln(q,H);return!0}function Kt(H,G){const q=H.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),H.container.getProvider(G)}function Ut(H,G,q=jt){Kt(H,G).clearInstance(q)}function Is(){xn.clear()}const Ci=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class er{constructor(G,q,xe){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}const Zr="9.9.4";function qs(H,G={}){"object"!=typeof G&&(G={name:G});const q=Object.assign({name:jt,automaticDataCollectionEnabled:!1},G),xe=q.name;if("string"!=typeof xe||!xe)throw Ci.create("bad-app-name",{appName:String(xe)});const Ve=tn.get(xe);if(Ve){if((0,ue.vZ)(H,Ve.options)&&(0,ue.vZ)(q,Ve.config))return Ve;throw Ci.create("duplicate-app",{appName:xe})}const ht=new ee.H0(xe);for(const Wt of xn.values())ht.addComponent(Wt);const nn=new er(H,q,ht);return tn.set(xe,nn),nn}function tr(H=jt){const G=tn.get(H);if(!G)throw Ci.create("no-app",{appName:H});return G}function Wr(){return Array.from(tn.values())}function wt(H){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(H){const G=H.name;tn.has(G)&&(tn.delete(G),yield Promise.all(H.container.getProviders().map(q=>q.delete())),H.isDeleted=!0)})).apply(this,arguments)}function Mn(H,G,q){var xe;let Ve=null!==(xe=Xe[H])&&void 0!==xe?xe:H;q&&(Ve+=`-${q}`);const ht=Ve.match(/\s|\//),nn=G.match(/\s|\//);if(ht||nn){const Wt=[`Unable to register library "${Ve}" with version "${G}":`];return ht&&Wt.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),ht&&nn&&Wt.push("and"),nn&&Wt.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void $.warn(Wt.join(" "))}Li(new ee.wA(`${Ve}-version`,()=>({library:Ve,version:G}),"VERSION"))}function Xn(H,G){if(null!==H&&"function"!=typeof H)throw Ci.create("invalid-log-argument");(0,N.Am)(H,G)}function Kr(H){(0,N.Ub)(H)}const Un="firebase-heartbeat-store";let Or=null;function sa(){return Or||(Or=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(H,G)=>{0===G&&H.createObjectStore(Un)}}).catch(H=>{throw Ci.create("idb-open",{originalErrorMessage:H.message})})),Or}function ct(){return(ct=(0,c.Z)(function*(H){var G;try{return(yield sa()).transaction(Un).objectStore(Un).get(mr(H))}catch(q){if(q instanceof ue.ZR)$.warn(q.message);else{const xe=Ci.create("idb-get",{originalErrorMessage:null===(G=q)||void 0===G?void 0:G.message});$.warn(xe.message)}}})).apply(this,arguments)}function Dt(H,G){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(H,G){var q;try{const Ve=(yield sa()).transaction(Un,"readwrite");return yield Ve.objectStore(Un).put(G,mr(H)),Ve.done}catch(xe){if(xe instanceof ue.ZR)$.warn(xe.message);else{const Ve=Ci.create("idb-set",{originalErrorMessage:null===(q=xe)||void 0===q?void 0:q.message});$.warn(Ve.message)}}})).apply(this,arguments)}function mr(H){return`${H.name}!${H.options.appId}`}class Di{constructor(G){this.container=G,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Ws(q),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var G=this;return(0,c.Z)(function*(){const xe=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=Vi();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!G._heartbeatsCache.heartbeats.some(ht=>ht.date===Ve))return G._heartbeatsCache.heartbeats.push({date:Ve,agent:xe}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(ht=>{const nn=new Date(ht.date).valueOf();return Date.now()-nn<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,c.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const q=Vi(),{heartbeatsToSend:xe,unsentEntries:Ve}=function mt(H,G=1024){const q=[];let xe=H.slice();for(const Ve of H){const ht=q.find(nn=>nn.agent===Ve.agent);if(ht){if(ht.dates.push(Ve.date),j(q)>G){ht.dates.pop();break}}else if(q.push({agent:Ve.agent,dates:[Ve.date]}),j(q)>G){q.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:q,unsentEntries:xe}}(G._heartbeatsCache.heartbeats),ht=(0,ue.L)(JSON.stringify({version:2,heartbeats:xe}));return G._heartbeatsCache.lastSentHeartbeatDate=q,Ve.length>0?(G._heartbeatsCache.heartbeats=Ve,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),ht})()}}function Vi(){return(new Date).toISOString().substring(0,10)}class Ws{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,c.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function Zt(H){return ct.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var q=this;return(0,c.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ht=yield q.read();return Dt(q.app,{lastSentHeartbeatDate:null!==(xe=G.lastSentHeartbeatDate)&&void 0!==xe?xe:ht.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var q=this;return(0,c.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ht=yield q.read();return Dt(q.app,{lastSentHeartbeatDate:null!==(xe=G.lastSentHeartbeatDate)&&void 0!==xe?xe:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...G.heartbeats]})}})()}}function j(H){return(0,ue.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Z(H){Li(new ee.wA("platform-logger",G=>new me(G),"PRIVATE")),Li(new ee.wA("heartbeat",G=>new Di(G),"PRIVATE")),Mn(de,"0.7.32",H),Mn(de,"0.7.32","esm2017"),Mn("fire-js","")}("")},4859:(it,Ee,P)=>{P.d(Ee,{H0:()=>de,wA:()=>N});var c=P(5861),ee=P(2090);class N{constructor($,z,ne){this.name=$,this.instanceFactory=z,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class ae{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const ne=new ee.BH;if(this.instancesDeferred.set(z,ne),this.isInitialized(z)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:z});$e&&ne.resolve($e)}catch($e){}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const ne=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),$e=null!==(z=null==$?void 0:$.optional)&&void 0!==z&&z;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Se){if($e)return null;throw Se}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ie(ge){return"EAGER"===ge.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(z){}for(const[z,ne]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(z);try{const Se=this.getOrInitializeService({instanceIdentifier:$e});ne.resolve(Se)}catch(Se){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...z.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,ne=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ne,options:z});for(const[Se,Re]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Se)&&Re.resolve($e);return $e}onInit($,z){var ne;const $e=this.normalizeInstanceIdentifier(z),Se=null!==(ne=this.onInitCallbacks.get($e))&&void 0!==ne?ne:new Set;Se.add($),this.onInitCallbacks.set($e,Se);const Re=this.instances.get($e);return Re&&$(Re,$e),()=>{Se.delete($)}}invokeOnInitCallbacks($,z){const ne=this.onInitCallbacks.get(z);if(ne)for(const $e of ne)try{$e($,z)}catch(Se){}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let ne=this.instances.get($);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=$,ge===ue?void 0:ge),options:z}),this.instances.set($,ne),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(ne,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ne)}catch($e){}var ge;return ne||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new ae($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(it,Ee,P)=>{P.d(Ee,{Am:()=>ge,Ub:()=>de,Yd:()=>ie,in:()=>ee});const c=[];var ee=(()=>{return($=ee||(ee={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",ee;var $})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ue=ee.INFO,ae={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},me=($,z,...ne)=>{if(z<$.logLevel)return;const $e=(new Date).toISOString(),Se=ae[z];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Se](`[${$e}]  ${$.name}:`,...ne)};class ie{constructor(z){this.name=z,this._logLevel=ue,this._logHandler=me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in ee))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?N[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...z),this._logHandler(this,ee.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...z),this._logHandler(this,ee.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...z),this._logHandler(this,ee.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...z),this._logHandler(this,ee.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...z),this._logHandler(this,ee.ERROR,...z)}}function de($){c.forEach(z=>{z.setLogLevel($)})}function ge($,z){for(const ne of c){let $e=null;z&&z.level&&($e=N[z.level]),ne.userLogHandler=null===$?null:(Se,Re,...He)=>{const fe=He.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(Ke){return null}}).filter(Ie=>Ie).join(" ");Re>=(null!=$e?$e:Se.logLevel)&&$({level:ee[Re].toLowerCase(),message:fe,args:He,type:Se.name})}}}},8766:(it,Ee,P)=>{P.d(Ee,{Lj:()=>Ae,X3:()=>nt});var c=P(5861);let N,ue;const ie=new WeakMap,de=new WeakMap,ge=new WeakMap,$=new WeakMap,z=new WeakMap;let Se={get(W,Ce,Y){if(W instanceof IDBTransaction){if("done"===Ce)return de.get(W);if("objectStoreNames"===Ce)return W.objectStoreNames||ge.get(W);if("store"===Ce)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Ie(W[Ce])},set:(W,Ce,Y)=>(W[Ce]=Y,!0),has:(W,Ce)=>W instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in W};function fe(W){return"function"==typeof W?function He(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(W)?function(...Ce){return W.apply(Ke(this),Ce),Ie(ie.get(this))}:function(...Ce){return Ie(W.apply(Ke(this),Ce))}:function(Ce,...Y){const re=W.call(Ke(this),Ce,...Y);return ge.set(re,Ce.sort?Ce.sort():[Ce]),Ie(re)}}(W):(W instanceof IDBTransaction&&function $e(W){if(de.has(W))return;const Ce=new Promise((Y,re)=>{const te=()=>{W.removeEventListener("complete",_e),W.removeEventListener("error",le),W.removeEventListener("abort",le)},_e=()=>{Y(),te()},le=()=>{re(W.error||new DOMException("AbortError","AbortError")),te()};W.addEventListener("complete",_e),W.addEventListener("error",le),W.addEventListener("abort",le)});de.set(W,Ce)}(W),((W,Ce)=>Ce.some(Y=>W instanceof Y))(W,function ae(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(W,Se):W)}function Ie(W){if(W instanceof IDBRequest)return function ne(W){const Ce=new Promise((Y,re)=>{const te=()=>{W.removeEventListener("success",_e),W.removeEventListener("error",le)},_e=()=>{Y(Ie(W.result)),te()},le=()=>{re(W.error),te()};W.addEventListener("success",_e),W.addEventListener("error",le)});return Ce.then(Y=>{Y instanceof IDBCursor&&ie.set(Y,W)}).catch(()=>{}),z.set(Ce,W),Ce}(W);if($.has(W))return $.get(W);const Ce=fe(W);return Ce!==W&&($.set(W,Ce),z.set(Ce,W)),Ce}const Ke=W=>z.get(W);function nt(W,Ce,{blocked:Y,upgrade:re,blocking:te,terminated:_e}={}){const le=indexedDB.open(W,Ce),Pe=Ie(le);return re&&le.addEventListener("upgradeneeded",pt=>{re(Ie(le.result),pt.oldVersion,pt.newVersion,Ie(le.transaction))}),Y&&le.addEventListener("blocked",()=>Y()),Pe.then(pt=>{_e&&pt.addEventListener("close",()=>_e()),te&&pt.addEventListener("versionchange",()=>te())}).catch(()=>{}),Pe}function Ae(W,{blocked:Ce}={}){const Y=indexedDB.deleteDatabase(W);return Ce&&Y.addEventListener("blocked",()=>Ce()),Ie(Y).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Be=new Map;function je(W,Ce){if(!(W instanceof IDBDatabase)||Ce in W||"string"!=typeof Ce)return;if(Be.get(Ce))return Be.get(Ce);const Y=Ce.replace(/FromIndex$/,""),re=Ce!==Y,te=De.includes(Y);if(!(Y in(re?IDBIndex:IDBObjectStore).prototype)||!te&&!ye.includes(Y))return;const _e=function(){var le=(0,c.Z)(function*(Pe,...pt){const qt=this.transaction(Pe,te?"readwrite":"readonly");let jt=qt.store;return re&&(jt=jt.index(pt.shift())),(yield Promise.all([jt[Y](...pt),te&&qt.done]))[0]});return function(pt){return le.apply(this,arguments)}}();return Be.set(Ce,_e),_e}!function Re(W){Se=W(Se)}(W=>ZN(qN({},W),{get:(Ce,Y,re)=>je(Ce,Y)||W.get(Ce,Y,re),has:(Ce,Y)=>!!je(Ce,Y)||W.has(Ce,Y)}))},5861:(it,Ee,P)=>{function c(N,ue,ae,me,ie,de,ge){try{var $=N[de](ge),z=$.value}catch(ne){return void ae(ne)}$.done?ue(z):Promise.resolve(z).then(me,ie)}function ee(N){return function(){var ue=this,ae=arguments;return new Promise(function(me,ie){var de=N.apply(ue,ae);function ge(z){c(de,me,ie,ge,$,"next",z)}function $(z){c(de,me,ie,ge,$,"throw",z)}ge(void 0)})}}P.d(Ee,{Z:()=>ee})}},it=>{it(it.s=6971)}]);